<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 161. Pine 2</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Pine 2</h1><div class="subheading">Chatting with the Princess: Example 161 ★★★</div></div></div>
<div class="linkback">
<a href="../WI_10.html#section_5" title="Scenes &gt; Linking scenes together">WI §10.5 Linking scenes together</a><br><a href="../RB_7.html#section_12" title="Other Characters &gt; Characters Following a Script">RB §7.12 Characters Following a Script</a>
</div>
<p class="example-desc">Pine: Adding a conversation with the princess, in which a basic set of facts must be covered before the scene is allowed to end.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="pine.html" title="Pine: Using a scene to watch for the solution of a puzzle, however arrived-at by the player."><div class="nav-arrow">←</div> <div class="doc-navbar-text">154. Pine 1</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="pine3.html" title="Pine: Allowing the player to visit aspects of the past in memory and describe these events to the princess, as a break from the marriage-proposal scene."><div class="doc-navbar-text">165. Pine 3</div> <div class="nav-arrow">→</div></a></div></div></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="day_one.html" title="A scene which plays through a series of events in order, then ends when the list of events is exhausted."><div class="nav-arrow">←</div> <div class="doc-navbar-text">160. Day One</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="prague_job.html" title="Scenes used to provide pacing while the player goes through his possessions."><div class="doc-navbar-text">162. The Prague Job</div> <div class="nav-arrow">→</div></a></div></div>
</header>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex161">Play/modify Pine in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Pine2/index.html">Play Pine in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Pine&quot;\n\nA person can be asleep or awake. A person can be active or passive.\n\nThe Spinning Tower is a room. &quot;A remote corner of the old castle, reserved for spinning and weaving tasks.&quot;\n\nSleeping Beauty is an asleep woman in the Spinning Tower. &quot;[if asleep]Sleeping Beauty lies here, oblivious to your presence[otherwise]Sleeping Beauty stands beside you, looking a little confused[end if].&quot; The description is &quot;She is even more magnificent than the rumors suggested.&quot; Understand &quot;woman&quot; or &quot;girl&quot; or &quot;princess&quot; or &quot;lady&quot; as Sleeping Beauty.\n\nDiscovery is a scene. Discovery begins when play begins. Discovery ends when Sleeping Beauty is awake. Marriage Proposal is a scene. Marriage Proposal begins when Discovery ends.\n\nWhen Discovery ends: say &quot;Throughout the palace you can hear the other sounds of stirring and movement as the spell of centuries is broken.&quot;\n\nInstead of waking an awake person: say &quot;Redundant.&quot;\n\nInstead of waking an asleep person: say &quot;Yes, but how?&quot;\n\nInstead of attacking an asleep person:\n\tnow the noun is awake;\n\tsay &quot;[The noun] sits bolt upright. &apos;Hey! Ow!&apos; So much for that true love&apos;s kiss nonsense.&quot;\n\nInstead of kissing an asleep person:\n\tnow the noun is awake;\n\tsay &quot;[The noun] slowly stirs to wakefulness!&quot;\n\nInstead of throwing water at an asleep person:\n\tnow the second noun is awake;\n\tnow the noun is nowhere;\n\tsay &quot;You pour out [the noun] on [the second noun].\n\n[The second noun] wakes, shuddering. &apos;Agh! I had a terrible dream about drowning and then-- Hey!&apos;&quot;\n\nThe player carries a jug of water. Understand &quot;pour [something] on [something]&quot; or &quot;splash [something] at/on [something]&quot; as throwing it at.\n\n\nTable of Conversation\ntopic\treply\tquip\n&quot;dream/dreams/nightmare/nightmares/sleep&quot;\t&quot;&apos;Sleep well?&apos; you ask solicitously.\n\n&apos;Not really,&apos; she replies, edging away from you. So much for that angle.&quot;\t&quot;&apos;Ghastly nightmares,&apos; she remarks. You nod politely.&quot;\n&quot;marriage/love/wedding/boyfriend/beau/lover&quot;\t&quot;&apos;So,&apos; you say. &apos;This is a little weird since we just met, but, um. Would you like to get married?&apos;\n\nShe looks at you nervously. &apos;Do I have to?&apos;&quot;\t&quot;&apos;I, er,&apos; she says. &apos;I hope I&apos;m not supposed to marry you or something.&apos;&quot;\n&quot;marriage/love/wedding/boyfriend/beau/lover&quot;\t&quot;&apos;I was told I was going to marry you and inherit the kingdom,&apos; you say, apologetically. &apos;Would that be very bad?&apos;\n\n&apos;Oh, it&apos;s not you -- I&apos;m seeing someone,&apos; she says, smiling quickly.\n\nYou try to think how to point out that it&apos;s been a hundred years since she last saw her boyfriend.&quot;\t&quot;&apos;Do you think I could go look for someone? I&apos;m seeing him, you see, and I think I&apos;ve been... sick... for a while, so he might be worried.&apos;\n\nYou try to think how to point out that it&apos;s been a hundred years since she last saw her boyfriend.&quot;\n&quot;marriage/love/wedding/boyfriend/beau/lover&quot;\t&quot;&apos;You&apos;ve been up here for a hundred years,&apos; you say. An unpleasant thought occurs to you. &apos;Was your young man in the castle somewhere?&apos;\n\nShe shakes her head mutely.&quot;\t&quot;She goes to the window and looks out at the now-fading thicket of briar. &apos;That took a while to grow,&apos; she observes. &apos;I&apos;ve been up here longer than I thought.&apos;\n\nYou shrug, uncomfortable.&quot;\n\nInstead of asking an awake beauty about a topic listed in the Table of Conversation:\n\tnow Beauty is passive;\n\tsay &quot;[reply entry][paragraph break]&quot;;\n\tblank out the whole row.\n\n\nInstead of telling an awake beauty about something: try asking the noun about it.\n\nInstead of asking an asleep person about something:\n\tsay &quot;[The noun] snores.&quot;\n\nMarriage Proposal ends when the number of filled rows in the Table of Conversation is 0.\n\nEvery turn during Marriage Proposal:\n\tif Beauty is active:\n\t\trepeat through Table of Conversation:\n\t\t\tsay &quot;[quip entry][paragraph break]&quot;;\n\t\t\tblank out the whole row;\n\t\t\tmake no decision.\n\n\nEvery turn: now Beauty is active.\n\nWhen Marriage Proposal ends: end the story saying &quot;This is going to take some explaining.&quot;\n\nTest me with &quot;x beauty / wake beauty / pour water on beauty / ask beauty about sleep / z / ask beauty about marriage&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Pine&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A person can be asleep or awake. A person can be active or passive.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Spinning Tower is a room. &quot;A remote corner of the old castle, reserved for spinning and weaving tasks.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Sleeping Beauty is an asleep woman in the Spinning Tower. &quot;[if asleep]Sleeping Beauty lies here, oblivious to your presence[otherwise]Sleeping Beauty stands beside you, looking a little confused[end if].&quot; The description is &quot;She is even more magnificent than the rumors suggested.&quot; Understand &quot;woman&quot; or &quot;girl&quot; or &quot;princess&quot; or &quot;lady&quot; as Sleeping Beauty.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Discovery is a scene. Discovery begins when play begins. Discovery ends when Sleeping Beauty is awake. Marriage Proposal is a scene. Marriage Proposal begins when Discovery ends.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">When Discovery ends: say &quot;Throughout the palace you can hear the other sounds of stirring and movement as the spell of centuries is broken.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of waking an awake person: say &quot;Redundant.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of waking an asleep person: say &quot;Yes, but how?&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of attacking an asleep person:</div>
<div class="codeline">&ensp;&ensp;now the noun is awake;</div>
<div class="codeline">&ensp;&ensp;say &quot;[The noun] sits bolt upright. &#39;Hey! Ow!&#39; So much for that true love&#39;s kiss nonsense.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of kissing an asleep person:</div>
<div class="codeline">&ensp;&ensp;now the noun is awake;</div>
<div class="codeline">&ensp;&ensp;say &quot;[The noun] slowly stirs to wakefulness!&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of throwing water at an asleep person:</div>
<div class="codeline">&ensp;&ensp;now the second noun is awake;</div>
<div class="codeline">&ensp;&ensp;now the noun is nowhere;</div>
<div class="codeline">&ensp;&ensp;say &quot;You pour out [the noun] on [the second noun].</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">[The second noun] wakes, shuddering. &#39;Agh! I had a terrible dream about drowning and then-- Hey!&#39;&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The player carries a jug of water. Understand &quot;pour [something] on [something]&quot; or &quot;splash [something] at/on [something]&quot; as throwing it at.</div>
</div><p>So much, we had before. Now, suppose we want a conversation style which allows the player to move conversation forward by asking appropriate questions, but which will keep moving forward even if he doesn&#39;t. To this end, we provide a table -- a borrowing from a later chapter. In the table, we record two ways of performing each conversation bit, one which reflects the player&#39;s participation, and one in which the character moves things onward:</p>
<div class="codeblock"><div class="codeline tablename">Table of Conversation</div><table>
<tr><td>topic</td><td>reply</td><td>quip</td></tr><tr><td>&quot;dream/dreams/nightmare/nightmares/sleep&quot;</td><td>&quot;&#39;Sleep well?&#39; you ask solicitously.

&quot;&#39;Ghastly nightmares,&#39; she remarks. You nod politely.&quot;</td><td>&#39;Not really,&#39; she replies, edging away from you. So much for that angle.&quot;</td></tr><tr><td>&quot;marriage/love/wedding/boyfriend/beau/lover&quot;</td><td>&quot;&#39;So,&#39; you say. &#39;This is a little weird since we just met, but, um. Would you like to get married?&#39;

&quot;&#39;I, er,&#39; she says. &#39;I hope I&#39;m not supposed to marry you or something.&#39;&quot;</td><td>She looks at you nervously. &#39;Do I have to?&#39;&quot;</td></tr><tr><td>&quot;marriage/love/wedding/boyfriend/beau/lover&quot;</td><td>&quot;&#39;I was told I was going to marry you and inherit the kingdom,&#39; you say, apologetically. &#39;Would that be very bad?&#39;

&#39;Oh, it&#39;s not you -- I&#39;m seeing someone,&#39; she says, smiling quickly.

&quot;&#39;Do you think I could go look for someone? I&#39;m seeing him, you see, and I think I&#39;ve been... sick... for a while, so he might be worried.&#39;</td><td>You try to think how to point out that it&#39;s been a hundred years since she last saw her boyfriend.&quot;

You try to think how to point out that it&#39;s been a hundred years since she last saw her boyfriend.&quot;</td></tr><tr><td>&quot;marriage/love/wedding/boyfriend/beau/lover&quot;</td><td>&quot;&#39;You&#39;ve been up here for a hundred years,&#39; you say. An unpleasant thought occurs to you. &#39;Was your young man in the castle somewhere?&#39;

&quot;She goes to the window and looks out at the now-fading thicket of briar. &#39;That took a while to grow,&#39; she observes. &#39;I&#39;ve been up here longer than I thought.&#39;</td><td>She shakes her head mutely.&quot;

You shrug, uncomfortable.&quot;</td></tr></table>
<div class="codeline">Instead of asking an awake beauty about a topic listed in the Table of Conversation:</div>
<div class="codeline">&ensp;&ensp;now Beauty is passive;</div>
<div class="codeline">&ensp;&ensp;say &quot;[reply entry][paragraph break]&quot;;</div>
<div class="codeline">&ensp;&ensp;blank out the whole row.</div>
</div><p>The &quot;now Beauty is passive&quot; line prevents her from making any conversation of her own on a turn when we&#39;ve spoken to her. This keeps the conversation from progressing too quickly.</p>
<div class="codeblock"><div class="codeline">Instead of telling an awake beauty about something: try asking the noun about it.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of asking an asleep person about something:</div>
<div class="codeline">&ensp;&ensp;say &quot;[The noun] snores.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Marriage Proposal ends when the number of filled rows in the Table of Conversation is 0.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Every turn during Marriage Proposal:</div>
<div class="codeline">&ensp;&ensp;if Beauty is active:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;repeat through Table of Conversation:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;[quip entry][paragraph break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;blank out the whole row;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;make no decision.</div>
</div><p>After we&#39;ve generated any spontaneous conversation, we return her to her regular active state.</p>
<div class="codeblock"><div class="codeline">Every turn: now Beauty is active.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">When Marriage Proposal ends: end the story saying &quot;This is going to take some explaining.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;x beauty / wake beauty / pour water on beauty / ask beauty about sleep / z / ask beauty about marriage&quot;.</div>
</div><details class="testme-output"><summary>Test me with "x beauty / wake beauty / pour water on beauty / ask beauty about sleep / z / ask beauty about marriage".</summary><div class="testme-output">Spinning Tower<br>A remote corner of the old castle, reserved for spinning and weaving tasks.<br><br>Sleeping Beauty lies here, oblivious to your presence.<br><br>&gt;(Testing.)<br><br>&gt;[1] x beauty<br>She is even more magnificent than the rumors suggested.<br><br>&gt;[2] wake beauty<br>Yes, but how?<br><br>&gt;[3] pour water on beauty<br>You pour out the jug of water on Sleeping Beauty.<br><br>Sleeping Beauty wakes, shuddering. &quot;Agh! I had a terrible dream about drowning and then-- Hey!&quot;<br><br>Throughout the palace you can hear the other sounds of stirring and movement as the spell of centuries is broken.<br><br>&quot;Ghastly nightmares,&quot; she remarks. You nod politely.<br><br>&gt;[4] ask beauty about sleep<br>There is no reply.<br><br>&quot;I, er,&quot; she says. &quot;I hope I&#39;m not supposed to marry you or something.&quot;<br><br>&gt;[5] z<br>Time passes.<br><br>&quot;Do you think I could go look for someone? I&#39;m seeing him, you see, and I think I&#39;ve been... sick... for a while, so he might be worried.&quot;<br><br>You try to think how to point out that it&#39;s been a hundred years since she last saw her boyfriend.<br><br>&gt;[6] ask beauty about marriage<br>&quot;You&#39;ve been up here for a hundred years,&quot; you say. An unpleasant thought occurs to you. &quot;Was your young man in the castle somewhere?&quot;<br><br>She shakes her head mutely.<br><br><br><br>    *** This is going to take some explaining. ***
</div></details><p>Now we have a scenario in which the player can ask her some questions out of order if he really wants to, but the scene will not end until the basic conversation topics have been exhausted. If we wanted to add some other chit-chat, not as part of the main conversation strand, but by way of optional enrichment, we might make a second conversation table and record alternative outcomes in it.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="pine.html" title="Pine: Using a scene to watch for the solution of a puzzle, however arrived-at by the player."><div class="nav-arrow">←</div> <div class="doc-navbar-text">154. Pine 1</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="pine3.html" title="Pine: Allowing the player to visit aspects of the past in memory and describe these events to the princess, as a break from the marriage-proposal scene."><div class="doc-navbar-text">165. Pine 3</div> <div class="nav-arrow">→</div></a></div></div></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="day_one.html" title="A scene which plays through a series of events in order, then ends when the list of events is exhausted."><div class="nav-arrow">←</div> <div class="doc-navbar-text">160. Day One</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="prague_job.html" title="Scenes used to provide pacing while the player goes through his possessions."><div class="doc-navbar-text">162. The Prague Job</div> <div class="nav-arrow">→</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="nav-about" href="../about.html">About this edition</a> &bull; <a class="nav-about" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
