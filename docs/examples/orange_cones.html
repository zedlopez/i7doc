<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 120. Orange Cones</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body><main>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Orange Cones</h1><div class="subheading"><wbr><div class="ex-no">Example 120</div> ★★★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_8.html#section_8" title="Change &gt; Moving backdrops"><div class="nav-arrow"><span class="sc">wi</span>&nbsp;8.8</div><div class="doc-navbar-text">Moving backdrops</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_3.html#section_9" title="Place &gt; Passers-By, Weather and Astronomical Events"><div class="doc-navbar-text">Passers-By, Weather and Astronomical Events</div><div class="nav-arrow"><span class="sc">rb</span>&nbsp;3.9</div></a></div></div>
</div>
<div class="example-meta-desc"><p>Creating a traffic backdrop that appears in all road rooms except the one in which the player has laid down orange cones.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="meteoric_i_and_ii.html" title="A meteor in the night sky which is visible from many rooms, so needs to be a backdrop, but which does not appear until 11:31 PM."><div class="nav-arrow">⬅119. </div><div class="doc-navbar-text">Meteoric I and II</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="terror_of_the_sierra_madre.html" title="Multiple player characters who take turns controlling the action."><div class="doc-navbar-text">Terror of the Sierra Madre</div><div class="nav-arrow">121.⮕</div></a></div></div>
</header>
<div class="example-body"><p>Because we can invent our own adjectives (see the chapter on Phrases), we can make the conditions for a backdrop as simple or as complicated as we like.</p>
<p>In this scenario, we want the player to be able to take, move, and drop orange traffic cones to seal off one street or another. So we create our own &quot;accessible&quot; adjective as follows:</p>
<div class="codeblock"><div class="codeline">Definition: a road is accessible if the orange cones are not in it.</div>
</div><p>&hellip;and now</p>
<div class="codeblock"><div class="codeline">move the traffic backdrop to all accessible roads.</div>
</div><p>will tell the traffic backdrop where to appear.</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex120">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="OrangeCones/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Orange Cones&quot;\n\nA road is a kind of room.\n\nThe traffic is a backdrop. It is not scenery. The initial appearance is &quot;Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.&quot; The description is &quot;It is more or less as usual for this time of day. It&apos;s a wonder it ever dissipates, really.&quot;\n\nWhen play begins:\n\tmove the traffic backdrop to all accessible roads.\n\nA line of orange cones are a thing.\n\nDefinition: a road is accessible if the orange cones are not in it.\n\nAfter dropping the orange cones in a road:\n\tsay &quot;With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.&quot;;\n\tupdate backdrop positions.\n\nAfter taking the orange cones:\n\tsay &quot;You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.&quot;;\n\tupdate backdrop positions.\n\n\nThe Town Square is a road. North of the Town Square is Candle Street. Candle Street is a road. East of Town Square is Mortar Street. Mortar Street is a road.\n\nThe line of orange cones are in Mortar Street.\n\nThe player wears a reflective vest and a hard hat.\n\nThe manhole cover is a door. &quot;[if location is accessible]Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.[otherwise]There&apos;s a promising manhole in the middle of the street.[end if]&quot;. It is closed and openable. It is below the Town Square and above the Access Tunnel.\n\nInstead of opening the manhole cover when the location is an accessible road:\n\tsay &quot;You can&apos;t get anywhere near the manhole cover with all these cars above it.&quot;\n\nInstead of taking the orange cones in Town Square:\n\tif the manhole cover is closed or Town Square is accessible, continue the action;\n\totherwise say &quot;You&apos;d better not let the traffic back in until you&apos;ve closed the manhole. There&apos;ll be accidents otherwise.&quot;\n\nAfter going to the Access Tunnel:\n\tsay &quot;With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.&quot;;\n\tend the story finally.\n\n\nRule for writing a paragraph about the orange cones: say &quot;A line of orange cones holds back the traffic from entering here.&quot;\n\nRule for printing the name of the orange cones when the cones are carried by the player:\n\tsay &quot;stack of orange cones&quot;.\n\nTest me with &quot;x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Orange Cones&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">A road is a kind of room.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The traffic is a backdrop. It is not scenery. The initial appearance is &quot;Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.&quot; The description is &quot;It is more or less as usual for this time of day. It&#39;s a wonder it ever dissipates, really.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">When play begins:</div>
<div class="codeline">&ensp;&ensp;&ensp;move the traffic backdrop to all accessible roads.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">A line of orange cones are a thing.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Definition: a road is accessible if the orange cones are not in it.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">After dropping the orange cones in a road:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;update backdrop positions.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">After taking the orange cones:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;update backdrop positions.</div>
</div><p>That accomplishes everything we set out to do, but let&#39;s add a very simple puzzle to test it out with:</p>
<div class="codeblock"><div class="codeline">The Town Square is a road. North of the Town Square is Candle Street. Candle Street is a road. East of Town Square is Mortar Street. Mortar Street is a road.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The line of orange cones are in Mortar Street.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The player wears a reflective vest and a hard hat.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The manhole cover is a door. &quot;[if location is accessible]Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.[otherwise]There&#39;s a promising manhole in the middle of the street.[end if]&quot;. It is closed and openable. It is below the Town Square and above the Access Tunnel.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Instead of opening the manhole cover when the location is an accessible road:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You can&#39;t get anywhere near the manhole cover with all these cars above it.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Instead of taking the orange cones in Town Square:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the manhole cover is closed or Town Square is accessible, continue the action;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise say &quot;You&#39;d better not let the traffic back in until you&#39;ve closed the manhole. There&#39;ll be accidents otherwise.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">After going to the Access Tunnel:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;end the story finally.</div>
</div><p>And finally, a couple of features from the Activities chapter to make the output more elegant:</p>
<div class="codeblock"><div class="codeline">Rule for writing a paragraph about the orange cones: say &quot;A line of orange cones holds back the traffic from entering here.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Rule for printing the name of the orange cones when the cones are carried by the player:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;stack of orange cones&quot;.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "x traffic / open manhole / n / x traffic / s / e / x traffic / get cones / look / x traffic / w / drop cones / look / open manhole / take cones / d".</div></summary><div class="testme-output">Town Square<br>Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.<br><br>Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] x traffic</span><br>It is more or less as usual for this time of day. It&#39;s a wonder it ever dissipates, really.<br><br><span class="mono">&gt;[2] open manhole</span><br>You can&#39;t get anywhere near the manhole cover with all these cars above it.<br><br><span class="mono">&gt;[3] n</span><br><br>Candle Street<br>Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.<br><br><span class="mono">&gt;[4] x traffic</span><br>It is more or less as usual for this time of day. It&#39;s a wonder it ever dissipates, really.<br><br><span class="mono">&gt;[5] s</span><br><br>Town Square<br>Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.<br><br>Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.<br><br><span class="mono">&gt;[6] e</span><br><br>Mortar Street<br>A line of orange cones holds back the traffic from entering here.<br><br><span class="mono">&gt;[7] x traffic</span><br>You can&#39;t see any such thing.<br><br><span class="mono">&gt;[8] get cones</span><br>You go around taking up the orange cones, and within moments the traffic begins to flow into the street again.<br><br><span class="mono">&gt;[9] look</span><br>Mortar Street<br>Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.<br><br><span class="mono">&gt;[10] x traffic</span><br>It is more or less as usual for this time of day. It&#39;s a wonder it ever dissipates, really.<br><br><span class="mono">&gt;[11] w</span><br><br>Town Square<br>Dense traffic snarls the streets, making it difficult to cross even with the lights. Men on motorbikes edge between the cars, and sometimes pull up onto the sidewalks to go around.<br><br>Under the cars in the middle of the street, you can just make out the cover of the manhole you need to get into.<br><br><span class="mono">&gt;[12] drop cones</span><br>With steely determination you begin to lay out the orange cones, blocking access to this segment of street. This produces honking and swearing -- but you persevere.<br><br><span class="mono">&gt;[13] look</span><br>Town Square<br>A line of orange cones holds back the traffic from entering here.<br><br>There&#39;s a promising manhole in the middle of the street.<br><br><span class="mono">&gt;[14] open manhole</span><br>You open the manhole cover.<br><br><span class="mono">&gt;[15] take cones</span><br>You&#39;d better not let the traffic back in until you&#39;ve closed the manhole. There&#39;ll be accidents otherwise.<br><br><span class="mono">&gt;[16] d</span><br>With a stealthy glance left and right, you lower yourself into the access tunnel, thus accomplishing your mission for Chapter 2. To continue your adventure, see Chapter 3: The Vault of Peaquod.<br><br><br><br>    *** The End ***
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="meteoric_i_and_ii.html" title="A meteor in the night sky which is visible from many rooms, so needs to be a backdrop, but which does not appear until 11:31 PM."><div class="nav-arrow">⬅119. </div><div class="doc-navbar-text">Meteoric I and II</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="terror_of_the_sierra_madre.html" title="Multiple player characters who take turns controlling the action."><div class="doc-navbar-text">Terror of the Sierra Madre</div><div class="nav-arrow">121.⮕</div></a></div></div>
</main><footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://mastodon.gamedev.place/web/@inform7tips">@inform7tips@mastodon.gamedev.place</a></p></div></footer>
</body></html>
