<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 212. Carnivale</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Carnivale</h1><div class="subheading"><wbr><div class="ex-no">Example 212</div> ★★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_12.html#section_16" title="Advanced Actions &gt; Reaching inside and reaching outside rules"><div class="nav-arrow"><span class="sc">wi</span> 12.16</div><div class="doc-navbar-text">Reaching inside and reaching outside rules</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_3.html#section_4" title="Place &gt; Continuous Spaces and The Outdoors"><div class="doc-navbar-text">Continuous Spaces and The Outdoors</div><div class="nav-arrow"><span class="sc">rb</span> 3.4</div></a></div></div>
</div>
<div class="example-meta-desc"><p>An alternative to backdrops when we want something to be visible from a distance but only touchable from one room.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="point_for_never_saving_the_game.html" title="In some of the late 1970s &quot;cave crawl&quot; adventure games, an elaborate scoring system might still leave the player perplexed as to why an apparently perfect play-through resulted in a score which was still one point short of the supposed maximum. Why only 349 out of 350? The answer varied, but sometimes the last point was earned by never saving the game &ndash; in other words by playing it right through with nothing to guard against mistakes (except perhaps UNDO for the last command), and in one long session."><div class="nav-arrow">⬅211. </div><div class="doc-navbar-text">A point for never saving the game</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="eddystone.html" title="Creating new commands involving the standard compass directions."><div class="doc-navbar-text">Eddystone</div><div class="nav-arrow">213.⮕</div></a></div></div>
</header>
<div class="example-body"><p>Suppose we want to make an object that (unlike a backdrop) is definitely located in one room, but can be seen from far off. We want to allow the player to interact with it from a distance, but only using those actions that require visibility. Other actions should be denied:</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex212">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="Carnivale/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Carnivale&quot;\n\nThe Fairground is a region. Park Entrance, By the Wheel, and Candy Stand are in Fairground. Candy Stand is north of By the Wheel. Park Entrance is west of Candy Stand and northwest of By the Wheel.\n\nThe ferris wheel is scenery in By the Wheel. &quot;It is extravagantly tall and carries several dozen glass gondolas for riders.&quot;\n\nThe description of By the Wheel is &quot;You stand at the foot of an enormous ferris wheel, which turns far too quickly and never seems to stop for new riders.&quot;\n\nThe description of Park Entrance is &quot;You are now just inside the gates. Behind you snakes a triple line of fairgoers all the way down the length of the valley to the railway station. Roughly southeast of here is the ferris wheel, towering over the other attractions.&quot;\n\nThe description of Candy Stand is &quot;A hut in pale pink and baby blue dispenses marshmallow death&apos;s-heads, sugar-beetles, and other such treats. The giant ferris wheel is just off to the south from here.&quot;\n\n\nAfter deciding the scope of the player:\n\tif the location is in Fairground, place the ferris wheel in scope.\n\n\nRule for reaching inside a room:\n\tsay &quot;You can only look from this distance.&quot;;\n\tdeny access.\n\n\nInstead of touching the ferris wheel:\n\tsay &quot;You don&apos;t dare: it&apos;s spinning too fast.&quot;\n\nTest me with &quot;x ferris wheel / touch ferris wheel / se / x ferris wheel / touch ferris wheel&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Carnivale&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Fairground is a region. Park Entrance, By the Wheel, and Candy Stand are in Fairground. Candy Stand is north of By the Wheel. Park Entrance is west of Candy Stand and northwest of By the Wheel.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The ferris wheel is scenery in By the Wheel. &quot;It is extravagantly tall and carries several dozen glass gondolas for riders.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The description of By the Wheel is &quot;You stand at the foot of an enormous ferris wheel, which turns far too quickly and never seems to stop for new riders.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The description of Park Entrance is &quot;You are now just inside the gates. Behind you snakes a triple line of fairgoers all the way down the length of the valley to the railway station. Roughly southeast of here is the ferris wheel, towering over the other attractions.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The description of Candy Stand is &quot;A hut in pale pink and baby blue dispenses marshmallow death&#39;s-heads, sugar-beetles, and other such treats. The giant ferris wheel is just off to the south from here.&quot;</div>
</div><p>As the descriptions make clear, the ferris wheel should be visible from everywhere in the fair, so we&#39;ll borrow a line from the <a href="WI_18.html">Activities chapter</a> to make that happen:</p>
<div class="codeblock"><div class="codeline">After deciding the scope of the player:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the location is in Fairground, place the ferris wheel in scope.</div>
</div><p>&quot;Scope&quot; determines what the player can interact with; by writing this rule, we make Inform understand all commands that refer to the ferris wheel when the player is anywhere in the fairground, instead of responding with</p>
<div class="codeblock"><div class="codeline">You can&#39;t see any such thing.</div>
</div><p>as it normally would.</p>
<p>Now, by default, if the player were to type TOUCH FERRIS WHEEL while in another room, he would get the response</p>
<div class="codeblock"><div class="codeline">You can&#39;t reach into By the Wheel.</div>
</div><p>This may not be quite what we want, but we can replace this text with our own reaching inside rule:</p>
<div class="codeblock"><div class="codeline">Rule for reaching inside a room:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You can only look from this distance.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;deny access.</div>
</div><p>And because our accessibility rules are considered before the &quot;Instead&quot; phase, we can write the following rule confident that it will apply only when the player is in fact in range to touch the ferris wheel:</p>
<div class="codeblock"><div class="codeline">Instead of touching the ferris wheel:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You don&#39;t dare: it&#39;s spinning too fast.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;x ferris wheel / touch ferris wheel / se / x ferris wheel / touch ferris wheel&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "x ferris wheel / touch ferris wheel / se / x ferris wheel / touch ferris wheel".</div></summary><div class="testme-output">Park Entrance<br>You are now just inside the gates. Behind you snakes a triple line of fairgoers all the way down the length of the valley to the railway station. Roughly southeast of here is the ferris wheel, towering over the other attractions.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] x ferris wheel</span><br>It is extravagantly tall and carries several dozen glass gondolas for riders.<br><br><span class="mono">&gt;[2] touch ferris wheel</span><br>You can only look from this distance.<br><br><span class="mono">&gt;[3] se</span><br><br>By the Wheel<br>You stand at the foot of an enormous ferris wheel, which turns far too quickly and never seems to stop for new riders.<br><br><span class="mono">&gt;[4] x ferris wheel</span><br>It is extravagantly tall and carries several dozen glass gondolas for riders.<br><br><span class="mono">&gt;[5] touch ferris wheel</span><br>You don&#39;t dare: it&#39;s spinning too fast.
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="point_for_never_saving_the_game.html" title="In some of the late 1970s &quot;cave crawl&quot; adventure games, an elaborate scoring system might still leave the player perplexed as to why an apparently perfect play-through resulted in a score which was still one point short of the supposed maximum. Why only 349 out of 350? The answer varied, but sometimes the last point was earned by never saving the game &ndash; in other words by playing it right through with nothing to guard against mistakes (except perhaps UNDO for the last command), and in one long session."><div class="nav-arrow">⬅211. </div><div class="doc-navbar-text">A point for never saving the game</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="eddystone.html" title="Creating new commands involving the standard compass directions."><div class="doc-navbar-text">Eddystone</div><div class="nav-arrow">213.⮕</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
