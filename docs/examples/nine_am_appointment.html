<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 388. Nine AM Appointment</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Nine AM Appointment</h1><div class="subheading"><wbr><div class="ex-no">Example 388</div> ★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_19.html#section_2" title="Rulebooks &gt; Named rules and rulebooks"><div class="nav-arrow"><span class="sc">wi</span> 19.2</div><div class="doc-navbar-text">Named rules and rulebooks</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_6.html#section_11" title="Commands &gt; Waiting, Sleeping"><div class="doc-navbar-text">Waiting, Sleeping</div><div class="nav-arrow"><span class="sc">rb</span> 6.11</div></a></div></div>
</div>
<div class="example-meta-desc"><p>A WAIT [number] MINUTES command which advances through an arbitrary number of turns.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="blankness.html" title="Emptying the status line during the first screen of the game."><div class="nav-arrow">⬅387. </div><div class="doc-navbar-text">Blankness</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="delayed_gratification.html" title="A WAIT UNTIL [time] command which advances until the game clock reaches the correct hour."><div class="doc-navbar-text">Delayed Gratification</div><div class="nav-arrow">389.⮕</div></a></div></div>
</header>
<div class="example-body"><p>If there&#39;s some reason the player needs to be at a specific place and time, we might want to allow him to wait a number of minutes at once.</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex388">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="WaitMore/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Nine AM Appointment&quot;\n\nWaiting more is an action applying to one number.\n\nUnderstand &quot;wait [a time period]&quot; or &quot;wait for [a time period]&quot; or &quot;wait for a/an [a time period]&quot; or &quot;wait a/an [a time period]&quot; as waiting more.\n\nCarry out waiting more:\n\tlet the target time be the time of day plus the time understood;\n\tdecrease the target time by one minute;\n\twhile the time of day is not the target time:\n\t\tfollow the turn sequence rules.\n\n\nReport waiting more:\n\tsay &quot;It is now [time of day + 1 minute].&quot;\n\n\nCheck waiting more:\n\tif the time understood is greater than one hour, say &quot;You really haven&apos;t got that kind of patience.&quot; instead.\n\nThe Specialist&apos;s Office is a room. The secretary is a woman in the Office. Instead of asking the secretary about &quot;[appointment]&quot;, say &quot;&apos;Hang on just five more minutes,&apos; she says, in a distracted manner.&quot;\n\nUnderstand &quot;appointment&quot; or &quot;specialist&quot; or &quot;doctor&quot; as &quot;[appointment]&quot;.\n\nAt 9:45 AM: say &quot;At [the time of day in words], secretary glances at you and gives a reassuring smile.&quot;\n\nTest me with &quot;ask secretary about appointment / wait five minutes / g / g / wait 61 minutes / wait for half an hour / wait for a quarter of an hour / wait for an hour&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Nine AM Appointment&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Waiting more is an action applying to one number.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;wait [a time period]&quot; or &quot;wait for [a time period]&quot; or &quot;wait for a/an [a time period]&quot; or &quot;wait a/an [a time period]&quot; as waiting more.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Carry out waiting more:</div>
<div class="codeline">&ensp;&ensp;&ensp;let the target time be the time of day plus the time understood;</div>
<div class="codeline">&ensp;&ensp;&ensp;decrease the target time by one minute;</div>
<div class="codeline">&ensp;&ensp;&ensp;while the time of day is not the target time:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;follow the turn sequence rules.</div>
</div><p>The one nuance here is that after our wait command occurs, the turn sequence rules will occur one more time. So we need to subtract one minute from the parsed time to make the turn end on the desired number of minutes.</p>
<div class="codeblock"><div class="codeline">Report waiting more:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;It is now [time of day + 1 minute].&quot;</div>
</div><p>And if we want to ensure that the player doesn&#39;t (accidentally or intentionally) put the interpreter through a really long loop, we could put an upper limit on his patience:</p>
<div class="codeblock"><div class="codeline">Check waiting more:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the time understood is greater than one hour, say &quot;You really haven&#39;t got that kind of patience.&quot; instead.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Specialist&#39;s Office is a room. The secretary is a woman in the Office. Instead of asking the secretary about &quot;[appointment]&quot;, say &quot;&#39;Hang on just five more minutes,&#39; she says, in a distracted manner.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;appointment&quot; or &quot;specialist&quot; or &quot;doctor&quot; as &quot;[appointment]&quot;.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">At 9:45 AM: say &quot;At [the time of day in words], secretary glances at you and gives a reassuring smile.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;ask secretary about appointment / wait five minutes / g / g / wait 61 minutes / wait for half an hour / wait for a quarter of an hour / wait for an hour&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "ask secretary about appointment / wait five minutes / g / g / wait 61 minutes / wait for half an hour / wait for a quarter of an hour / wait for an hour".</div></summary><div class="testme-output">Specialist&#39;s Office<br>You can see a secretary here.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] ask secretary about appointment</span><br>&quot;Hang on just five more minutes,&quot; she says, in a distracted manner.<br><br><span class="mono">&gt;[2] wait five minutes</span><br>It is now 9:06 am.<br><br><span class="mono">&gt;[3] g</span><br>It is now 9:11 am.<br><br><span class="mono">&gt;[4] g</span><br>It is now 9:16 am.<br><br><span class="mono">&gt;[5] wait 61 minutes</span><br>You really haven&#39;t got that kind of patience.<br><br><span class="mono">&gt;[6] wait for half an hour</span><br>At quarter to ten, secretary glances at you and gives a reassuring smile.<br><br>It is now 9:47 am.<br><br><span class="mono">&gt;[7] wait for a quarter of an hour</span><br>It is now 10:02 am.<br><br><span class="mono">&gt;[8] wait for an hour</span><br>It is now 11:02 am.
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="blankness.html" title="Emptying the status line during the first screen of the game."><div class="nav-arrow">⬅387. </div><div class="doc-navbar-text">Blankness</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="delayed_gratification.html" title="A WAIT UNTIL [time] command which advances until the game clock reaches the correct hour."><div class="doc-navbar-text">Delayed Gratification</div><div class="nav-arrow">389.⮕</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
