<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 207. Barter Barter</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<h1>Barter Barter</h1><div class="subheading">Example 207 ★★★</div>
<div class="linkback">
<a href="../WI_12.html#section_12" title="Advanced Actions &gt; Check rules for actions by other people">WI §12.12 Check rules for actions by other people</a><br><a href="../RB_7.html#section_4" title="Other Characters &gt; Barter and Exchange">RB §7.4 Barter and Exchange</a>
</div>
<p class="example-desc">Allowing characters other than the player to give objects to one another, accounting for the possibility that some items may not be desired by the intended recipients.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="get_axe.html" title="Changing the check rules to try automatically leaving a container before attempting to take it. (And arranging things so that other people will do likewise.)">206. Get Axe</a></div><div class="doc-navbar-right"><a href="man_of_steel_excuses_himself.html" title="Elaborating the report rules to be more interesting than &quot;Clark goes west.&quot;">208. The Man of Steel Excuses Himself</a></div></div>
</header>
<p>By default, if we make no modifications, telling one player to give something to another will fail, even if persuasion succeeds. This is because the default behavior of the GIVE command is interrupted by the &quot;block giving rule&quot; -- since in many cases we do not want people to exchange objects freely.</p>
<p>However, suppose that we do want characters to be able to exchange articles freely: we allow persuasion to succeed and turn off the &quot;block giving rule&quot;.</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex207">Play/modify Barter Barter in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Barter/index.html">Play Barter Barter in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Barter Barter&quot;\n\nThe block giving rule is not listed in the check giving it to rules.\n\nA persuasion rule for asking people to try giving: persuasion succeeds.\n\nThe Trading Post is a room.\n\nMeriwether Lewis is a man in the Trading Post. He carries a fluffy handmade quilt and a bag of beans. The beans are edible.\n\nWilliam Clark is a man in the Trading Post. He carries leather slippers, a journal, and a loaf of bread. The bread is edible. The slippers are wearable.\n\nInstead of examining someone:\n\tsay &quot;[The noun] is carrying [the list of things carried by the noun].&quot;\n\n\nCheck someone trying giving something to someone (this is the sneering refusal rule):\n\tif the second noun dislikes the noun, stop the action.\n\nUnsuccessful attempt by someone trying doing something:\n\tif the reason the action failed is the sneering refusal rule, say &quot;&apos;Would you care for [the noun]?&apos; [the person asked] asks solicitously of [the second noun].\n\nBut [the second noun] refuses [the noun] disdainfully.&quot;;\n\totherwise say &quot;[The person asked] just appears bewildered by this improbable instruction.&quot;\n\nDistaste relates one person to various things. The verb to dislike means the distaste relation.\n\nClark dislikes the beans. Lewis dislikes the bread.\n\n\nTest me with &quot;x lewis / x clark / clark, give the slippers to lewis / clark, give the bread to lewis&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Barter Barter&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The block giving rule is not listed in the check giving it to rules.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A persuasion rule for asking people to try giving: persuasion succeeds.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Trading Post is a room.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Meriwether Lewis is a man in the Trading Post. He carries a fluffy handmade quilt and a bag of beans. The beans are edible.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">William Clark is a man in the Trading Post. He carries leather slippers, a journal, and a loaf of bread. The bread is edible. The slippers are wearable.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of examining someone:</div>
<div class="codeline">&ensp;&ensp;say &quot;[The noun] is carrying [the list of things carried by the noun].&quot;</div>
</div><p>And now we might want to implement a way to keep track of whether the recipient character wants what&#39;s being offered:</p>
<div class="codeblock"><div class="codeline">Check someone trying giving something to someone (this is the sneering refusal rule):</div>
<div class="codeline">&ensp;&ensp;if the second noun dislikes the noun, stop the action.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Unsuccessful attempt by someone trying doing something:</div>
<div class="codeline">&ensp;&ensp;if the reason the action failed is the sneering refusal rule, say &quot;&#39;Would you care for [the noun]?&#39; [the person asked] asks solicitously of [the second noun].</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">But [the second noun] refuses [the noun] disdainfully.&quot;;</div>
<div class="codeline">&ensp;&ensp;otherwise say &quot;[The person asked] just appears bewildered by this improbable instruction.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Distaste relates one person to various things. The verb to dislike means the distaste relation.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Clark dislikes the beans. Lewis dislikes the bread.</div>
</div><p>Since we&#39;ve defined this as a relation, we could change what the characters like and dislike during the course of the game, freely; for instance, characters might grow hungry and suddenly like all the edible articles.</p>
<div class="codeblock"><div class="codeline">Test me with &quot;x lewis / x clark / clark, give the slippers to lewis / clark, give the bread to lewis&quot;.</div>
</div><details class="testme-output"><summary>Test me with "x lewis / x clark / clark, give the slippers to lewis / clark, give the bread to lewis".</summary><div class="testme-output">Trading Post<br>You can see Meriwether Lewis and William Clark here.<br><br>>(Testing.)<br><br>>[1] x lewis<br>Meriwether Lewis is carrying the fluffy handmade quilt and the bag of beans.<br><br>>[2] x clark<br>William Clark is carrying leather slippers, the journal and the loaf of bread.<br><br>>[3] clark, give the slippers to lewis<br>William Clark gives leather slippers to Meriwether Lewis.<br><br>>[4] clark, give the bread to lewis<br>"Would you care for the loaf of bread?" William Clark asks solicitously of Meriwether Lewis.<br><br>But Meriwether Lewis refuses the loaf of bread disdainfully.
</div></details><div class="doc-navbar"><div class="doc-navbar-left"><a href="get_axe.html" title="Changing the check rules to try automatically leaving a container before attempting to take it. (And arranging things so that other people will do likewise.)">206. Get Axe</a></div><div class="doc-navbar-right"><a href="man_of_steel_excuses_himself.html" title="Elaborating the report rules to be more interesting than &quot;Clark goes west.&quot;">208. The Man of Steel Excuses Himself</a></div></div>
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p>Thanks go to <a href="http://nitku.net/blog/">Juhana Leinonen</a> for <a href="https://borogove.app">Borogove</a>. The playable examples use <a href="https://eblong.com">Andrew Plotkin</a>'s <a href="https://eblong.com/zarf/glk/glkote.html">GlkOte</a> and <a href="https://eblong.com/zarf/glulx/quixe/index.html">Quixe</a>, distributed under an <a href="../mit.html">MIT License.</a></p><p class="about"><a href="../about.html">About this edition</a> &bull; <a href="https://twitter.com/inform7tips">@inform7tips</a></p></footer>
</body></html>
