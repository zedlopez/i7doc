<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 242. What Not To Wear</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>What Not To Wear</h1><div class="subheading"><wbr><div class="ex-no">Example 242</div> ★★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_13.html#section_16" title="Relations &gt; What are relations for?"><div class="nav-arrow"><span class="sc">wi</span> 13.16</div><div class="doc-navbar-text">What are relations for?</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_9.html#section_3" title="Props: Food, Clothing, Money, Toys, Books, Electronics &gt; Clothing"><div class="doc-navbar-text">Clothing</div><div class="nav-arrow"><span class="sc">rb</span> 9.3</div></a></div></div>
</div>
<div class="example-meta-desc"><p>A general-purpose clothing system that handles a variety of different clothing items layered in different combinations over different areas of the body.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="murder_on_the_orient_express.html" title="A number of sleuths (the player among them) find themselves aboard the Orient Express, where a murder has taken place, and one of them is apparently the culprit. Naturally they do not agree on whom, but there is physical evidence which may change their minds&hellip;"><div class="nav-arrow">⬅241. </div><div class="doc-navbar-text">Murder on the Orient Express</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="mathematical_view_of_relations.html" title="Some notes on relations from a mathematical point of view, provided only to clarify some technicalities for those who are interested."><div class="doc-navbar-text">Mathematical view of relations</div><div class="nav-arrow">243.⮕</div></a></div></div>
</header>
<div class="example-body"><div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex242">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="WhatNotToWear/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;What Not To Wear&quot;\n\nSection 1 - Overlying and Underlying\n\n\nA garment-element is a kind of thing.\n\nUnderlying relates various garment-elements to various garment-elements with fast route-finding. The verb to underlie means the underlying relation. The verb to be under implies the underlying relation.\n\nCheck taking off:\n\tif the noun underlies something (called the impediment) which is worn by the player, say &quot;[The impediment] [are] in the way.&quot; instead.\n\nCarry out taking off:\n\tnow the noun is not underlaid by anything.\n\nReport taking off something:\n\tsay &quot;[We] [are] now wearing [a list of uppermost things worn by the player].&quot; instead.\n\nDefinition: a garment-element is uppermost if it is not under something opaque.\n\n\nBefore taking off something which underlies something which is worn by the player:\n\twhile the noun underlies something (called the impediment) which is worn by the player:\n\t\tsay &quot;(first removing [the impediment])[command clarification break]&quot;;\n\t\tsilently try taking off the impediment;\n\t\tif the noun underlies the impediment, stop the action.\n\nOverlying relates various garment-elements to various garment-elements. The verb to overlie means the overlying relation.\n\nCovering relates a garment-element (called A) to a garment-element (called B) when the number of steps via the overlying relation from A to B is greater than 0. The verb to cover means the covering relation.\n\nBefore wearing something when a garment which covers the noun is worn by the player:\n\twhile the player wears a garment (called the impediment) which covers the noun:\n\t\tsay &quot;(first removing [the impediment])[command clarification break]&quot;;\n\t\tsilently try taking off the impediment;\n\t\tif the player is wearing the impediment, stop the action.\n\nCarry out wearing:\n\trepeat with hidden item running through things worn by the player:\n\t\tif the noun covers the hidden item, now the hidden item underlies the noun.\n\nInstead of looking under something which is worn by the player:\n\tif something (called the underwear) underlies the noun, say &quot;[We] [peek] at [the underwear]. Yup, still there.&quot;;\n\totherwise say &quot;Just [us] in there.&quot;\n\nInstead of taking inventory:\n\tsay &quot;[if the player carries something][We][&apos;re] carrying [a list of things carried by the player][else][We][&apos;re] empty-handed[end if][if the player wears something]. [We] [are] wearing [a list of uppermost garments worn by the player][end if].&quot;\n\nTo peek is a verb.\n\nSection 2 - Regional Coverage\n\n\nBefore wearing something:\n\tlet N be the layering depth of the noun;\n\trepeat with item running through things worn by the player:\n\t\tif the layering depth of the item is N and the item covers a body-part which is covered by the noun:\n\t\t\tsay &quot;(first taking off [the item])[command clarification break]&quot;;\n\t\t\tsilently try taking off the item;\n\t\t\tif the player wears the item, stop the action.\n\n\nTo decide what number is the layering depth of (chosen garment - a thing):\n\tlet N be 0;\n\tif the chosen garment covers a body-part (called base):\n\t\tlet N be the number of steps via the overlying relation from the chosen garment to the base;\n\tdecide on N.\n\n\nA body-part is a kind of garment-element. A torso, a seat, a head, pair of legs, and pair of feet are kinds of body-part.\n\n\nOne head is part of every person. One torso is part of every person. One pair of legs is part of every person. One pair of feet is part of every person. One seat is part of every person.\n\n\nA garment is a kind of garment-element. A garment can be transparent. A pair of pants, a pair of underpants, a foundation garment, a pair of socks, a pair of shoes, a jacket, a hat, a dress, and a shirt are kinds of garment.\n\nThe plural of pair of pants is pairs of pants. The plural of pair of underpants is pairs of underpants. The plural of pair of socks is pairs of socks. The plural of pair of shoes is pairs of shoes.\n\nA pair of pants, a pair of underpants, a foundation garment, a pair of socks, a pair of shoes, a jacket, a hat, a dress, and a shirt are usually wearable.\n\nWhen play begins:\n\tnow every pair of socks overlies every pair of feet;\n\tnow every pair of shoes overlies every pair of socks;\n\tnow every pair of underpants overlies every seat;\n\tnow every pair of pants overlies every pair of underpants;\n\tnow every foundation garment overlies every torso;\n\tnow every jacket overlies every shirt;\n\tnow every jacket overlies every dress;\n\tnow every hat overlies every head;\n\tnow every dress overlies every pair of underpants;\n\tnow every dress overlies every foundation garment.\n\nSection 2 - The Scenario\n\nThe Dressing Room is a room.\n\nThe player carries some capris, some jeans, a corset, a plunge bra, a thong, boy-shorts, black satin D&apos;Orsay pumps, brown leather boots, a camisole, a cocktail dress, a bolero, a cashmere shrug, a sheer wrap, and a linen tunic.\n\nThe woolly socks are a pair of socks.\nThe D&apos;Orsay pumps and the brown leather boots are pairs of shoes.\nThe thong and the boy-shorts are pairs of underpants.\nThe capris and the jeans are pairs of pants.\nThe tunic is a shirt.\nThe camisole, the corset, and the plunge bra are foundation garments.\nThe cocktail dress is a dress.\nThe bolero, the cashmere shrug, and the sheer wrap are jackets. The shrug and the wrap are transparent.\n\nTest me with &quot;wear capris / wear jeans / i / wear thong / i / wear dress / wear corset / wear dress / i / wear wrap / i / wear boots / wear pumps / i&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;What Not To Wear&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 1 - Overlying and Underlying</div></div><p>We start by borrowing some of the same ideas from the Bogart example, but we&#39;re also going to make a kind called &quot;garment-element&quot;. This kind will include both garments (objects of clothing) and body parts (things that can be covered by clothing); using it allows us to restrict the way our underlying and overlying relations apply, which will make them a bit faster at run-time.</p>
<div class="codeblock"><div class="codeline">A garment-element is a kind of thing.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Underlying relates various garment-elements to various garment-elements with fast route-finding. The verb to underlie means the underlying relation. The verb to be under implies the underlying relation.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Check taking off:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the noun underlies something (called the impediment) which is worn by the player, say &quot;[The impediment] [are] in the way.&quot; instead.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Carry out taking off:</div>
<div class="codeline">&ensp;&ensp;&ensp;now the noun is not underlaid by anything.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Report taking off something:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[We] [are] now wearing [a list of uppermost things worn by the player].&quot; instead.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Definition: a garment-element is uppermost if it is not under something opaque.</div>
</div><p>Here we&#39;ve expanded on the previous ideas of &#39;uppermost&#39; because it is possible for an upper layer to reveal what lies beneath: a tie, a clear plastic trenchcoat, an open-knit sweater, etc. We&#39;ll make such items transparent.</p>
<div class="codeblock"><div class="codeline">Before taking off something which underlies something which is worn by the player:</div>
<div class="codeline">&ensp;&ensp;&ensp;while the noun underlies something (called the impediment) which is worn by the player:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;(first removing [the impediment])[command clarification break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;silently try taking off the impediment;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the noun underlies the impediment, stop the action.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Overlying relates various garment-elements to various garment-elements. The verb to overlie means the overlying relation.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Covering relates a garment-element (called A) to a garment-element (called B) when the number of steps via the overlying relation from A to B is greater than 0. The verb to cover means the covering relation.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Before wearing something when a garment which covers the noun is worn by the player:</div>
<div class="codeline">&ensp;&ensp;&ensp;while the player wears a garment (called the impediment) which covers the noun:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;(first removing [the impediment])[command clarification break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;silently try taking off the impediment;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the player is wearing the impediment, stop the action.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Carry out wearing:</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat with hidden item running through things worn by the player:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the noun covers the hidden item, now the hidden item underlies the noun.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Instead of looking under something which is worn by the player:</div>
<div class="codeline">&ensp;&ensp;&ensp;if something (called the underwear) underlies the noun, say &quot;[We] [peek] at [the underwear]. Yup, still there.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise say &quot;Just [us] in there.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Instead of taking inventory:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[if the player carries something][We][&#39;re] carrying [a list of things carried by the player][else][We][&#39;re] empty-handed[end if][if the player wears something]. [We] [are] wearing [a list of uppermost garments worn by the player][end if].&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">To peek is a verb.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 2 - Regional Coverage</div></div><p>Here we draw in the idea that different clothes go over different areas of the body, and that they should be in competition with each other only if both sets of clothes belong at the same level over the same body area.</p>
<div class="codeblock"><div class="codeline">Before wearing something:</div>
<div class="codeline">&ensp;&ensp;&ensp;let N be the layering depth of the noun;</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat with item running through things worn by the player:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the layering depth of the item is N and the item covers a body-part which is covered by the noun:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;(first taking off [the item])[command clarification break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;silently try taking off the item;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the player wears the item, stop the action.</div>
</div><p>This may seem like overkill, but it allows us to create garments that cover different subsets of the body &ndash; pants and shirt vs. a dress, for instance.</p>
<div class="codeblock"><div class="codeline">To decide what number is the layering depth of (chosen garment - a thing):</div>
<div class="codeline">&ensp;&ensp;&ensp;let N be 0;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the chosen garment covers a body-part (called base):</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let N be the number of steps via the overlying relation from the chosen garment to the base;</div>
<div class="codeline">&ensp;&ensp;&ensp;decide on N.</div>
</div><p>To help with modeling, we&#39;ll give everyone body parts, broken down according to their relevance to clothing:</p>
<div class="codeblock"><div class="codeline">A body-part is a kind of garment-element. A torso, a seat, a head, pair of legs, and pair of feet are kinds of body-part.</div>
</div><p>If we wanted to allow gloves, we might put in hands as well; but this is enough for now.</p>
<div class="codeblock"><div class="codeline">One head is part of every person. One torso is part of every person. One pair of legs is part of every person. One pair of feet is part of every person. One seat is part of every person.</div>
</div><p>And now we make some categories of clothing:</p>
<div class="codeblock"><div class="codeline">A garment is a kind of garment-element. A garment can be transparent. A pair of pants, a pair of underpants, a foundation garment, a pair of socks, a pair of shoes, a jacket, a hat, a dress, and a shirt are kinds of garment.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The plural of pair of pants is pairs of pants. The plural of pair of underpants is pairs of underpants. The plural of pair of socks is pairs of socks. The plural of pair of shoes is pairs of shoes.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">A pair of pants, a pair of underpants, a foundation garment, a pair of socks, a pair of shoes, a jacket, a hat, a dress, and a shirt are usually wearable.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">When play begins:</div>
<div class="codeline">&ensp;&ensp;&ensp;now every pair of socks overlies every pair of feet;</div>
<div class="codeline">&ensp;&ensp;&ensp;now every pair of shoes overlies every pair of socks;</div>
<div class="codeline">&ensp;&ensp;&ensp;now every pair of underpants overlies every seat;</div>
<div class="codeline">&ensp;&ensp;&ensp;now every pair of pants overlies every pair of underpants;</div>
<div class="codeline">&ensp;&ensp;&ensp;now every foundation garment overlies every torso;</div>
<div class="codeline">&ensp;&ensp;&ensp;now every jacket overlies every shirt;</div>
<div class="codeline">&ensp;&ensp;&ensp;now every jacket overlies every dress;</div>
<div class="codeline">&ensp;&ensp;&ensp;now every hat overlies every head;</div>
<div class="codeline">&ensp;&ensp;&ensp;now every dress overlies every pair of underpants;</div>
<div class="codeline">&ensp;&ensp;&ensp;now every dress overlies every foundation garment.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 2 - The Scenario</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Dressing Room is a room.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The player carries some capris, some jeans, a corset, a plunge bra, a thong, boy-shorts, black satin D&#39;Orsay pumps, brown leather boots, a camisole, a cocktail dress, a bolero, a cashmere shrug, a sheer wrap, and a linen tunic.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The woolly socks are a pair of socks.</div>
<div class="codeline">The D&#39;Orsay pumps and the brown leather boots are pairs of shoes.</div>
<div class="codeline">The thong and the boy-shorts are pairs of underpants.</div>
<div class="codeline">The capris and the jeans are pairs of pants.</div>
<div class="codeline">The tunic is a shirt.</div>
<div class="codeline">The camisole, the corset, and the plunge bra are foundation garments.</div>
<div class="codeline">The cocktail dress is a dress.</div>
<div class="codeline">The bolero, the cashmere shrug, and the sheer wrap are jackets. The shrug and the wrap are transparent.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;wear capris / wear jeans / i / wear thong / i / wear dress / wear corset / wear dress / i / wear wrap / i / wear boots / wear pumps / i&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "wear capris / wear jeans / i / wear thong / i / wear dress / wear corset / wear dress / i / wear wrap / i / wear boots / wear pumps / i".</div></summary><div class="testme-output">Dressing Room<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] wear capris</span><br>You put on the capris.<br><br><span class="mono">&gt;[2] wear jeans</span><br>(first taking off the capris)<br>You put on the jeans.<br><br><span class="mono">&gt;[3] i</span><br>You&#39;re carrying some capris, a corset, a plunge bra, a thong, boy-shorts, black satin D&#39;Orsay pumps, brown leather boots, a camisole, a cocktail dress, a bolero, a cashmere shrug, a sheer wrap and a linen tunic. You are wearing some jeans.<br><br><span class="mono">&gt;[4] wear thong</span><br>(first removing the jeans)<br>You put on the thong.<br><br><span class="mono">&gt;[5] i</span><br>You&#39;re carrying some capris, some jeans, a corset, a plunge bra, boy-shorts, black satin D&#39;Orsay pumps, brown leather boots, a camisole, a cocktail dress, a bolero, a cashmere shrug, a sheer wrap and a linen tunic. You are wearing a thong.<br><br><span class="mono">&gt;[6] wear dress</span><br>You put on the cocktail dress.<br><br><span class="mono">&gt;[7] wear corset</span><br>(first removing the cocktail dress)<br>You put on the corset.<br><br><span class="mono">&gt;[8] wear dress</span><br>You put on the cocktail dress.<br><br><span class="mono">&gt;[9] i</span><br>You&#39;re carrying some capris, some jeans, a plunge bra, boy-shorts, black satin D&#39;Orsay pumps, brown leather boots, a camisole, a bolero, a cashmere shrug, a sheer wrap and a linen tunic. You are wearing a cocktail dress.<br><br><span class="mono">&gt;[10] wear wrap</span><br>You put on the sheer wrap.<br><br><span class="mono">&gt;[11] i</span><br>You&#39;re carrying some capris, some jeans, a plunge bra, boy-shorts, black satin D&#39;Orsay pumps, brown leather boots, a camisole, a bolero, a cashmere shrug and a linen tunic. You are wearing a cocktail dress and a sheer wrap.<br><br><span class="mono">&gt;[12] wear boots</span><br>You put on brown leather boots.<br><br><span class="mono">&gt;[13] wear pumps</span><br>(first taking off brown leather boots)<br>You put on black satin D&#39;Orsay pumps.<br><br><span class="mono">&gt;[14] i</span><br>You&#39;re carrying some capris, some jeans, a plunge bra, boy-shorts, brown leather boots, a camisole, a bolero, a cashmere shrug and a linen tunic. You are wearing black satin D&#39;Orsay pumps, a cocktail dress and a sheer wrap.
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="murder_on_the_orient_express.html" title="A number of sleuths (the player among them) find themselves aboard the Orient Express, where a murder has taken place, and one of them is apparently the culprit. Naturally they do not agree on whom, but there is physical evidence which may change their minds&hellip;"><div class="nav-arrow">⬅241. </div><div class="doc-navbar-text">Murder on the Orient Express</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="mathematical_view_of_relations.html" title="Some notes on relations from a mathematical point of view, provided only to clarify some technicalities for those who are interested."><div class="doc-navbar-text">Mathematical view of relations</div><div class="nav-arrow">243.⮕</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
