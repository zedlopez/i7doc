<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 145. Empire</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<h1>Empire</h1><div class="subheading">Example 145 ★★</div>
<div class="linkback">
<a href="../WI_9.html#section_11" title="Time &gt; Future events">WI §9.11 Future events</a><br><a href="../RB_8.html#section_2" title="Vehicles, Animals and Furniture &gt; Ships, Trains and Elevators">RB §8.2 Ships, Trains and Elevators</a>
</div>
<p class="example-desc">A train which follows a schedule, stopping at a number of different locations.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="totality.html" title="To schedule an eclipse of the sun, which involves a number of related events.">144. Totality</a></div><div class="doc-navbar-right"><a href="hour_of_the_wren.html" title="Allowing the player to make an appointment, which is then kept.">146. Hour of the Wren</a></div></div>
</header>
<p>Suppose we want to have a train which, at fixed times, arrives at and leaves stations. It should be possible for the player to get on and off the train when it is stopped, but not while the train is in motion.</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex145">Play/modify Empire in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Train/index.html">Play Empire in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Empire&quot;\n\nThe Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.\n\nThe description of the Empire Builder is &quot;One of the (relatively) plush long-distance Amtrak trains. You&apos;re in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.\n\n[if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if]&quot;\n\nInstead of exiting when the player is in the Train:\n\tif the station of the Train is the Train:\n\t\tsay &quot;The train is not stopped at a station.&quot; instead;\n\totherwise:\n\t\tmove the player to the station of the train instead.\n\nBefore going outside when the player is in the Train:\n\ttry exiting instead.\n\nBefore going inside when the player is in the station of the Train:\n\tmove the player to the Train instead.\n\nSeattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually &quot;The scenic train station of [the location][if the location is the station of the train].\n\nThe pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].&quot;\n\n\nAt 4:45 PM:\n\tif the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train]!&quot;;\n\tnow the station of the Train is the Train.\n\nAt 5:10 PM:\n\tnow the station of the Train is Edmonds;\n\tif the player is in the train or the player is in the station of the train, say &quot;The train pulls into Edmonds and comes to a stop.&quot;\n\nAt 5:17 PM:\n\tif the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train], running north along the shore towards Everett.&quot;;\n\tnow the station of the Train is the Train.\n\nAt 5:39 PM:\n\tnow the station of the Train is Everett;\n\tif the player is in the train or the player is in the station of the train, say &quot;The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.&quot;\n\nAt 5:44 PM:\n\tif the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and turns east.&quot;;\n\tnow the station of the Train is the Train.\n\nAt 8:39 PM:\n\tif the player is in the train or the player is in the station of the train, say &quot;In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.&quot;;\n\tnow the station of the Train is Wenatchee.\n\nAt 8:44 PM:\n\tif the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.&quot;;\n\tnow the station of the Train is the Train.\n\n\nThe time of day is 4:43 PM.\n\n\nWhen play begins:\n\tnow the right hand status line is &quot;[time of day]&quot;.\n\nTest me with &quot;out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z&quot;.\n\nTest more with &quot;out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Empire&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The description of the Empire Builder is &quot;One of the (relatively) plush long-distance Amtrak trains. You&#39;re in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">[if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if]&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of exiting when the player is in the Train:</div>
<div class="codeline">&ensp;&ensp;if the station of the Train is the Train:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;say &quot;The train is not stopped at a station.&quot; instead;</div>
<div class="codeline">&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;move the player to the station of the train instead.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Before going outside when the player is in the Train:</div>
<div class="codeline">&ensp;&ensp;try exiting instead.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Before going inside when the player is in the station of the Train:</div>
<div class="codeline">&ensp;&ensp;move the player to the Train instead.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Seattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually &quot;The scenic train station of [the location][if the location is the station of the train].</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].&quot;</div>
</div><p>And now our schedule for the train -- somewhat truncated, admittedly, since the full three-day journey from Seattle to Chicago is a bit long even for an ambitious example.</p>
<div class="codeblock"><div class="codeline">At 4:45 PM:</div>
<div class="codeline">&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train]!&quot;;</div>
<div class="codeline">&ensp;&ensp;now the station of the Train is the Train.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">At 5:10 PM:</div>
<div class="codeline">&ensp;&ensp;now the station of the Train is Edmonds;</div>
<div class="codeline">&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train pulls into Edmonds and comes to a stop.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">At 5:17 PM:</div>
<div class="codeline">&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train], running north along the shore towards Everett.&quot;;</div>
<div class="codeline">&ensp;&ensp;now the station of the Train is the Train.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">At 5:39 PM:</div>
<div class="codeline">&ensp;&ensp;now the station of the Train is Everett;</div>
<div class="codeline">&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">At 5:44 PM:</div>
<div class="codeline">&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and turns east.&quot;;</div>
<div class="codeline">&ensp;&ensp;now the station of the Train is the Train.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">At 8:39 PM:</div>
<div class="codeline">&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.&quot;;</div>
<div class="codeline">&ensp;&ensp;now the station of the Train is Wenatchee.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">At 8:44 PM:</div>
<div class="codeline">&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.&quot;;</div>
<div class="codeline">&ensp;&ensp;now the station of the Train is the Train.</div>
</div><p>Playing this out would of course require near inhuman patience. Let&#39;s set things up so that the player at least doesn&#39;t have to wait too long for his first departure:</p>
<div class="codeblock"><div class="codeline">The time of day is 4:43 PM.</div>
</div><p>&hellip;and provide fair warning of how slowly time is elapsing.</p>
<div class="codeblock"><div class="codeline">When play begins:</div>
<div class="codeline">&ensp;&ensp;now the right hand status line is &quot;[time of day]&quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z&quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test more with &quot;out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z&quot;.</div>
</div><details class="testme-output"><summary>Test me with "out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z".</summary><div class="testme-output">Empire Builder Train<br>One of the (relatively) plush long-distance Amtrak trains. You're in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.<br><br>Through the windows you can see the Seattle train station.<br><br>>(Testing.)<br><br>>[1] out<br>Seattle<br>The scenic train station of Seattle.<br><br>The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago.<br><br>>[2] in<br>Empire Builder Train<br>One of the (relatively) plush long-distance Amtrak trains. You're in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.<br><br>Through the windows you can see the Seattle train station.<br><br>>[3] z<br>Time passes.<br><br>The train pulls out of Seattle!<br><br>>[4] z<br>Time passes.<br><br>>[5] z<br>Time passes.<br><br>>[6] out<br>The train is not stopped at a station.<br><br>>[7] z<br>Time passes.<br><br>>[8] z<br>Time passes.<br><br>>[9] z<br>Time passes.<br><br>>[10] z<br>Time passes.<br><br>>[11] z<br>Time passes.<br><br>>[12] z<br>Time passes.<br><br>>[13] z<br>Time passes.<br><br>>[14] z<br>Time passes.<br><br>>[15] z<br>Time passes.<br><br>>[16] z<br>Time passes.<br><br>>[17] z<br>Time passes.<br><br>>[18] z<br>Time passes.<br><br>>[19] z<br>Time passes.<br><br>>[20] z<br>Time passes.<br><br>>[21] z<br>Time passes.<br><br>>[22] z<br>Time passes.<br><br>>[23] z<br>Time passes.<br><br>>[24] z<br>Time passes.<br><br>>[25] z<br>Time passes.<br><br>>[26] z<br>Time passes.<br><br>>[27] z<br>Time passes.<br><br>>[28] z<br>Time passes.<br><br>The train pulls into Edmonds and comes to a stop.<br><br>>[29] z<br>Time passes.<br><br>>[30] out<br>Edmonds<br>The scenic train station of Edmonds.<br><br>The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago.<br><br>>[31] in<br>Empire Builder Train<br>One of the (relatively) plush long-distance Amtrak trains. You're in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.<br><br>Through the windows you can see the Edmonds train station.<br><br>>[32] out<br>Edmonds<br>The scenic train station of Edmonds.<br><br>The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago.<br><br>>[33] z<br>Time passes.<br><br>>[34] z<br>Time passes.
</div></details><div class="doc-navbar"><div class="doc-navbar-left"><a href="totality.html" title="To schedule an eclipse of the sun, which involves a number of related events.">144. Totality</a></div><div class="doc-navbar-right"><a href="hour_of_the_wren.html" title="Allowing the player to make an appointment, which is then kept.">146. Hour of the Wren</a></div></div>
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p>Thanks go to <a href="http://nitku.net/blog/">Juhana Leinonen</a> for <a href="https://borogove.app">Borogove</a>. The playable examples use <a href="https://eblong.com">Andrew Plotkin</a>'s <a href="https://eblong.com/zarf/glk/glkote.html">GlkOte</a> and <a href="https://eblong.com/zarf/glulx/quixe/index.html">Quixe</a>, distributed under an <a href="../mit.html">MIT License.</a></p><p class="about"><a href="../about.html">About this edition</a> &bull; <a href="https://twitter.com/inform7tips">@inform7tips</a></p></footer>
</body></html>
