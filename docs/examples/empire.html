<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 145. Empire</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body><main>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Empire</h1><div class="subheading"><wbr><div class="ex-no">Example 145</div> ★★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_9.html#section_11" title="Time &gt; Future events"><div class="nav-arrow"><span class="sc">wi</span> 9.11</div><div class="doc-navbar-text">Future events</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_8.html#section_2" title="Vehicles, Animals and Furniture &gt; Ships, Trains and Elevators"><div class="doc-navbar-text">Ships, Trains and Elevators</div><div class="nav-arrow"><span class="sc">rb</span> 8.2</div></a></div></div>
</div>
<div class="example-meta-desc"><p>A train which follows a schedule, stopping at a number of different locations.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="totality.html" title="To schedule an eclipse of the sun, which involves a number of related events."><div class="nav-arrow">⬅144. </div><div class="doc-navbar-text">Totality</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="hour_of_the_wren.html" title="Allowing the player to make an appointment, which is then kept."><div class="doc-navbar-text">Hour of the Wren</div><div class="nav-arrow">146.⮕</div></a></div></div>
</header>
<div class="example-body"><p>Suppose we want to have a train which, at fixed times, arrives at and leaves stations. It should be possible for the player to get on and off the train when it is stopped, but not while the train is in motion.</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex145">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="Train/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Empire&quot;\n\nThe Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.\n\nThe description of the Empire Builder is &quot;One of the (relatively) plush long-distance Amtrak trains. You&apos;re in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.\n\n[if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if]&quot;\n\nInstead of exiting when the player is in the Train:\n\tif the station of the Train is the Train:\n\t\tsay &quot;The train is not stopped at a station.&quot; instead;\n\totherwise:\n\t\tmove the player to the station of the train instead.\n\nBefore going outside when the player is in the Train:\n\ttry exiting instead.\n\nBefore going inside when the player is in the station of the Train:\n\tmove the player to the Train instead.\n\nSeattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually &quot;The scenic train station of [the location][if the location is the station of the train].\n\nThe pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].&quot;\n\n\nAt 4:45 PM:\n\tif the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train]!&quot;;\n\tnow the station of the Train is the Train.\n\nAt 5:10 PM:\n\tnow the station of the Train is Edmonds;\n\tif the player is in the train or the player is in the station of the train, say &quot;The train pulls into Edmonds and comes to a stop.&quot;\n\nAt 5:17 PM:\n\tif the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train], running north along the shore towards Everett.&quot;;\n\tnow the station of the Train is the Train.\n\nAt 5:39 PM:\n\tnow the station of the Train is Everett;\n\tif the player is in the train or the player is in the station of the train, say &quot;The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.&quot;\n\nAt 5:44 PM:\n\tif the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and turns east.&quot;;\n\tnow the station of the Train is the Train.\n\nAt 8:39 PM:\n\tif the player is in the train or the player is in the station of the train, say &quot;In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.&quot;;\n\tnow the station of the Train is Wenatchee.\n\nAt 8:44 PM:\n\tif the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.&quot;;\n\tnow the station of the Train is the Train.\n\n\nThe time of day is 4:43 PM.\n\n\nWhen play begins:\n\tnow the right hand status line is &quot;[time of day]&quot;.\n\nTest me with &quot;out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z&quot;.\n\nTest more with &quot;out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Empire&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Empire Builder Train is a room. The Train has a room called the station. The station of the Train is Seattle.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The description of the Empire Builder is &quot;One of the (relatively) plush long-distance Amtrak trains. You&#39;re in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">[if the station of the Train is the train]Outside the window there is rapidly-passing countryside.[otherwise]Through the windows you can see the [station of the Train] train station.[end if]&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Instead of exiting when the player is in the Train:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the station of the Train is the Train:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;The train is not stopped at a station.&quot; instead;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;move the player to the station of the train instead.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Before going outside when the player is in the Train:</div>
<div class="codeline">&ensp;&ensp;&ensp;try exiting instead.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Before going inside when the player is in the station of the Train:</div>
<div class="codeline">&ensp;&ensp;&ensp;move the player to the Train instead.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Seattle, Edmonds, Everett, Wenatchee, and Spokane are rooms. The description of a room is usually &quot;The scenic train station of [the location][if the location is the station of the train].</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago[end if].&quot;</div>
</div><p>And now our schedule for the train &ndash; somewhat truncated, admittedly, since the full three-day journey from Seattle to Chicago is a bit long even for an ambitious example.</p>
<div class="codeblock"><div class="codeline">At 4:45 PM:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train]!&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;now the station of the Train is the Train.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">At 5:10 PM:</div>
<div class="codeline">&ensp;&ensp;&ensp;now the station of the Train is Edmonds;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train pulls into Edmonds and comes to a stop.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">At 5:17 PM:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train], running north along the shore towards Everett.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;now the station of the Train is the Train.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">At 5:39 PM:</div>
<div class="codeline">&ensp;&ensp;&ensp;now the station of the Train is Everett;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train arrives in scenic Everett, WA: the last stop before it turns east and heads over the mountains.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">At 5:44 PM:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and turns east.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;now the station of the Train is the Train.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">At 8:39 PM:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;In darkness the train rolls into Wenatchee; which is just fine, considering that there is nothing to see here at all.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;now the station of the Train is Wenatchee.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">At 8:44 PM:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the player is in the train or the player is in the station of the train, say &quot;The train pulls out of [the station of the Train] and continues east through the darkness towards Spokane.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;now the station of the Train is the Train.</div>
</div><p>Playing this out would of course require near inhuman patience. Let&#39;s set things up so that the player at least doesn&#39;t have to wait too long for his first departure:</p>
<div class="codeblock"><div class="codeline">The time of day is 4:43 PM.</div>
</div><p>&hellip;and provide fair warning of how slowly time is elapsing.</p>
<div class="codeblock"><div class="codeline">When play begins:</div>
<div class="codeline">&ensp;&ensp;&ensp;now the right hand status line is &quot;[time of day]&quot;.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z&quot;.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test more with &quot;out / z/ z / z  / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "out / in / z/ z / z / out / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / z / out / in / out / z / z".</div></summary><div class="testme-output">Empire Builder Train<br>One of the (relatively) plush long-distance Amtrak trains. You&#39;re in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.<br><br>Through the windows you can see the Seattle train station.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] out</span><br>Seattle<br>The scenic train station of Seattle.<br><br>The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago.<br><br><span class="mono">&gt;[2] in</span><br>Empire Builder Train<br>One of the (relatively) plush long-distance Amtrak trains. You&#39;re in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.<br><br>Through the windows you can see the Seattle train station.<br><br><span class="mono">&gt;[3] z</span><br>Time passes.<br><br>The train pulls out of Seattle!<br><br><span class="mono">&gt;[4] z</span><br>Time passes.<br><br><span class="mono">&gt;[5] z</span><br>Time passes.<br><br><span class="mono">&gt;[6] out</span><br>The train is not stopped at a station.<br><br><span class="mono">&gt;[7] z</span><br>Time passes.<br><br><span class="mono">&gt;[8] z</span><br>Time passes.<br><br><span class="mono">&gt;[9] z</span><br>Time passes.<br><br><span class="mono">&gt;[10] z</span><br>Time passes.<br><br><span class="mono">&gt;[11] z</span><br>Time passes.<br><br><span class="mono">&gt;[12] z</span><br>Time passes.<br><br><span class="mono">&gt;[13] z</span><br>Time passes.<br><br><span class="mono">&gt;[14] z</span><br>Time passes.<br><br><span class="mono">&gt;[15] z</span><br>Time passes.<br><br><span class="mono">&gt;[16] z</span><br>Time passes.<br><br><span class="mono">&gt;[17] z</span><br>Time passes.<br><br><span class="mono">&gt;[18] z</span><br>Time passes.<br><br><span class="mono">&gt;[19] z</span><br>Time passes.<br><br><span class="mono">&gt;[20] z</span><br>Time passes.<br><br><span class="mono">&gt;[21] z</span><br>Time passes.<br><br><span class="mono">&gt;[22] z</span><br>Time passes.<br><br><span class="mono">&gt;[23] z</span><br>Time passes.<br><br><span class="mono">&gt;[24] z</span><br>Time passes.<br><br><span class="mono">&gt;[25] z</span><br>Time passes.<br><br><span class="mono">&gt;[26] z</span><br>Time passes.<br><br><span class="mono">&gt;[27] z</span><br>Time passes.<br><br><span class="mono">&gt;[28] z</span><br>Time passes.<br><br>The train pulls into Edmonds and comes to a stop.<br><br><span class="mono">&gt;[29] z</span><br>Time passes.<br><br><span class="mono">&gt;[30] out</span><br>Edmonds<br>The scenic train station of Edmonds.<br><br>The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago.<br><br><span class="mono">&gt;[31] in</span><br>Empire Builder Train<br>One of the (relatively) plush long-distance Amtrak trains. You&#39;re in a two-story car with toilets and a cafe at one end, not having sprung for a sleeper.<br><br>Through the windows you can see the Edmonds train station.<br><br><span class="mono">&gt;[32] out</span><br>Edmonds<br>The scenic train station of Edmonds.<br><br>The pompously-titled Empire Builder train is pulled up here, soon to continue its journey towards Chicago.<br><br><span class="mono">&gt;[33] z</span><br>Time passes.<br><br><span class="mono">&gt;[34] z</span><br>Time passes.
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="totality.html" title="To schedule an eclipse of the sun, which involves a number of related events."><div class="nav-arrow">⬅144. </div><div class="doc-navbar-text">Totality</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="hour_of_the_wren.html" title="Allowing the player to make an appointment, which is then kept."><div class="doc-navbar-text">Hour of the Wren</div><div class="nav-arrow">146.⮕</div></a></div></div>
</main><footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://mastodon.gamedev.place/web/@inform7tips">@inform7tips@mastodon.gamedev.place</a></p></div></footer>
</body></html>
