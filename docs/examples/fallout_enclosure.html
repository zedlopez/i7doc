<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 35. Fallout Enclosure</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Fallout Enclosure</h1><div class="subheading">Example 35 ★★★</div></div></div>
<div class="linkback">
<a href="../WI_3.html#section_23" title="Things &gt; Parts of things">WI §3.23 Parts of things</a><br><a href="../RB_9.html#section_2" title="Props: Food, Clothing, Money, Toys, Books, Electronics &gt; Bags, Bottles, Boxes and Safes">RB §9.2 Bags, Bottles, Boxes and Safes</a>
</div>
<p class="example-desc">Adding an enclosure kind that includes both containers and supporters in order to simplify text that would apply to both.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="disenchantment_bay11.html" title="Disenchantment Bay: making a holdall of the backpack."><div class="nav-arrow">←34. </div><div class="doc-navbar-text">Disenchantment Bay 11</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="brown.html" title="A red sticky label which can be attached to anything in the game, or removed again."><div class="doc-navbar-text">Brown</div><div class="nav-arrow">36.→</div></a></div></div>
</header>
<p>It may not be immediately obvious why we might want to create new intermediate categories of the kinds hierarchy. But there may be times, for instance, where we would like to make an action that applies in the same way to both containers and supporters, but to nothing else in the game. To avoid creating two nearly-identical rules, we would instead roll the two categories together into one, on the principle that duplicating source text is usually a sign of bad design.</p>
<p>So for instance let&#39;s say the player is able to zap objects to make them go away, but any contents -- things inside a container or on top of a supporter -- should always be left as residue. Here&#39;s one way we might do this:</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex35">Play/modify Fallout Enclosure in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="FalloutEnclosure/index.html">Play Fallout Enclosure in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Fallout Enclosure&quot;\n\nSection 1 - Procedure\n\nAn enclosure is a kind of thing. A container is a kind of enclosure. A supporter is a kind of enclosure.\n\nUnderstand &quot;zap [something]&quot; as zapping. Zapping is an action applying to one thing. The Zapping action has a list of things called the remnants.\n\nCarry out zapping an enclosure:\n\tif the noun holds something:\n\t\tnow the remnants is the list of things held by the noun;\n\t\trepeat with N running through the remnants:\n\t\t\tmove N to the holder of the noun.\n\nCarry out zapping:\n\tnow the noun is nowhere.\n\nReport zapping:\n\tsay &quot;You zap [the noun], destroying [them][if the remnants is not empty] and leaving [the remnants with indefinite articles] behind[end if].&quot;\n\nSection 2 - Scenario\n\nSuperDuperMart is a room. SuperDuperMart contains some shelves and a cash register.\n\nThe shelves support a bottle of Buffout and a container of Jet.\n\nThe cash register contains some prewar money, a coin purse, and a bottle cap.  The coin purse contains a prewar nickel. It is closed.\n\nThe cash register is closed and locked.\n\n\nTest me with &quot;zap shelves / zap buffout / zap register / zap purse&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Fallout Enclosure&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline i7header">Section 1 - Procedure</div><div class="codeline">An enclosure is a kind of thing. A container is a kind of enclosure. A supporter is a kind of enclosure.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Understand &quot;zap [something]&quot; as zapping. Zapping is an action applying to one thing. The Zapping action has a list of things called the remnants.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Carry out zapping an enclosure:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the noun holds something:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the remnants is the list of things held by the noun;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;repeat with N running through the remnants:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;move N to the holder of the noun.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Carry out zapping:</div>
<div class="codeline">&ensp;&ensp;&ensp;now the noun is nowhere.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Report zapping:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You zap [the noun], destroying [them][if the remnants is not empty] and leaving [the remnants with indefinite articles] behind[end if].&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline i7header">Section 2 - Scenario</div><div class="codeline">SuperDuperMart is a room. SuperDuperMart contains some shelves and a cash register.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The shelves support a bottle of Buffout and a container of Jet.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The cash register contains some prewar money, a coin purse, and a bottle cap.  The coin purse contains a prewar nickel. It is closed.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The cash register is closed and locked.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;zap shelves / zap buffout / zap register / zap purse&quot;.</div>
</div><details class="testme-output"><summary>Test me with "zap shelves / zap buffout / zap register / zap purse".</summary><div class="testme-output">SuperDuperMart<br>You can see some shelves (on which are a bottle of Buffout and a container of Jet) and a cash register (closed) here.<br><br>&gt;(Testing.)<br><br>&gt;[1] zap shelves<br>You zap the shelves, destroying them and leaving a bottle of Buffout and a container of Jet behind.<br><br>&gt;[2] zap buffout<br>You zap the bottle of Buffout, destroying it.<br><br>&gt;[3] zap register<br>You zap the cash register, destroying it and leaving some prewar money, a coin purse and a bottle cap behind.<br><br>&gt;[4] zap purse<br>You zap the coin purse, destroying it and leaving a prewar nickel behind.
</div></details><div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="disenchantment_bay11.html" title="Disenchantment Bay: making a holdall of the backpack."><div class="nav-arrow">←34. </div><div class="doc-navbar-text">Disenchantment Bay 11</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="brown.html" title="A red sticky label which can be attached to anything in the game, or removed again."><div class="doc-navbar-text">Brown</div><div class="nav-arrow">36.→</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="nav-about" href="../about.html">About this edition</a> &bull; <a class="nav-about" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
