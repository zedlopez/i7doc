<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 35. Fallout Enclosure</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Fallout Enclosure</h1><div class="subheading"><wbr><div class="ex-no">Example 35</div> ★★★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_3.html#section_23" title="Things &gt; Parts of things"><div class="nav-arrow"><span class="sc">wi</span> 3.23</div><div class="doc-navbar-text">Parts of things</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_9.html#section_2" title="Props: Food, Clothing, Money, Toys, Books, Electronics &gt; Bags, Bottles, Boxes and Safes"><div class="doc-navbar-text">Bags, Bottles, Boxes and Safes</div><div class="nav-arrow"><span class="sc">rb</span> 9.2</div></a></div></div>
</div>
<div class="example-meta-desc"><p>Adding an enclosure kind that includes both containers and supporters in order to simplify text that would apply to both.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="disenchantment_bay11.html" title="Disenchantment Bay: making a holdall of the backpack."><div class="nav-arrow">⬅34. </div><div class="doc-navbar-text">Disenchantment Bay 11</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="brown.html" title="A red sticky label which can be attached to anything in the game, or removed again."><div class="doc-navbar-text">Brown</div><div class="nav-arrow">36.⮕</div></a></div></div>
</header>
<div class="example-body"><p>It may not be immediately obvious why we might want to create new intermediate categories of the kinds hierarchy. But there may be times, for instance, where we would like to make an action that applies in the same way to both containers and supporters, but to nothing else in the game. To avoid creating two nearly-identical rules, we would instead roll the two categories together into one, on the principle that duplicating source text is usually a sign of bad design.</p>
<p>So for instance let&#39;s say the player is able to zap objects to make them go away, but any contents &ndash; things inside a container or on top of a supporter &ndash; should always be left as residue. Here&#39;s one way we might do this:</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex35">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="FalloutEnclosure/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Fallout Enclosure&quot;\n\nSection 1 - Procedure\n\nAn enclosure is a kind of thing. A container is a kind of enclosure. A supporter is a kind of enclosure.\n\nUnderstand &quot;zap [something]&quot; as zapping. Zapping is an action applying to one thing. The Zapping action has a list of things called the remnants.\n\nCarry out zapping an enclosure:\n\tif the noun holds something:\n\t\tnow the remnants is the list of things held by the noun;\n\t\trepeat with N running through the remnants:\n\t\t\tmove N to the holder of the noun.\n\nCarry out zapping:\n\tnow the noun is nowhere.\n\nReport zapping:\n\tsay &quot;You zap [the noun], destroying [them][if the remnants is not empty] and leaving [the remnants with indefinite articles] behind[end if].&quot;\n\nSection 2 - Scenario\n\nSuperDuperMart is a room. SuperDuperMart contains some shelves and a cash register.\n\nThe shelves support a bottle of Buffout and a container of Jet.\n\nThe cash register contains some prewar money, a coin purse, and a bottle cap.  The coin purse contains a prewar nickel. It is closed.\n\nThe cash register is closed and locked.\n\n\nTest me with &quot;zap shelves / zap buffout / zap register / zap purse&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Fallout Enclosure&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 1 - Procedure</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">An enclosure is a kind of thing. A container is a kind of enclosure. A supporter is a kind of enclosure.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;zap [something]&quot; as zapping. Zapping is an action applying to one thing. The Zapping action has a list of things called the remnants.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Carry out zapping an enclosure:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the noun holds something:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the remnants is the list of things held by the noun;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;repeat with N running through the remnants:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;move N to the holder of the noun.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Carry out zapping:</div>
<div class="codeline">&ensp;&ensp;&ensp;now the noun is nowhere.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Report zapping:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You zap [the noun], destroying [them][if the remnants is not empty] and leaving [the remnants with indefinite articles] behind[end if].&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 2 - Scenario</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">SuperDuperMart is a room. SuperDuperMart contains some shelves and a cash register.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The shelves support a bottle of Buffout and a container of Jet.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The cash register contains some prewar money, a coin purse, and a bottle cap.  The coin purse contains a prewar nickel. It is closed.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The cash register is closed and locked.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;zap shelves / zap buffout / zap register / zap purse&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "zap shelves / zap buffout / zap register / zap purse".</div></summary><div class="testme-output">SuperDuperMart<br>You can see some shelves (on which are a bottle of Buffout and a container of Jet) and a cash register (closed) here.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] zap shelves</span><br>You zap the shelves, destroying them and leaving a bottle of Buffout and a container of Jet behind.<br><br><span class="mono">&gt;[2] zap buffout</span><br>You zap the bottle of Buffout, destroying it.<br><br><span class="mono">&gt;[3] zap register</span><br>You zap the cash register, destroying it and leaving some prewar money, a coin purse and a bottle cap behind.<br><br><span class="mono">&gt;[4] zap purse</span><br>You zap the coin purse, destroying it and leaving a prewar nickel behind.
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="disenchantment_bay11.html" title="Disenchantment Bay: making a holdall of the backpack."><div class="nav-arrow">⬅34. </div><div class="doc-navbar-text">Disenchantment Bay 11</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="brown.html" title="A red sticky label which can be attached to anything in the game, or removed again."><div class="doc-navbar-text">Brown</div><div class="nav-arrow">36.⮕</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
