<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 297. Nameless</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Nameless</h1><div class="subheading">Example 297 ★★</div></div></div>
<div class="linkback">
<a href="../WI_17.html#section_5" title="Understanding &gt; The text token">WI §17.5 The text token</a><br><a href="../RB_7.html#section_7" title="Other Characters &gt; Saying Simple Things">RB §7.7 Saying Simple Things</a>
</div>
<p class="example-desc">ASKing someone about an object rather than about a topic.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="ish.html" title="A (very) simple HELP command, using tokens to accept and interpret the player&#39;s  text whatever it might be."><div class="nav-arrow">←296. </div><div class="doc-navbar-text">Ish.</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="safety.html" title="A safe whose dial can be turned with SPIN SAFE TO 1131, and which will open only with the correct combination."><div class="doc-navbar-text">Safety</div><div class="nav-arrow">298.→</div></a></div></div>
</header>
<p>By default, ASK SOMEONE ABOUT&hellip; applies only to a text token. We might want also to offer the player the option of asking characters about pieces of physical evidence. This example implements an ASK PERSON ABOUT THING command that is mostly synonymous with SHOW, with the added nuance that the player can ask about things that are not currently visible, as long as he has encountered them at some time in the past.</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex297">Play/modify Nameless in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="CipherRoom/index.html">Play Nameless in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Nameless&quot;\n\nThe Black Chamber is a room. &quot;Despite its menacing name, it is quite an ordinary room, underlying the post office above. Here letters are brought each day, unsealed, transcribed, resealed, and sent again on their way; their contents then analyzed and recorded.&quot;\n\nThe Nameless Advisor is a woman in the Black Chamber. &quot;A woman whose name has never been disclosed to you sits at the window, writing numbers on a sheet of paper.&quot; The Advisor carries a sheet of paper. Understand &quot;woman&quot; as the nameless advisor.\n\nThe player carries a letter from the emperor. The description of the letter is &quot;Though its origin is obvious, its meaning is secret: the letters are an inexplicable jumble.&quot;\n\n\nA thing can be known or unknown. The Nameless Advisor is known.\n\nUnderstand &quot;ask [someone] about [any known thing]&quot; as interrogating it about. interrogating it about is an action applying to two visible things.\n\n\nUnderstand the commands &quot;show&quot; and &quot;display&quot; and &quot;present&quot; as something new.\n\nUnderstand &quot;show [something] to [someone]&quot; or &quot;display [something] to [someone]&quot; or &quot;present [something] to [someone]&quot; as interrogating it about (with nouns reversed). Understand &quot;show [someone] [something]&quot; as interrogating it about.\n\n\nBefore printing the name of something (called the target): now the target is known.\n\n\nCarry out interrogating someone about something:\n\tsay &quot;There is no reply.&quot;\n\n\nInstead of asking Nameless Advisor about a topic listed in the Table of Nameless Advisor Topics:\n\tsay &quot;[reply entry][paragraph break]&quot;.\n\nInstead of interrogating Nameless Advisor about an item listed in the Table of Nameless Advisor Items:\n\tsay &quot;[reply entry][paragraph break]&quot;.\n\nTable of Nameless Advisor Items\nitem\treply\nletter\t&quot;&apos;It is enciphered,&apos; she remarks[if the advisor can see the letter], glancing over the contents[otherwise], after you have offered a detailed description[end if]. &apos;A substitution cipher of some complexity, I believe.&apos;&quot;\nAdvisor\t&quot;She listens to your inquiries about her identity and parentage with a placid smile, but does not answer.&quot;\n\nTable of Nameless Advisor Topics\ntopic\treply\n&quot;cipher&quot;\t&quot;&apos;I know many dozens of ciphers,&apos; she replies, smiling in a disquieting way.&quot;\n&quot;substitution cipher&quot;\t&quot;&apos;One letter is allowed to stand for another,&apos; she explains, folding her hands together patiently. The backs of both hands are tattooed with silvery stars.&quot;\n\n\nThe safe box is a container in the Chamber. It is fixed in place. It is openable and closed.\n\n\nThe poisonous apple is a thing.\n\nTest me with &quot;test sight / test knowledge&quot;.\n\nTest sight with &quot;i / x letter / ask Nameless Advisor about cipher / show cipher to Nameless Advisor / ask Nameless Advisor about the letter / show the letter to Nameless Advisor / show Nameless Advisor the letter&quot;.\n\nTest knowledge with &quot;open safe box / put letter in safe box / close safe box / ask Nameless Advisor about the letter / show the letter to Nameless Advisor / ask Nameless Advisor about the apple&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Nameless&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The Black Chamber is a room. &quot;Despite its menacing name, it is quite an ordinary room, underlying the post office above. Here letters are brought each day, unsealed, transcribed, resealed, and sent again on their way; their contents then analyzed and recorded.&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The Nameless Advisor is a woman in the Black Chamber. &quot;A woman whose name has never been disclosed to you sits at the window, writing numbers on a sheet of paper.&quot; The Advisor carries a sheet of paper. Understand &quot;woman&quot; as the nameless advisor.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The player carries a letter from the emperor. The description of the letter is &quot;Though its origin is obvious, its meaning is secret: the letters are an inexplicable jumble.&quot;</div>
</div><p>Now we create our new action, &quot;interrogating it about&quot;. We write the grammar lines so that we can show any object in sight to someone, but also ask someone about any object that we have ever interacted with in the game, whether it is currently visible or not.</p>
<div class="codeblock"><div class="codeline">A thing can be known or unknown. The Nameless Advisor is known.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Understand &quot;ask [someone] about [any known thing]&quot; as interrogating it about. interrogating it about is an action applying to two visible things.</div>
</div><p>Now we replace and redirect the showing action. This gets rid of the requirement in the default library that the player be holding anything he shows to another character:</p>
<div class="codeblock"><div class="codeline">Understand the commands &quot;show&quot; and &quot;display&quot; and &quot;present&quot; as something new.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Understand &quot;show [something] to [someone]&quot; or &quot;display [something] to [someone]&quot; or &quot;present [something] to [someone]&quot; as interrogating it about (with nouns reversed). Understand &quot;show [someone] [something]&quot; as interrogating it about.</div>
</div><p>This bit keeps track of what the player has seen, for the purposes of &quot;any known thing&quot;:</p>
<div class="codeblock"><div class="codeline">Before printing the name of something (called the target): now the target is known.</div>
</div><p>Here we define what happens by default when we interrogate someone about something; we use the same response we get to asking someone about something that isn&#39;t otherwise interesting:</p>
<div class="codeblock"><div class="codeline">Carry out interrogating someone about something:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;There is no reply.&quot;</div>
</div><p>Now redirect all asking to a topic table, and all interrogating to an object table:</p>
<div class="codeblock"><div class="codeline">Instead of asking Nameless Advisor about a topic listed in the Table of Nameless Advisor Topics:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[reply entry][paragraph break]&quot;.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Instead of interrogating Nameless Advisor about an item listed in the Table of Nameless Advisor Items:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[reply entry][paragraph break]&quot;.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline tablename">Table of Nameless Advisor Items</div><table>
<tr><td>item</td><td>reply</td></tr><tr><td>letter</td><td>&quot;&#39;It is enciphered,&#39; she remarks[if the advisor can see the letter], glancing over the contents[otherwise], after you have offered a detailed description[end if]. &#39;A substitution cipher of some complexity, I believe.&#39;&quot;</td></tr><tr><td>Advisor</td><td>&quot;She listens to your inquiries about her identity and parentage with a placid smile, but does not answer.&quot;</td></tr></table>
<div class="codeline tablename">Table of Nameless Advisor Topics</div><table>
<tr><td>topic</td><td>reply</td></tr><tr><td>&quot;cipher&quot;</td><td>&quot;&#39;I know many dozens of ciphers,&#39; she replies, smiling in a disquieting way.&quot;</td></tr><tr><td>&quot;substitution cipher&quot;</td><td>&quot;&#39;One letter is allowed to stand for another,&#39; she explains, folding her hands together patiently. The backs of both hands are tattooed with silvery stars.&quot;</td></tr></table>
</div><p>And just so that we can test what happens when asking someone about something out of sight:</p>
<div class="codeblock"><div class="codeline">The safe box is a container in the Chamber. It is fixed in place. It is openable and closed.</div>
</div><p>&hellip;and something unknown:</p>
<div class="codeblock"><div class="codeline">The poisonous apple is a thing.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;test sight / test knowledge&quot;.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Test sight with &quot;i / x letter / ask Nameless Advisor about cipher / show cipher to Nameless Advisor / ask Nameless Advisor about the letter / show the letter to Nameless Advisor / show Nameless Advisor the letter&quot;.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Test knowledge with &quot;open safe box / put letter in safe box / close safe box / ask Nameless Advisor about the letter / show the letter to Nameless Advisor / ask Nameless Advisor about the apple&quot;.</div>
</div><details class="testme-output"><summary>Test me with "test sight / test knowledge".</summary><div class="testme-output">Black Chamber<br>Despite its menacing name, it is quite an ordinary room, underlying the post office above. Here letters are brought each day, unsealed, transcribed, resealed, and sent again on their way; their contents then analyzed and recorded.<br><br>A woman whose name has never been disclosed to you sits at the window, writing numbers on a sheet of paper.<br><br>You can also see a safe box (closed) here.<br><br>&gt;(Testing.)<br><br>&gt;[1] test sight<br>(Testing.)<br><br>&gt;[2] i<br>You are carrying:<br>  a letter from the emperor<br><br>&gt;[3] x letter<br>Though its origin is obvious, its meaning is secret: the letters are an inexplicable jumble.<br><br>&gt;[4] ask nameless advisor about cipher<br>&quot;I know many dozens of ciphers,&quot; she replies, smiling in a disquieting way.<br><br>&gt;[5] show cipher to nameless advisor<br>You can&#39;t see any such thing.<br><br>&gt;[6] ask nameless advisor about the letter<br>&quot;It is enciphered,&quot; she remarks, glancing over the contents. &quot;A substitution cipher of some complexity, I believe.&quot;<br><br>&gt;[7] show the letter to nameless advisor<br>&quot;It is enciphered,&quot; she remarks, glancing over the contents. &quot;A substitution cipher of some complexity, I believe.&quot;<br><br>&gt;[8] show nameless advisor the letter<br>&quot;It is enciphered,&quot; she remarks, glancing over the contents. &quot;A substitution cipher of some complexity, I believe.&quot;<br><br>&gt;[9] test knowledge<br>(Testing.)<br><br>&gt;[10] open safe box<br>You open the safe box.<br><br>&gt;[11] put letter in safe box<br>You put the letter from the emperor into the safe box.<br><br>&gt;[12] close safe box<br>You close the safe box.<br><br>&gt;[13] ask nameless advisor about the letter<br>&quot;It is enciphered,&quot; she remarks, after you have offered a detailed description. &quot;A substitution cipher of some complexity, I believe.&quot;<br><br>&gt;[14] show the letter to nameless advisor<br>You can&#39;t see any such thing.<br><br>&gt;[15] ask nameless advisor about the apple<br>There is no reply.
</div></details><div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="ish.html" title="A (very) simple HELP command, using tokens to accept and interpret the player&#39;s  text whatever it might be."><div class="nav-arrow">←296. </div><div class="doc-navbar-text">Ish.</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="safety.html" title="A safe whose dial can be turned with SPIN SAFE TO 1131, and which will open only with the correct combination."><div class="doc-navbar-text">Safety</div><div class="nav-arrow">298.→</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="nav-about" href="../about.html">About this edition</a> &bull; <a class="nav-about" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
