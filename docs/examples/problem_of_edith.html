<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 235. The Problem of Edith</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<h1>The Problem of Edith</h1><div class="subheading">Example 235 ★★★</div>
<div class="linkback">
<a href="../WI_13.html#section_11" title="Relations &gt; Indirect relations">WI §13.11 Indirect relations</a><br><a href="../RB_7.html#section_11" title="Other Characters &gt; Character Knowledge and Reasoning">RB §7.11 Character Knowledge and Reasoning</a>
</div>
<p class="example-desc">A conversation in which the main character tries to build logical connections between what the player is saying now and what went immediately before.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="bogart.html" title="Clothing for the player that layers, so that items cannot be taken off in the wrong order, and the player&#39;s inventory lists only the clothing that is currently visible.">234. Bogart</a></div><div class="doc-navbar-right"><a href="wainwright_acts.html" title="A technical note about checking the location of door objects when characters other than the player are interacting with them.">236. Wainwright Acts</a></div></div>
</header>
<p>Suppose that we have a core set of issues we want to be able to bring up with all the characters, and we want characters to draw intelligent connections between different conversation topics. We will need some model of how things relate to one another, so:</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex235">Play/modify The Problem of Edith in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Broughton/index.html">Play The Problem of Edith in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;The Problem of Edith&quot;\n\nSuggestion relates things to each other. The verb to suggest means the suggestion relation.\n\nA subject is a kind of thing. The current subject is a thing that varies. greeting is a subject.\n\nUnderstand &quot;ask [someone] about [any subject]&quot; as asking it about the subject. Understand &quot;tell [someone] about [any subject]&quot; as asking it about the subject.\n\nAsking it about the subject is an action applying to one thing and one visible thing.\n\nCarry out asking it about the subject:\n\tsay &quot;&apos;Hmm, [the second noun],&apos; says [the noun]. &quot;;\n\trelate the current subject with the second noun;\n\tnow the current subject is the second noun.\n\n\nInstead of thinking:\n\tsay &quot;You contemplate [a list of things suggested by the current subject].&quot;\n\n\nInstead of showing something which suggests the current subject to someone:\n\tsay &quot;[The second noun] nods impatiently.&quot;\n\nInstead of showing something to someone:\n\tlet the next subject be the next step via the suggestion relation from the noun to the current subject;\n\tif the next subject is a subject:\n\t\ttry asking the second noun about the subject the next subject;\n\totherwise:\n\t\tsay &quot;[The second noun] shrugs.&quot;\n\nWhen play begins:\n\tnow the left hand status line is &quot;Discussing: [current subject]&quot;;\n\tnow the right hand status line is &quot; &quot;.\n\nBroughton Hall is a room. Lady Uckfield is a woman in Broughton Hall. &quot;Lady Uckfield sits at her desk, looking wholly composed.&quot;\n\nThe nasty letter is a thing carried by the player. The nasty letter suggests infidelity and penmanship. The ten-pound note is carried by the player. It suggests money.\n\nInfidelity is a subject. Infidelity suggests marriage and divorce. Marriage suggests love. Marriage, love, and divorce are subjects.\n\nPenmanship is a subject. Penmanship suggests education. Education is a subject. Class status and money are subjects. Class status suggests education. Money suggests class status and marriage.\n\nThe current subject is divorce.\n\n\nTo relate (initial - a subject) with (next - a subject):\n\trepeat through Table of Remarks:\n\t\tif the initial is starting entry and the next is the final entry:\n\t\t\tsay &quot;[comment entry][paragraph break]&quot;;\n\t\t\tblank out the whole row;\n\t\t\trule succeeds;\n\tsay paragraph break.\n\nTable of Remarks\nstarting\tfinal\tcomment\ndivorce\tlove\t&quot;&apos;As it seems to me, all the love is on one side,&apos; she says crisply. &apos;And that rarely works.&apos;&quot;\ndivorce\tlove\t&quot;&apos;Stop making that plea: it won&apos;t work.&apos;&quot;\ndivorce\tinfidelity\t&quot;&apos;Frankly, I rather think there would have been cause enough for divorce without the perversely plentiful evidence of unfaithfulness.&apos;&quot;\ndivorce\tmoney\t&quot;&apos;If you mean that the divorce will be expensive, I know it,&apos; she says. &apos;But I can think of no happier investment.&apos;&quot;\nmarriage\tmoney\t&quot;&apos;If you wish me to understand that it was a marriage for money, you could have spared your energy. That was patent from the outset.&apos;&quot;\ninfidelity\tmoney\t&quot;&apos;I&apos;m sorry, but I don&apos;t see how having married for money excuses a subsequent infidelity.&apos;&quot;\n\n\nInstead of asking Lady Uckfield about the subject penmanship:\n\tnow the current subject is penmanship;\n\tsay &quot;She sighs. &apos;So few people write really beautifully these days.&apos;&quot;\n\nTest me with &quot;think / ask lady about infidelity / show nasty letter to lady / show note to lady / think / ask lady about divorce / ask lady about love / ask lady about marriage / ask lady about divorce / ask lady about love / ask lady about penmanship&quot;.`)">⧉</button><div class="codeline storytitle">&quot;The Problem of Edith&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Suggestion relates things to each other. The verb to suggest means the suggestion relation.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A subject is a kind of thing. The current subject is a thing that varies. greeting is a subject.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Understand &quot;ask [someone] about [any subject]&quot; as asking it about the subject. Understand &quot;tell [someone] about [any subject]&quot; as asking it about the subject.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Asking it about the subject is an action applying to one thing and one visible thing.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Carry out asking it about the subject:</div>
<div class="codeline">&ensp;&ensp;say &quot;&#39;Hmm, [the second noun],&#39; says [the noun]. &quot;;</div>
<div class="codeline">&ensp;&ensp;relate the current subject with the second noun;</div>
<div class="codeline">&ensp;&ensp;now the current subject is the second noun.</div>
</div><p>And if we wanted to offer the player some hints about angles he could pursue:</p>
<div class="codeblock"><div class="codeline">Instead of thinking:</div>
<div class="codeline">&ensp;&ensp;say &quot;You contemplate [a list of things suggested by the current subject].&quot;</div>
</div><p>For that matter, we could use the same system to have characters make sense of any physical evidence the character shows them:</p>
<div class="codeblock"><div class="codeline">Instead of showing something which suggests the current subject to someone:</div>
<div class="codeline">&ensp;&ensp;say &quot;[The second noun] nods impatiently.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of showing something to someone:</div>
<div class="codeline">&ensp;&ensp;let the next subject be the next step via the suggestion relation from the noun to the current subject;</div>
<div class="codeline">&ensp;&ensp;if the next subject is a subject:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;try asking the second noun about the subject the next subject;</div>
<div class="codeline">&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;say &quot;[The second noun] shrugs.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">When play begins:</div>
<div class="codeline">&ensp;&ensp;now the left hand status line is &quot;Discussing: [current subject]&quot;;</div>
<div class="codeline">&ensp;&ensp;now the right hand status line is &quot; &quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Broughton Hall is a room. Lady Uckfield is a woman in Broughton Hall. &quot;Lady Uckfield sits at her desk, looking wholly composed.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The nasty letter is a thing carried by the player. The nasty letter suggests infidelity and penmanship. The ten-pound note is carried by the player. It suggests money.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Infidelity is a subject. Infidelity suggests marriage and divorce. Marriage suggests love. Marriage, love, and divorce are subjects.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Penmanship is a subject. Penmanship suggests education. Education is a subject. Class status and money are subjects. Class status suggests education. Money suggests class status and marriage.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The current subject is divorce.</div>
</div><p>Now we can define what gets said when the subject is changed, regardless of whether the segue was introduced in speech or by a shown object. Since rows are blanked after use, the speaker will never repeat herself; if we provide more than one line about the same pair of topics, the first one will be used, then the second, and so on, until the table runs out:</p>
<div class="codeblock"><div class="codeline">To relate (initial - a subject) with (next - a subject):</div>
<div class="codeline">&ensp;&ensp;repeat through Table of Remarks:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;if the initial is starting entry and the next is the final entry:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;[comment entry][paragraph break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;blank out the whole row;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;rule succeeds;</div>
<div class="codeline">&ensp;&ensp;say paragraph break.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline tablename">Table of Remarks</div><table>
<tr><td>starting</td><td>final</td><td>comment</td></tr><tr><td>divorce</td><td>love</td><td>&quot;&#39;As it seems to me, all the love is on one side,&#39; she says crisply. &#39;And that rarely works.&#39;&quot;</td></tr><tr><td>divorce</td><td>love</td><td>&quot;&#39;Stop making that plea: it won&#39;t work.&#39;&quot;</td></tr><tr><td>divorce</td><td>infidelity</td><td>&quot;&#39;Frankly, I rather think there would have been cause enough for divorce without the perversely plentiful evidence of unfaithfulness.&#39;&quot;</td></tr><tr><td>divorce</td><td>money</td><td>&quot;&#39;If you mean that the divorce will be expensive, I know it,&#39; she says. &#39;But I can think of no happier investment.&#39;&quot;</td></tr><tr><td>marriage</td><td>money</td><td>&quot;&#39;If you wish me to understand that it was a marriage for money, you could have spared your energy. That was patent from the outset.&#39;&quot;</td></tr><tr><td>infidelity</td><td>money</td><td>&quot;&#39;I&#39;m sorry, but I don&#39;t see how having married for money excuses a subsequent infidelity.&#39;&quot;</td></tr></table>
</div><p>If we had more than one character in the scenario, we could provide multiple tables, but this will do to demonstrate the idea.</p>
<p>Of course, we can override specific instances, if we want the character always to say the same thing regardless of how we came to this point:</p>
<div class="codeblock"><div class="codeline">Instead of asking Lady Uckfield about the subject penmanship:</div>
<div class="codeline">&ensp;&ensp;now the current subject is penmanship;</div>
<div class="codeline">&ensp;&ensp;say &quot;She sighs. &#39;So few people write really beautifully these days.&#39;&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;think / ask lady about infidelity / show nasty letter to lady / show note to lady / think / ask lady about divorce / ask lady about love / ask lady about marriage / ask lady about divorce / ask lady about love / ask lady about penmanship&quot;.</div>
</div><details class="testme-output"><summary>Test me with "think / ask lady about infidelity / show nasty letter to lady / show note to lady / think / ask lady about divorce / ask lady about love / ask lady about marriage / ask lady about divorce / ask lady about love / ask lady about penmanship".</summary><div class="testme-output">Broughton Hall<br>Lady Uckfield sits at her desk, looking wholly composed.<br><br>>(Testing.)<br><br>>[1] think<br>You contemplate infidelity.<br><br>>[2] ask lady about infidelity<br>"Hmm, infidelity," says Lady Uckfield. "Frankly, I rather think there would have been cause enough for divorce without the perversely plentiful evidence of unfaithfulness."<br><br>>[3] show nasty letter to lady<br>Lady Uckfield nods impatiently.<br><br>>[4] show note to lady<br>"Hmm, money," says Lady Uckfield. "I'm sorry, but I don't see how having married for money excuses a subsequent infidelity."<br><br>>[5] think<br>You contemplate a ten-pound note, marriage and Class status.<br><br>>[6] ask lady about divorce<br>"Hmm, divorce," says Lady Uckfield.<br><br>>[7] ask lady about love<br>"Hmm, love," says Lady Uckfield. "As it seems to me, all the love is on one side," she says crisply. "And that rarely works."<br><br>>[8] ask lady about marriage<br>"Hmm, marriage," says Lady Uckfield.<br><br>>[9] ask lady about divorce<br>"Hmm, divorce," says Lady Uckfield.<br><br>>[10] ask lady about love<br>"Hmm, love," says Lady Uckfield. "Stop making that plea: it won't work."<br><br>>[11] ask lady about penmanship<br>She sighs. "So few people write really beautifully these days."
</div></details><p>We would have to be careful about this system, since we have applied a various-to-various relation to every single object in the game. In practice it would probably be wisest to restrict it a bit, with judicious definitions of kind and so on.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="bogart.html" title="Clothing for the player that layers, so that items cannot be taken off in the wrong order, and the player&#39;s inventory lists only the clothing that is currently visible.">234. Bogart</a></div><div class="doc-navbar-right"><a href="wainwright_acts.html" title="A technical note about checking the location of door objects when characters other than the player are interacting with them.">236. Wainwright Acts</a></div></div>
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p>Thanks go to <a href="http://nitku.net/blog/">Juhana Leinonen</a> for <a href="https://borogove.app">Borogove</a>. The playable examples use <a href="https://eblong.com">Andrew Plotkin</a>'s <a href="https://eblong.com/zarf/glk/glkote.html">GlkOte</a> and <a href="https://eblong.com/zarf/glulx/quixe/index.html">Quixe</a>, distributed under an <a href="../mit.html">MIT License.</a></p><p class="about"><a href="../about.html">About this edition</a></p></footer>
</body></html>
