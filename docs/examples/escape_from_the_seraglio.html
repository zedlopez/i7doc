<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 410. Escape from the Seraglio</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body><main>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Escape from the Seraglio</h1><div class="subheading"><wbr><div class="ex-no">Example 410</div> ★★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_19.html#section_15" title="Rulebooks &gt; Two rulebooks used internally"><div class="nav-arrow"><span class="sc">wi</span> 19.15</div><div class="doc-navbar-text">Two rulebooks used internally</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_6.html#section_15" title="Commands &gt; Actions on Multiple Objects"><div class="doc-navbar-text">Actions on Multiple Objects</div><div class="nav-arrow"><span class="sc">rb</span> 6.15</div></a></div></div>
</div>
<div class="example-meta-desc"><p>Replacing the usual response to TAKE ALL so that instead of output such as &quot;grapes: Taken. orange: Taken.&quot;, Inform produces variable responses in place of &quot;grapes:&quot;.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="endurance.html" title="Giving different actions a range of durations using a time allotment rulebook."><div class="nav-arrow">⬅409. </div><div class="doc-navbar-text">Endurance</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="capital_city.html" title="To arrange that the location information normally given on the left-hand side of the status line appears in block capitals."><div class="doc-navbar-text">Capital City</div><div class="nav-arrow">411.⮕</div></a></div></div>
</header>
<div class="example-body"><div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex410">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="EscapeFromTheSeraglio/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Escape from the Seraglio&quot;\n\nSection 1 - Special Announcement Rules\n\nThe number of takes this turn is a number that varies. Every turn: now the number of takes this turn is 0.\n\nThe friskily announce items from multiple object lists rule is listed instead of the announce items from multiple object lists rule in the action-processing rules.\n\nThis is the friskily announce items from multiple object lists rule:\n\tif taking:\n\t\tif the current item from the multiple object list is not nothing:\n\t\t\tincrement the number of takes this turn;\n\t\t\tsay &quot;[if number of takes this turn is 1]First [otherwise if the number of takes this turn is 2]And then [otherwise if the number of takes this turn is 3]And I suppose also [otherwise if the number of takes this turn is 7]And on we wearily go with [otherwise if the number of takes this turn is 9]Oh, and not forgetting [otherwise]And [end if][the current item from the multiple object list]: [run paragraph on]&quot;;\n\totherwise:\n\t\tif the current item from the multiple object list is not nothing, say &quot;[current item from the multiple object list]: [run paragraph on]&quot;.\n\nRule for deciding whether all includes the person asked: it does not.\nRule for deciding whether all includes a person when taking: it does not.\n\nSection 2 - The Scenario\n\nThe Palm Chamber is a room. Sarissa is a woman in the Palm Chamber.\n\nThe Palm Chamber contains a bottle of ink, a quill pen, a tangerine, a bunch of grapes, a length of silken rope, some perfume, a cake of incense, a fitted leather bodice, a sapphire anklet, an illustrated novel, a whip, and a heavy iron key.\n\nA persuasion rule for asking Sarissa to try taking the key:\n\tsay &quot;Sarissa nervously demurs, knowing that it is forbidden.&quot;;\n\tpersuasion fails.\n\nA persuasion rule: persuasion succeeds.\n\nTest me with &quot;take all / drop all / sarissa, take all&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Escape from the Seraglio&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 1 - Special Announcement Rules</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">The number of takes this turn is a number that varies. Every turn: now the number of takes this turn is 0.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The friskily announce items from multiple object lists rule is listed instead of the announce items from multiple object lists rule in the action-processing rules.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">This is the friskily announce items from multiple object lists rule:</div>
<div class="codeline">&ensp;&ensp;&ensp;if taking:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the current item from the multiple object list is not nothing:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;increment the number of takes this turn;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;[if number of takes this turn is 1]First [otherwise if the number of takes this turn is 2]And then [otherwise if the number of takes this turn is 3]And I suppose also [otherwise if the number of takes this turn is 7]And on we wearily go with [otherwise if the number of takes this turn is 9]Oh, and not forgetting [otherwise]And [end if][the current item from the multiple object list]: [run paragraph on]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the current item from the multiple object list is not nothing, say &quot;[current item from the multiple object list]: [run paragraph on]&quot;.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Rule for deciding whether all includes the person asked: it does not.</div>
<div class="codeline">Rule for deciding whether all includes a person when taking: it does not.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 2 - The Scenario</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Palm Chamber is a room. Sarissa is a woman in the Palm Chamber.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Palm Chamber contains a bottle of ink, a quill pen, a tangerine, a bunch of grapes, a length of silken rope, some perfume, a cake of incense, a fitted leather bodice, a sapphire anklet, an illustrated novel, a whip, and a heavy iron key.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">A persuasion rule for asking Sarissa to try taking the key:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;Sarissa nervously demurs, knowing that it is forbidden.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;persuasion fails.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">A persuasion rule: persuasion succeeds.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;take all / drop all / sarissa, take all&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "take all / drop all / sarissa, take all".</div></summary><div class="testme-output">Palm Chamber<br>You can see Sarissa, a bottle of ink, a quill pen, a tangerine, a bunch of grapes, a length of silken rope, some perfume, a cake of incense, a fitted leather bodice, a sapphire anklet, an illustrated novel, a whip and a heavy iron key here.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] take all</span><br>First the bottle of ink: Taken.<br>And then the quill pen: Taken.<br>And I suppose also the tangerine: Taken.<br>And the bunch of grapes: Taken.<br>And the length of silken rope: Taken.<br>And the perfume: Taken.<br>And on we wearily go with the cake of incense: Taken.<br>And the fitted leather bodice: Taken.<br>Oh, and not forgetting the sapphire anklet: Taken.<br>And the illustrated novel: Taken.<br>And the whip: Taken.<br>And the heavy iron key: Taken.<br><br><span class="mono">&gt;[2] drop all</span><br>heavy iron key: Dropped.<br>whip: Dropped.<br>illustrated novel: Dropped.<br>sapphire anklet: Dropped.<br>fitted leather bodice: Dropped.<br>cake of incense: Dropped.<br>perfume: Dropped.<br>length of silken rope: Dropped.<br>bunch of grapes: Dropped.<br>tangerine: Dropped.<br>quill pen: Dropped.<br>bottle of ink: Dropped.<br><br><span class="mono">&gt;[3] sarissa, take all</span><br>bottle of ink: Sarissa picks up the bottle of ink.<br>quill pen: Sarissa picks up the quill pen.<br>tangerine: Sarissa picks up the tangerine.<br>bunch of grapes: Sarissa picks up the bunch of grapes.<br>length of silken rope: Sarissa picks up the length of silken rope.<br>perfume: Sarissa picks up the perfume.<br>cake of incense: Sarissa picks up the cake of incense.<br>fitted leather bodice: Sarissa picks up the fitted leather bodice.<br>sapphire anklet: Sarissa picks up the sapphire anklet.<br>illustrated novel: Sarissa picks up the illustrated novel.<br>whip: Sarissa picks up the whip.<br>heavy iron key: Sarissa nervously demurs, knowing that it is forbidden.
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="endurance.html" title="Giving different actions a range of durations using a time allotment rulebook."><div class="nav-arrow">⬅409. </div><div class="doc-navbar-text">Endurance</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="capital_city.html" title="To arrange that the location information normally given on the left-hand side of the status line appears in block capitals."><div class="doc-navbar-text">Capital City</div><div class="nav-arrow">411.⮕</div></a></div></div>
</main><footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://mastodon.gamedev.place/web/@inform7tips">@inform7tips@mastodon.gamedev.place</a></p></div></footer>
</body></html>
