<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 438. Curare</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<h1>Curare</h1><div class="subheading">Example 438 ★</div>
<div class="linkback">
<a href="../WI_22.html#section_2" title="Advanced Phrases &gt; Descriptions as values">WI §22.2 Descriptions as values</a><br><a href="../RB_2.html#section_1" title="Adaptive Prose &gt; Varying What Is Written">RB §2.1 Varying What Is Written</a>
</div>
<p class="example-desc">A phrase that chooses and names the least-recently selected item from the collection given, allowing the text to cycle semi-randomly through a group of objects.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="your_mother_doesnt_work_here.html" title="Your hard-working mother uses a list as a stack: urgent tasks are added to the end of the list, interrupting longer-term plans.">437. Your Mother Doesn't Work Here</a></div><div class="doc-navbar-right"><a href="alien_invasion_part23.html" title="Keeping a preference file that could be loaded by any game in a series.">439. Alien Invasion Part 23</a></div></div>
</header>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex438">Play/modify Curare in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Cyclical/index.html">Play Curare in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Curare&quot;\n\nA thing has a number called the last use. The last use of a thing is usually 0.\n\nDefinition: a thing is old if its last use is 12 or less.\n\n\nTo decide which thing is cyclically random (collection - a description of objects):\n\tlet choice be the oldest member of the collection;\n\tnow the last use of the choice is the turn count;\n\tdecide on choice.\n\n\nAfter taking inventory:\n\tsay &quot;You stare morosely at [the cyclically random thing carried by the player], wondering what you&apos;re ever going to find to do with it.&quot;\n\n\nThe Evidence Room is a room. Some shelves are scenery supporters in the Evidence Room. A box is a kind of container which is open and not openable. On the shelves is a box.  It contains a deformed bullet and a driver&apos;s license.\n\nThe player carries a steel fish hook, a Chinese passport, a tube of synthetic curare, and an envelope full of Euros.\n\nTest me with &quot;i / i / i / i / i / i / get all from box / i / i / i&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Curare&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A thing has a number called the last use. The last use of a thing is usually 0.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Definition: a thing is old if its last use is 12 or less.</div>
</div><p>The actual number chosen in this definition is pretty much irrelevant: the main thing is that we want to establish relative values. The lower the &quot;last use&quot; number of an item, the older that item should be understood to be, as we see here:</p>
<div class="codeblock"><div class="codeline">To decide which thing is cyclically random (collection - a description of objects):</div>
<div class="codeline">&ensp;&ensp;let choice be the oldest member of the collection;</div>
<div class="codeline">&ensp;&ensp;now the last use of the choice is the turn count;</div>
<div class="codeline">&ensp;&ensp;decide on choice.</div>
</div><p>This phrase will select, from the collection of objects passed to it, the one that has been mentioned least recently. This means that if we consult it repeatedly about the same collection, it will begin to cycle predictably; but if new items are added to the collection, it will mention these first before returning to the previous cycle. Now we can use this:</p>
<div class="codeblock"><div class="codeline">After taking inventory:</div>
<div class="codeline">&ensp;&ensp;say &quot;You stare morosely at [the cyclically random thing carried by the player], wondering what you&#39;re ever going to find to do with it.&quot;</div>
</div><p>We could have said &quot;You stare morosely at [the oldest thing carried by the player]&quot; here, but doing so would not have set the &quot;last use&quot; property correctly, so we would not get the cycling behavior that we&#39;re looking for.</p>
<div class="codeblock"><div class="codeline">The Evidence Room is a room. Some shelves are scenery supporters in the Evidence Room. A box is a kind of container which is open and not openable. On the shelves is a box.  It contains a deformed bullet and a driver&#39;s license.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The player carries a steel fish hook, a Chinese passport, a tube of synthetic curare, and an envelope full of Euros.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;i / i / i / i / i / i / get all from box / i / i / i&quot;.</div>
</div><details class="testme-output"><summary>Test me with "i / i / i / i / i / i / get all from box / i / i / i".</summary><div class="testme-output">Evidence Room<br>On the shelves is a box (in which are a deformed bullet and a driver&#39;s license).<br><br>&gt;(Testing.)<br><br>&gt;[1] i<br>You are carrying:<br>  a steel fish hook<br>  a Chinese passport<br>  a tube of synthetic curare<br>  an envelope full of Euros<br><br>You stare morosely at the envelope full of Euros, wondering what you&#39;re ever going to find to do with it.<br><br>&gt;[2] i<br>You are carrying:<br>  a steel fish hook<br>  a Chinese passport<br>  a tube of synthetic curare<br>  an envelope full of Euros<br><br>You stare morosely at the tube of synthetic curare, wondering what you&#39;re ever going to find to do with it.<br><br>&gt;[3] i<br>You are carrying:<br>  a steel fish hook<br>  a Chinese passport<br>  a tube of synthetic curare<br>  an envelope full of Euros<br><br>You stare morosely at the Chinese passport, wondering what you&#39;re ever going to find to do with it.<br><br>&gt;[4] i<br>You are carrying:<br>  a steel fish hook<br>  a Chinese passport<br>  a tube of synthetic curare<br>  an envelope full of Euros<br><br>You stare morosely at the steel fish hook, wondering what you&#39;re ever going to find to do with it.<br><br>&gt;[5] i<br>You are carrying:<br>  a steel fish hook<br>  a Chinese passport<br>  a tube of synthetic curare<br>  an envelope full of Euros<br><br>You stare morosely at the envelope full of Euros, wondering what you&#39;re ever going to find to do with it.<br><br>&gt;[6] i<br>You are carrying:<br>  a steel fish hook<br>  a Chinese passport<br>  a tube of synthetic curare<br>  an envelope full of Euros<br><br>You stare morosely at the tube of synthetic curare, wondering what you&#39;re ever going to find to do with it.<br><br>&gt;[7] get all from box<br>deformed bullet: Taken.<br>driver&#39;s license: Taken.<br><br>&gt;[8] i<br>You are carrying:<br>  a driver&#39;s license<br>  a deformed bullet<br>  a steel fish hook<br>  a Chinese passport<br>  a tube of synthetic curare<br>  an envelope full of Euros<br><br>You stare morosely at the deformed bullet, wondering what you&#39;re ever going to find to do with it.<br><br>&gt;[9] i<br>You are carrying:<br>  a driver&#39;s license<br>  a deformed bullet<br>  a steel fish hook<br>  a Chinese passport<br>  a tube of synthetic curare<br>  an envelope full of Euros<br><br>You stare morosely at the driver&#39;s license, wondering what you&#39;re ever going to find to do with it.<br><br>&gt;[10] i<br>You are carrying:<br>  a driver&#39;s license<br>  a deformed bullet<br>  a steel fish hook<br>  a Chinese passport<br>  a tube of synthetic curare<br>  an envelope full of Euros<br><br>You stare morosely at the Chinese passport, wondering what you&#39;re ever going to find to do with it.
</div></details><div class="doc-navbar"><div class="doc-navbar-left"><a href="your_mother_doesnt_work_here.html" title="Your hard-working mother uses a list as a stack: urgent tasks are added to the end of the list, interrupting longer-term plans.">437. Your Mother Doesn't Work Here</a></div><div class="doc-navbar-right"><a href="alien_invasion_part23.html" title="Keeping a preference file that could be loaded by any game in a series.">439. Alien Invasion Part 23</a></div></div>
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p>Thanks go to <a href="http://nitku.net/blog/">Juhana Leinonen</a> for <a href="https://borogove.app">Borogove</a>. The playable examples use <a href="https://eblong.com">Andrew Plotkin</a>'s <a href="https://eblong.com/zarf/glk/glkote.html">GlkOte</a> and <a href="https://eblong.com/zarf/glulx/quixe/index.html">Quixe</a>, distributed under an <a href="../mit.html">MIT License.</a></p><p class="about"><a href="../about.html">About this edition</a> &bull; <a href="https://twitter.com/inform7tips">@inform7tips</a></p></footer>
</body></html>
