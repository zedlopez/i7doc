<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 103. Polarity</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Polarity</h1><div class="subheading">Example 103 ★★★</div></div></div>
<div class="linkback">
<a href="../WI_7.html#section_13" title="Basic Actions &gt; Going from, going to">WI §7.13 Going from, going to</a><br><a href="../RB_6.html#section_9" title="Commands &gt; Going, Pushing Things in Directions">RB §6.9 Going, Pushing Things in Directions</a>
</div>
<p class="example-desc">A &quot;go back&quot; command that keeps track of the direction from which the player came, and sends him back.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="bumping_into_walls.html" title="Offering the player a list of valid directions if he tries to go in a direction that leads nowhere."><div class="nav-arrow">←</div> <div class="doc-navbar-text">102. Bumping into Walls</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="no_relation.html" title="A car which must be turned on before it can be driven, and can only go to roads."><div class="doc-navbar-text">104. No Relation</div> <div class="nav-arrow">→</div></a></div></div>
</header>
<p>The main trick of this is always to record where the player has gone when he has just moved.</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex103">Play/modify Polarity in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Former/index.html">Play Polarity in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Polarity&quot;\n\nThe former location is a room that varies.\n\n\nFirst carry out going rule:\n\tnow the former location is the location.\n\nUnderstand &quot;go back&quot; as retreating. Understand &quot;back&quot; or &quot;return&quot; or &quot;retreat&quot; as retreating.\n\nRetreating is an action applying to nothing.\n\nCarry out retreating:\n\tlet way be the best route from the location to the former location, using doors;\n\tif way is a direction, try going way;\n\totherwise say &quot;You can&apos;t see an open way back.&quot;\n\n\nWhen play begins: now the former location is the Dome.\n\nInstead of retreating when the former location is the location: say &quot;You haven&apos;t gone anywhere yet.&quot;\n\nDome is a room. North of Dome is North Chapel. South of the Dome is South Chapel. West of the Dome is Western End. Quiet Corner is northwest of the Dome, north of Western End, and west of North Chapel. Loud Corner is east of North Chapel, northeast of Dome, and north of Eastern End. Eastern End is north of Dim Corner and east of Dome. Dim Corner is southeast of Dome and east of South Chapel. Ruined Corner is southwest of Dome, west of South Chapel, and south of Western End.\n\nThe church door is east of Eastern End and west of the Courtyard. The church door is a door.\n\nTest me with &quot;back / n / go back / e / open door / go through door / go back&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Polarity&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The former location is a room that varies.</div>
</div><p>Here we record where the player has been before moving him; by calling this the &quot;first carry out going rule&quot;, we make sure that this rule is followed during the going action before any other pieces of the movement occur. For more detail, see the chapters on advanced actions and on rules.</p>
<div class="codeblock"><div class="codeline">First carry out going rule:</div>
<div class="codeline">&ensp;&ensp;now the former location is the location.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Understand &quot;go back&quot; as retreating. Understand &quot;back&quot; or &quot;return&quot; or &quot;retreat&quot; as retreating.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Retreating is an action applying to nothing.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Carry out retreating:</div>
<div class="codeline">&ensp;&ensp;let way be the best route from the location to the former location, using doors;</div>
<div class="codeline">&ensp;&ensp;if way is a direction, try going way;</div>
<div class="codeline">&ensp;&ensp;otherwise say &quot;You can&#39;t see an open way back.&quot;</div>
</div><p>And to deal with the case where the player has not yet moved:</p>
<div class="codeblock"><div class="codeline">When play begins: now the former location is the Dome.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of retreating when the former location is the location: say &quot;You haven&#39;t gone anywhere yet.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Dome is a room. North of Dome is North Chapel. South of the Dome is South Chapel. West of the Dome is Western End. Quiet Corner is northwest of the Dome, north of Western End, and west of North Chapel. Loud Corner is east of North Chapel, northeast of Dome, and north of Eastern End. Eastern End is north of Dim Corner and east of Dome. Dim Corner is southeast of Dome and east of South Chapel. Ruined Corner is southwest of Dome, west of South Chapel, and south of Western End.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The church door is east of Eastern End and west of the Courtyard. The church door is a door.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;back / n / go back / e / open door / go through door / go back&quot;.</div>
</div><details class="testme-output"><summary>Test me with "back / n / go back / e / open door / go through door / go back".</summary><div class="testme-output">Dome<br><br>&gt;(Testing.)<br><br>&gt;[1] back<br>You haven&#39;t gone anywhere yet.<br><br>&gt;[2] n<br><br>North Chapel<br><br>&gt;[3] go back<br><br>Dome<br><br>&gt;[4] e<br><br>Eastern End<br>You can see a church door here.<br><br>&gt;[5] open door<br>You open the church door.<br><br>&gt;[6] go through door<br><br>Courtyard<br>You can see a church door here.<br><br>&gt;[7] go back<br><br>Eastern End<br>You can see a church door here.
</div></details><div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="bumping_into_walls.html" title="Offering the player a list of valid directions if he tries to go in a direction that leads nowhere."><div class="nav-arrow">←</div> <div class="doc-navbar-text">102. Bumping into Walls</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="no_relation.html" title="A car which must be turned on before it can be driven, and can only go to roads."><div class="doc-navbar-text">104. No Relation</div> <div class="nav-arrow">→</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="nav-about" href="../about.html">About this edition</a> &bull; <a class="nav-about" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
