<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 385. Jamaica 1688</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<h1>Jamaica 1688</h1><div class="subheading">Example 385 ★</div>
<div class="linkback">
<a href="../WI_18.html#section_38" title="Activities &gt; Printing the player&#39;s obituary">WI §18.38 Printing the player's obituary</a><br><a href="../RB_11.html#section_6" title="Out Of World Actions and Effects &gt; Ending The Story">RB §11.6 Ending The Story</a>
</div>
<p class="example-desc">Adding a feature to the final question after victory, so that the player can choose to reveal notes about items in the game.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="finality.html" title="Not mentioning UNDO in the final set of options.">384. Finality</a></div><div class="doc-navbar-right"><a href="xerxes.html" title="Offering the player a menu of things to read after winning the game.">386. Xerxes</a></div></div>
</header>
<p>The options offered to the player at the end of the game are listed in the Table of Final Question Options, which means that we can add to them simply by continuing the table; what&#39;s more, the table gives us the opportunity to create a &quot;final response rule&quot;, a rule that the game should follow in order to parse the player&#39;s input at this point.</p>
<p>So, for instance, if we wanted the player to be allowed to ask for notes about any of the rooms, characters, or objects in a historical game:</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex385">Play/modify Jamaica 1688 in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Jamaica1688/index.html">Play Jamaica 1688 in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Jamaica 1688&quot;\n\nUse scoring.\n\nSection 1 - Procedure\n\nTable of Final Question Options (continued)\nfinal question wording\tonly if victorious\ttopic\tfinal response rule\tfinal response activity\n&quot;REVEAL the inspiration for something or somewhere&quot;\ttrue\t&quot;reveal [any thing]&quot;\tinvestigate something rule\t--\n--\ttrue\t&quot;reveal [any room]&quot;\tinvestigate something rule\t--\n\nThis is the investigate something rule:\n\trepeat through the Table of Footnotey Stuff:\n\t\tif the player&apos;s command matches the topic entry:\n\t\t\tsay &quot;[revelation entry][paragraph break]&quot;;\n\t\t\trule succeeds;\n\tsay &quot;I&apos;m afraid I have no revelation to vouchsafe there.&quot;\n\nSection 2 - Scenario\n\nThe Upper Deck is a room. Lucius is a man in the Upper Deck.\n\nThe maximum score is 501.\n\nWhen play begins: now the score is 501; end the story finally.\n\nTable of Footnotey Stuff\ntopic\t\t\trevelation\n&quot;reveal [Lucius]&quot;\t&quot;Lucius is based on a historical buccaneer who sailed with William Dampier. The original did carry a Greek New Testament, from which he read aloud when the men were stranded in the jungles near Panama.&quot;\n&quot;reveal [Upper Deck]&quot;\t&quot;The Callisto is a simplified and tidied representation of a pirate sloop ca. 1688.&quot;`)">⧉</button><div class="codeline storytitle">&quot;Jamaica 1688&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Use scoring.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline i7header">Section 1 - Procedure</div><div class="codeline tablename">Table of Final Question Options (continued)</div><table>
<tr><td>final question wording</td><td>only if victorious</td><td>topic</td><td>final response rule</td><td>final response activity</td></tr><tr><td>&quot;REVEAL the inspiration for something or somewhere&quot;</td><td>true</td><td>&quot;reveal [any thing]&quot;</td><td>investigate something rule</td><td>--</td></tr><tr><td>--</td><td>true</td><td>&quot;reveal [any room]&quot;</td><td>investigate something rule</td><td>--</td></tr></table>
<div class="codeline">This is the investigate something rule:</div>
<div class="codeline">&ensp;&ensp;repeat through the Table of Footnotey Stuff:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;if the player&#39;s command matches the topic entry:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;[revelation entry][paragraph break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;rule succeeds;</div>
<div class="codeline">&ensp;&ensp;say &quot;I&#39;m afraid I have no revelation to vouchsafe there.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline i7header">Section 2 - Scenario</div><div class="codeline">The Upper Deck is a room. Lucius is a man in the Upper Deck.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The maximum score is 501.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">When play begins: now the score is 501; end the story finally.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline tablename">Table of Footnotey Stuff</div><table>
<tr><td>topic</td><td>revelation</td></tr><tr><td>&quot;reveal [Lucius]&quot;</td><td>&quot;Lucius is based on a historical buccaneer who sailed with William Dampier. The original did carry a Greek New Testament, from which he read aloud when the men were stranded in the jungles near Panama.&quot;</td></tr><tr><td>&quot;reveal [Upper Deck]&quot;</td><td>&quot;The Callisto is a simplified and tidied representation of a pirate sloop ca. 1688.&quot;</td></tr></table>
</div><div class="doc-navbar"><div class="doc-navbar-left"><a href="finality.html" title="Not mentioning UNDO in the final set of options.">384. Finality</a></div><div class="doc-navbar-right"><a href="xerxes.html" title="Offering the player a menu of things to read after winning the game.">386. Xerxes</a></div></div>
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p>Thanks go to <a href="http://nitku.net/blog/">Juhana Leinonen</a> for <a href="https://borogove.app">Borogove</a>. The playable examples use <a href="https://eblong.com">Andrew Plotkin</a>'s <a href="https://eblong.com/zarf/glk/glkote.html">GlkOte</a> and <a href="https://eblong.com/zarf/glulx/quixe/index.html">Quixe</a>, distributed under an <a href="../mit.html">MIT License.</a></p><p class="about"><a href="../about.html">About this edition</a> &bull; <a href="https://twitter.com/inform7tips">@inform7tips</a></p></footer>
</body></html>
