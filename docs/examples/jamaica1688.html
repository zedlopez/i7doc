<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 385. Jamaica 1688</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body><main>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Jamaica 1688</h1><div class="subheading"><wbr><div class="ex-no">Example 385</div> ★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_18.html#section_38" title="Activities &gt; Printing the player&#39;s obituary"><div class="nav-arrow"><span class="sc">wi</span>&nbsp;18.38</div><div class="doc-navbar-text">Printing the player's obituary</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_11.html#section_6" title="Out Of World Actions and Effects &gt; Ending The Story"><div class="doc-navbar-text">Ending The Story</div><div class="nav-arrow"><span class="sc">rb</span>&nbsp;11.6</div></a></div></div>
</div>
<div class="example-meta-desc"><p>Adding a feature to the final question after victory, so that the player can choose to reveal notes about items in the game.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="finality.html" title="Not mentioning UNDO in the final set of options."><div class="nav-arrow">⬅384. </div><div class="doc-navbar-text">Finality</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="xerxes.html" title="Offering the player a menu of things to read after winning the game."><div class="doc-navbar-text">Xerxes</div><div class="nav-arrow">386.⮕</div></a></div></div>
</header>
<div class="example-body"><p>The options offered to the player at the end of the game are listed in the Table of Final Question Options, which means that we can add to them simply by continuing the table; what&#39;s more, the table gives us the opportunity to create a &quot;final response rule&quot;, a rule that the game should follow in order to parse the player&#39;s input at this point.</p>
<p>So, for instance, if we wanted the player to be allowed to ask for notes about any of the rooms, characters, or objects in a historical game:</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex385">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="Jamaica1688/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Jamaica 1688&quot;\n\nUse scoring.\n\nSection 1 - Procedure\n\nTable of Final Question Options (continued)\nfinal question wording\tonly if victorious\ttopic\tfinal response rule\tfinal response activity\n&quot;REVEAL the inspiration for something or somewhere&quot;\ttrue\t&quot;reveal [any thing]&quot;\tinvestigate something rule\t--\n--\ttrue\t&quot;reveal [any room]&quot;\tinvestigate something rule\t--\n\nThis is the investigate something rule:\n\trepeat through the Table of Footnotey Stuff:\n\t\tif the player&apos;s command matches the topic entry:\n\t\t\tsay &quot;[revelation entry][paragraph break]&quot;;\n\t\t\trule succeeds;\n\tsay &quot;I&apos;m afraid I have no revelation to vouchsafe there.&quot;\n\nSection 2 - Scenario\n\nThe Upper Deck is a room. Lucius is a man in the Upper Deck.\n\nThe maximum score is 501.\n\nWhen play begins: now the score is 501; end the story finally.\n\nTable of Footnotey Stuff\ntopic\t\t\trevelation\n&quot;reveal [Lucius]&quot;\t&quot;Lucius is based on a historical buccaneer who sailed with William Dampier. The original did carry a Greek New Testament, from which he read aloud when the men were stranded in the jungles near Panama.&quot;\n&quot;reveal [Upper Deck]&quot;\t&quot;The Callisto is a simplified and tidied representation of a pirate sloop ca. 1688.&quot;`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Jamaica 1688&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Use scoring.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 1 - Procedure</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline tablename">Table of Final Question Options (continued)</div><table>
<tr><td>final question wording</td><td>only if victorious</td><td>topic</td><td>final response rule</td><td>final response activity</td></tr><tr><td>&quot;REVEAL the inspiration for something or somewhere&quot;</td><td>true</td><td>&quot;reveal [any thing]&quot;</td><td>investigate something rule</td><td>--</td></tr><tr><td>--</td><td>true</td><td>&quot;reveal [any room]&quot;</td><td>investigate something rule</td><td>--</td></tr></table>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">This is the investigate something rule:</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat through the Table of Footnotey Stuff:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the player&#39;s command matches the topic entry:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;[revelation entry][paragraph break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;rule succeeds;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;I&#39;m afraid I have no revelation to vouchsafe there.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 2 - Scenario</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Upper Deck is a room. Lucius is a man in the Upper Deck.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The maximum score is 501.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">When play begins: now the score is 501; end the story finally.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline tablename">Table of Footnotey Stuff</div><table>
<tr><td>topic</td><td>revelation</td></tr><tr><td>&quot;reveal [Lucius]&quot;</td><td>&quot;Lucius is based on a historical buccaneer who sailed with William Dampier. The original did carry a Greek New Testament, from which he read aloud when the men were stranded in the jungles near Panama.&quot;</td></tr><tr><td>&quot;reveal [Upper Deck]&quot;</td><td>&quot;The Callisto is a simplified and tidied representation of a pirate sloop ca. 1688.&quot;</td></tr></table>
</div></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="finality.html" title="Not mentioning UNDO in the final set of options."><div class="nav-arrow">⬅384. </div><div class="doc-navbar-text">Finality</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="xerxes.html" title="Offering the player a menu of things to read after winning the game."><div class="doc-navbar-text">Xerxes</div><div class="nav-arrow">386.⮕</div></a></div></div>
</main><footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://mastodon.gamedev.place/web/@inform7tips">@inform7tips@mastodon.gamedev.place</a></p></div></footer>
</body></html>
