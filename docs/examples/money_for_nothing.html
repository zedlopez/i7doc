<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 265. Money for Nothing</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body><main>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Money for Nothing</h1><div class="subheading"><wbr><div class="ex-no">Example 265</div> ★★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_15.html#section_19" title="Numbers and Equations &gt; Arithmetic with units"><div class="nav-arrow"><span class="sc">wi</span> 15.19</div><div class="doc-navbar-text">Arithmetic with units</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_9.html#section_4" title="Props: Food, Clothing, Money, Toys, Books, Electronics &gt; Money"><div class="doc-navbar-text">Money</div><div class="nav-arrow"><span class="sc">rb</span> 9.4</div></a></div></div>
</div>
<div class="example-meta-desc"><p>An OFFER price FOR command, allowing the player to bargain with a flexible seller.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="frozen_assets.html" title="A treatment of money which keeps track of how much the player has on him, and a BUY command which lets him go shopping."><div class="nav-arrow">⬅264. </div><div class="doc-navbar-text">Frozen Assets</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="lemonade.html" title="Containers for liquid which keep track of how much liquid they are holding and of what kind, and allow quantities to be moved from one container to another."><div class="doc-navbar-text">Lemonade</div><div class="nav-arrow">266.⮕</div></a></div></div>
</header>
<div class="example-body"><div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex265">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="Bargaining/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Money for Nothing&quot;\n\nSection 1 - Prices and Bargaining\n\nPrice is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).\n\nA person has a price called wealth. The wealth of the player is $15.\n\nA thing has a price called minimum value. The minimum value of a thing is usually $0.50.\n\nA thing has a price called desired value. The desired value of a thing is usually $5.00.\n\nOffering it for is an action applying to one price and one visible thing.\n\nUnderstand &quot;offer [price] for [something]&quot; as offering it for.\n\nAfter taking inventory, say &quot;You have [the wealth of the player].&quot;\n\nCheck offering it for:\n\tif the price understood is greater than the wealth of the player, say &quot;You don&apos;t have that kind of cash.&quot; instead;\n\tif the second noun is not carried by someone, say &quot;There&apos;s no one in a position to sell you [the second noun].&quot; instead;\n\tif the second noun is carried by the player, say &quot;[The second noun] is already yours.&quot; instead;\n\tif the minimum value of the second noun is greater than the price understood, say &quot;[The holder of the second noun] cackles disdainfully. &apos;If yer just here to insult me you can take your business elsewhere!&apos; he says.&quot; instead;\n\tif the desired value of the second noun is greater than the price understood:\n\t\tlet difference be the desired value of the second noun minus the price understood;\n\t\tlet difference be difference divided by two;\n\t\tdecrease the desired value of the second noun by difference;\n\t\tnow the last object offered is the second noun;\n\t\tsay &quot;&apos;How about [desired value of the second noun]?&apos; suggests [the holder of the second noun].&quot; instead;\n\totherwise:\n\t\tunless the desired value of the second noun is the price understood:\n\t\t\tsay &quot;From the avaricious gleam in the eye of [the holder of the second noun], you guess you could&apos;ve gotten this purchase for less...&quot;\n\nCarry out offering it for:\n\tincrease the wealth of the holder of the second noun by the price understood;\n\tdecrease the wealth of the player by the price understood;\n\tmove the second noun to the player.\n\nReport offering it for:\n\tsay &quot;You spend [the price understood], and now you possess [the second noun].&quot;\n\nWhen play begins: now right hand status line is &quot;Your funds: [wealth of the player]&quot;.\n\n\nThe last object offered is a thing that varies.\n\nInstead of saying yes when the last object offered is carried by a person (called seller) who is not the player:\n\tif the seller is not visible:\n\t\tcontinue the action;\n\totherwise:\n\t\tnow the price understood is the desired value of the last object offered;\n\t\ttry offering the desired value of the last object offered for the last object offered.\n\nInstead of saying no when the last object offered is carried by a person (called seller) who is not the player:\n\tif the seller is not visible:\n\t\tcontinue the action;\n\totherwise:\n\t\tnow the last object offered is the player;\n\t\tsay &quot;You reject the offer firmly.&quot;\n\n\nUnderstand &quot;offer [price] to [someone]&quot; as a mistake (&quot;You&apos;ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;). Understand &quot;offer [someone] [price]&quot; as a mistake (&quot;You&apos;ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).\n\nUnderstand &quot;buy [something]&quot; as a mistake (&quot;You&apos;ll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).\n\nSection 2 - The Scenario\n\nThe Flea Market is a room. The crotchety man is a man in the Market. &quot;A crotchety man here is selling [the list of things carried by the crotchety man].&quot; The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.\n\nThe minimum value of the brooch is $2.50.\n\nTest me with &quot;offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Money for Nothing&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 1 - Prices and Bargaining</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">Price is a kind of value. $10.99 specifies a price with parts dollars and cents (optional, preamble optional).</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">A person has a price called wealth. The wealth of the player is $15.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">A thing has a price called minimum value. The minimum value of a thing is usually $0.50.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">A thing has a price called desired value. The desired value of a thing is usually $5.00.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Offering it for is an action applying to one price and one visible thing.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;offer [price] for [something]&quot; as offering it for.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">After taking inventory, say &quot;You have [the wealth of the player].&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Check offering it for:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the price understood is greater than the wealth of the player, say &quot;You don&#39;t have that kind of cash.&quot; instead;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the second noun is not carried by someone, say &quot;There&#39;s no one in a position to sell you [the second noun].&quot; instead;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the second noun is carried by the player, say &quot;[The second noun] is already yours.&quot; instead;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the minimum value of the second noun is greater than the price understood, say &quot;[The holder of the second noun] cackles disdainfully. &#39;If yer just here to insult me you can take your business elsewhere!&#39; he says.&quot; instead;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the desired value of the second noun is greater than the price understood:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let difference be the desired value of the second noun minus the price understood;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let difference be difference divided by two;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;decrease the desired value of the second noun by difference;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the last object offered is the second noun;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;&#39;How about [desired value of the second noun]?&#39; suggests [the holder of the second noun].&quot; instead;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;unless the desired value of the second noun is the price understood:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;From the avaricious gleam in the eye of [the holder of the second noun], you guess you could&#39;ve gotten this purchase for less...&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Carry out offering it for:</div>
<div class="codeline">&ensp;&ensp;&ensp;increase the wealth of the holder of the second noun by the price understood;</div>
<div class="codeline">&ensp;&ensp;&ensp;decrease the wealth of the player by the price understood;</div>
<div class="codeline">&ensp;&ensp;&ensp;move the second noun to the player.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Report offering it for:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You spend [the price understood], and now you possess [the second noun].&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">When play begins: now right hand status line is &quot;Your funds: [wealth of the player]&quot;.</div>
</div><p>Now, since the man does make counter-offers, it would be reasonable to let the player accept or reject those, as well:</p>
<div class="codeblock"><div class="codeline">The last object offered is a thing that varies.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Instead of saying yes when the last object offered is carried by a person (called seller) who is not the player:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the seller is not visible:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;continue the action;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the price understood is the desired value of the last object offered;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;try offering the desired value of the last object offered for the last object offered.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Instead of saying no when the last object offered is carried by a person (called seller) who is not the player:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the seller is not visible:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;continue the action;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the last object offered is the player;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;You reject the offer firmly.&quot;</div>
</div><p>And we borrow just a line or two from a later chapter to take care of some alternate syntax the player might try:</p>
<div class="codeblock"><div class="codeline">Understand &quot;offer [price] to [someone]&quot; as a mistake (&quot;You&#39;ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;). Understand &quot;offer [someone] [price]&quot; as a mistake (&quot;You&#39;ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;buy [something]&quot; as a mistake (&quot;You&#39;ll have to name your price: try OFFER $1000.00 FOR BROOKLYN BRIDGE.&quot;).</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 2 - The Scenario</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Flea Market is a room. The crotchety man is a man in the Market. &quot;A crotchety man here is selling [the list of things carried by the crotchety man].&quot; The crotchety man carries a broken television set, a Victorian rhinestone brooch, and a cracked shaving mug.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The minimum value of the brooch is $2.50.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "offer $0.50 for mug / offer $0.50 to man / offer $6.00 for mug / offer $50.00 for brooch / offer $1.50 for brooch / offer $4.50 for brooch / no / offer $4.50 for brooch / yes".</div></summary><div class="testme-output">Flea Market<br>A crotchety man here is selling the broken television set, the Victorian rhinestone brooch and the cracked shaving mug.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] offer $0.50 for mug</span><br>&quot;How about $2.75?&quot; suggests the crotchety man.<br><br><span class="mono">&gt;[2] offer $0.50 to man</span><br>You&#39;ll need to specify what you want to buy -- try OFFER $1000.00 FOR BROOKLYN BRIDGE.<br><br><span class="mono">&gt;[3] offer $6.00 for mug</span><br>From the avaricious gleam in the eye of the crotchety man, you guess you could&#39;ve gotten this purchase for less...<br><br>You spend $6, and now you possess the cracked shaving mug.<br><br><span class="mono">&gt;[4] offer $50.00 for brooch</span><br>You don&#39;t have that kind of cash.<br><br><span class="mono">&gt;[5] offer $1.50 for brooch</span><br>The crotchety man cackles disdainfully. &quot;If yer just here to insult me you can take your business elsewhere!&quot; he says.<br><br><span class="mono">&gt;[6] offer $4.50 for brooch</span><br>&quot;How about $4.75?&quot; suggests the crotchety man.<br><br><span class="mono">&gt;[7] no</span><br>You reject the offer firmly.<br><br><span class="mono">&gt;[8] offer $4.50 for brooch</span><br>&quot;How about $4.63?&quot; suggests the crotchety man.<br><br><span class="mono">&gt;[9] yes</span><br>You spend $4.63, and now you possess the Victorian rhinestone brooch.
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="frozen_assets.html" title="A treatment of money which keeps track of how much the player has on him, and a BUY command which lets him go shopping."><div class="nav-arrow">⬅264. </div><div class="doc-navbar-text">Frozen Assets</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="lemonade.html" title="Containers for liquid which keep track of how much liquid they are holding and of what kind, and allow quantities to be moved from one container to another."><div class="doc-navbar-text">Lemonade</div><div class="nav-arrow">266.⮕</div></a></div></div>
</main><footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://mastodon.gamedev.place/web/@inform7tips">@inform7tips@mastodon.gamedev.place</a></p></div></footer>
</body></html>
