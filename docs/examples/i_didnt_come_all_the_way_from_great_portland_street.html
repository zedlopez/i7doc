<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 434. I Didn't Come All The Way From Great Portland Street</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<h1>I Didn't Come All The Way From Great Portland Street</h1><div class="subheading">Example 434 ★</div>
<div class="linkback">
<a href="../WI_21.html#section_11" title="Lists &gt; Variations: arrays, logs, queues, stacks, sets, sieves and rings">WI §21.11 Variations: arrays, logs, queues, stacks, sets, sieves and rings</a><br><a href="../RB_6.html#section_14" title="Commands &gt; Remembering, Converting and Combining Actions">RB §6.14 Remembering, Converting and Combining Actions</a>
</div>
<p class="example-desc">In this fiendishly difficult puzzle, which may perhaps owe some inspiration to a certain BBC Radio panel game (1967-), a list is used as a set of actions to help enforce the rule that the player must keep going for ten turns without hesitation, repetition, or deviating from the subject on the card.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="fibonacci_sequence.html" title="The modest Leonardo Fibonacci of Pisa will be only too happy to construct his sequence on request, using an array.">433. The Fibonacci Sequence</a></div><div class="doc-navbar-right"><a href="lugubrious_petes_delicatessen.html" title="In this evocation of supermarket deli counter life, a list is used as a queue to keep track of who is waiting to be served.">435. Lugubrious Pete's Delicatessen</a></div></div>
</header>
<p>There is very little to this, in fact. The tricky rule to enforce is Repetition: the player is forbidden to repeat any previously tried action. We keep track of this by keeping a set of past actions, which for want of a better term is called the &quot;tally&quot;. All we need to do is:</p>
<div class="codeblock"><div class="codeline">if the current action is listed in the tally, challenge for &quot;Repetition of [the current action]!&quot;;</div>
<div class="codeline">otherwise add the current action to the tally.</div>
</div><p>Note that the tally can never contain duplicates, and that when, at the end of the round, we print it out, we sort it first &ndash; this makes a more natural-looking sentence. (Sorting a list of actions uses the natural order for actions: compare the sequence on the Actions page of the Index.) The full text, then, is:</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex434">Play/modify I Didn't Come All The Way From Great Portland Street in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="GreatPortlandStreet/index.html">Play I Didn't Come All The Way From Great Portland Street in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;I Didn&apos;t Come All The Way From Great Portland Street&quot;\n\nThe Paris Theatre is a room. An instrument is a kind of thing. The violin, the tuba, the xylophone and the triangle are instruments. The violin is inside the case. The tuba, the xylophone, the radish, the case, the bust of Nicholas Parsons, the purple felt hat and the triangle are in the Paris Theatre.\n\nThe Round is a scene. The Round begins when play begins. The Round ends when the turn count is 10.\n\nThe tally is a list of stored actions that varies.\n\nWhen the Round begins:\n\tsay &quot;&apos;And the subject on the card is... musical instruments. Will you carry out for us something to do with that, please, for ten turns starting - now!&apos;&quot;\n\nWhen the Round ends:\n\tsort the tally;\n\tsay &quot;Phweeep![paragraph break]&apos;So, when the whistle goes ten turns are up, you get a point for acting when the whistle blows, and in that round you entertained us by [the tally], and you also get a bonus point for keeping going until the whistle went.&apos;&quot;;\n\tend the story finally.\n\nTo challenge for (infraction - text):\n\tsay &quot;Bzzzzt! &apos;And [one of]Clement Freud[or]Derek Nimmo[or]Kenneth Williams[or]Peter Jones[at random] has challenged.&apos;[paragraph break]&apos;[infraction]&apos;[paragraph break]&apos;Well, as it&apos;s your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have [10 minus the turn count] turn[s] left on musical instruments, starting... now!&quot;\n\nBefore doing something:\n\tif the current action is listed in the tally, challenge for &quot;Repetition of [the current action]!&quot; instead;\n\totherwise add the current action to the tally;\n\tif waiting, challenge for &quot;Hesitation!&quot; instead;\n\tif not looking and not waiting and the noun is not an instrument and the second noun is not an instrument, challenge for &quot;Deviation!&quot; instead.\n\nTest me with &quot;look / wait / examine bust / take tuba / get triangle / hit xylophone / get tuba / examine tuba / get violin&quot;.`)">⧉</button><div class="codeline storytitle">&quot;I Didn&#39;t Come All The Way From Great Portland Street&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Paris Theatre is a room. An instrument is a kind of thing. The violin, the tuba, the xylophone and the triangle are instruments. The violin is inside the case. The tuba, the xylophone, the radish, the case, the bust of Nicholas Parsons, the purple felt hat and the triangle are in the Paris Theatre.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Round is a scene. The Round begins when play begins. The Round ends when the turn count is 10.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The tally is a list of stored actions that varies.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">When the Round begins:</div>
<div class="codeline">&ensp;&ensp;say &quot;&#39;And the subject on the card is... musical instruments. Will you carry out for us something to do with that, please, for ten turns starting - now!&#39;&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">When the Round ends:</div>
<div class="codeline">&ensp;&ensp;sort the tally;</div>
<div class="codeline">&ensp;&ensp;say &quot;Phweeep![paragraph break]&#39;So, when the whistle goes ten turns are up, you get a point for acting when the whistle blows, and in that round you entertained us by [the tally], and you also get a bonus point for keeping going until the whistle went.&#39;&quot;;</div>
<div class="codeline">&ensp;&ensp;end the story finally.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">To challenge for (infraction - text):</div>
<div class="codeline">&ensp;&ensp;say &quot;Bzzzzt! &#39;And [one of]Clement Freud[or]Derek Nimmo[or]Kenneth Williams[or]Peter Jones[at random] has challenged.&#39;[paragraph break]&#39;[infraction]&#39;[paragraph break]&#39;Well, as it&#39;s your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have [10 minus the turn count] turn[s] left on musical instruments, starting... now!&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Before doing something:</div>
<div class="codeline">&ensp;&ensp;if the current action is listed in the tally, challenge for &quot;Repetition of [the current action]!&quot; instead;</div>
<div class="codeline">&ensp;&ensp;otherwise add the current action to the tally;</div>
<div class="codeline">&ensp;&ensp;if waiting, challenge for &quot;Hesitation!&quot; instead;</div>
<div class="codeline">&ensp;&ensp;if not looking and not waiting and the noun is not an instrument and the second noun is not an instrument, challenge for &quot;Deviation!&quot; instead.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;look / wait / examine bust / take tuba / get triangle / hit xylophone / get tuba / examine tuba / get violin&quot;.</div>
</div><details class="testme-output"><summary>Test me with "look / wait / examine bust / take tuba / get triangle / hit xylophone / get tuba / examine tuba / get violin".</summary><div class="testme-output">Paris Theatre<br>You can see a tuba, a xylophone, a triangle, a case (in which is a violin), a radish, a bust of Nicholas Parsons and a purple felt hat here.<br><br>&gt;(Testing.)<br><br>&gt;[1] look<br>Bzzzzt! &quot;And Peter Jones has challenged.&quot;<br><br>&quot;Repetition of looking!&quot;<br><br>&quot;Well, as it&#39;s your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have 9 turns left on musical instruments, starting... now!<br><br>&gt;[2] wait<br>Bzzzzt! &quot;And Clement Freud has challenged.&quot;<br><br>&quot;Hesitation!&quot;<br><br>&quot;Well, as it&#39;s your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have 8 turns left on musical instruments, starting... now!<br><br>&gt;[3] examine bust<br>Bzzzzt! &quot;And Derek Nimmo has challenged.&quot;<br><br>&quot;Deviation!&quot;<br><br>&quot;Well, as it&#39;s your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have 7 turns left on musical instruments, starting... now!<br><br>&gt;[4] take tuba<br>Taken.<br><br>&gt;[5] get triangle<br>Taken.<br><br>&gt;[6] hit xylophone<br>Violence isn&#39;t the answer to this one.<br><br>&gt;[7] get tuba<br>Bzzzzt! &quot;And Kenneth Williams has challenged.&quot;<br><br>&quot;Repetition of taking the tuba!&quot;<br><br>&quot;Well, as it&#39;s your first time playing the game, and the audience was enjoying your contribution so much, I will disallow the challenge, you have 3 turns left on musical instruments, starting... now!<br><br>&gt;[8] examine tuba<br>You see nothing special about the tuba.<br><br>&gt;[9] get violin<br>Taken.<br><br>Phweeep!<br><br>&quot;So, when the whistle goes ten turns are up, you get a point for acting when the whistle blows, and in that round you entertained us by waiting, taking the tuba, taking the triangle, taking the violin, looking, examining the tuba, examining the bust of Nicholas Parsons and attacking the xylophone, and you also get a bonus point for keeping going until the whistle went.&quot;<br><br><br><br>    *** The End ***
</div></details><p>(The Paris Theatre in Lower Regent Street, London, was for many years the home of BBC radio panel games.)</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="fibonacci_sequence.html" title="The modest Leonardo Fibonacci of Pisa will be only too happy to construct his sequence on request, using an array.">433. The Fibonacci Sequence</a></div><div class="doc-navbar-right"><a href="lugubrious_petes_delicatessen.html" title="In this evocation of supermarket deli counter life, a list is used as a queue to keep track of who is waiting to be served.">435. Lugubrious Pete's Delicatessen</a></div></div>
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p>Thanks go to <a href="http://nitku.net/blog/">Juhana Leinonen</a> for <a href="https://borogove.app">Borogove</a>. The playable examples use <a href="https://eblong.com">Andrew Plotkin</a>'s <a href="https://eblong.com/zarf/glk/glkote.html">GlkOte</a> and <a href="https://eblong.com/zarf/glulx/quixe/index.html">Quixe</a>, distributed under an <a href="../mit.html">MIT License.</a></p><p class="about"><a href="../about.html">About this edition</a> &bull; <a href="https://twitter.com/inform7tips">@inform7tips</a></p></footer>
</body></html>
