<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 219. Bosch</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Bosch</h1><div class="subheading"><wbr><div class="ex-no">Example 219</div> ★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_12.html#section_20" title="Advanced Actions &gt; Stored actions"><div class="nav-arrow"><span class="sc">wi</span> 12.20</div><div class="doc-navbar-text">Stored actions</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_11.html#section_4" title="Out Of World Actions and Effects &gt; Scoring"><div class="doc-navbar-text">Scoring</div><div class="nav-arrow"><span class="sc">rb</span> 11.4</div></a></div></div>
</div>
<div class="example-meta-desc"><p>Creating a list of actions that will earn the player points, and using this both to change the score and to give FULL SCORE reports.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="flashlight.html" title="Visibility set so that looking under objects produces no result unless the player has a light source to shine there (regardless of the light level of the room)."><div class="nav-arrow">⬅218. </div><div class="doc-navbar-text">Flashlight</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="cactus_will_outlive_us_all.html" title="For every character besides the player, there is an action that will cause that character to wither right up and die."><div class="doc-navbar-text">Cactus Will Outlive Us All</div><div class="nav-arrow">220.⮕</div></a></div></div>
</header>
<div class="example-body"><p>We could, if we wanted, make a table of stored actions all of which represent things that will earn points for the player. For instance:</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex219">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="Bosch/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Bosch&quot;\n\nUse scoring.\n\nThe Garden of Excess is a room. The gilded lily is an edible thing in the Garden of Excess.\n\nThe Pathway to Desire is west of the Garden of Excess. The emerald leaf is in the Pathway.\n\nTable of Valuable Actions\nrelevant action\tpoint value\tturn stamp\ntaking the emerald leaf\t15\t-1\neating the gilded lily\t5\t-1\n\n\nThe maximum score is 25.\n\nAfter doing something:\n\trepeat through Table of Valuable Actions:\n\t\tif the current action is the relevant action entry and turn stamp entry is less than 0:\n\t\t\tnow the turn stamp entry is the turn count;\n\t\t\tincrease the score by the point value entry;\n\tcontinue the action.\n\nUnderstand &quot;full score&quot; or &quot;full&quot; as requesting the complete score. Requesting the complete score is an action out of world.\n\nCheck requesting the complete score:\n\tif the score is 0, say &quot;You have not yet achieved anything of note.&quot; instead.\n\nCarry out requesting the complete score:\n\tsay &quot;So far you have received points for the following: [line break]&quot;;\n\tsort the Table of Valuable Actions in turn stamp order;\n\trepeat through the Table of Valuable Actions:\n\t\tif the turn stamp entry is greater than 0:\n\t\t\tsay &quot;[line break]  [relevant action entry]: [point value entry] points&quot;;\n\tsay line break.\n\nTest me with &quot;eat lily / w / full score / get leaf / full&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Bosch&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Use scoring.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Garden of Excess is a room. The gilded lily is an edible thing in the Garden of Excess.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Pathway to Desire is west of the Garden of Excess. The emerald leaf is in the Pathway.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline tablename">Table of Valuable Actions</div><table>
<tr><td>relevant action</td><td>point value</td><td>turn stamp</td></tr><tr><td>taking the emerald leaf</td><td>15</td><td>-1</td></tr><tr><td>eating the gilded lily</td><td>5</td><td>-1</td></tr></table>
</div><p>(And our list would presumably continue from there, in the full game.)</p>
<div class="codeblock"><div class="codeline">The maximum score is 25.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">After doing something:</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat through Table of Valuable Actions:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the current action is the relevant action entry and turn stamp entry is less than 0:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the turn stamp entry is the turn count;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;increase the score by the point value entry;</div>
<div class="codeline">&ensp;&ensp;&ensp;continue the action.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;full score&quot; or &quot;full&quot; as requesting the complete score. Requesting the complete score is an action out of world.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Check requesting the complete score:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the score is 0, say &quot;You have not yet achieved anything of note.&quot; instead.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Carry out requesting the complete score:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;So far you have received points for the following: [line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;sort the Table of Valuable Actions in turn stamp order;</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat through the Table of Valuable Actions:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the turn stamp entry is greater than 0:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;[line break]  [relevant action entry]: [point value entry] points&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say line break.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;eat lily / w / full score / get leaf / full&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "eat lily / w / full score / get leaf / full".</div></summary><div class="testme-output">Garden of Excess<br>You can see a gilded lily here.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] eat lily</span><br>(first taking the gilded lily)<br>You eat the gilded lily. Not bad.<br><br>[Your score has just gone up by five points.]<br><br><span class="mono">&gt;[2] w</span><br><br>Pathway to Desire<br>You can see an emerald leaf here.<br><br><span class="mono">&gt;[3] full score</span><br>So far you have received points for the following:<br><br>  eating the gilded lily: 5 points<br><br><span class="mono">&gt;[4] get leaf</span><br>Taken.<br><br>[Your score has just gone up by fifteen points.]<br><br><span class="mono">&gt;[5] full</span><br>So far you have received points for the following:<br><br>  eating the gilded lily: 5 points<br>  taking the emerald leaf: 15 points
</div></details><p>This system is tidy, but limited: we cannot give actions interesting names in the score list, like &quot;seducing the pirate&#39;s daughter&quot; or &quot;collecting a valuable artifact&quot;. So it will not be ideal in all situations, but it has the virtue of being easy to extend, and of listing all of the player&#39;s successes in the order in which they occurred in his play-through.</p>
</div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="flashlight.html" title="Visibility set so that looking under objects produces no result unless the player has a light source to shine there (regardless of the light level of the room)."><div class="nav-arrow">⬅218. </div><div class="doc-navbar-text">Flashlight</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="cactus_will_outlive_us_all.html" title="For every character besides the player, there is an action that will cause that character to wither right up and die."><div class="doc-navbar-text">Cactus Will Outlive Us All</div><div class="nav-arrow">220.⮕</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
