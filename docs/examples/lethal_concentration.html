<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 255. Lethal Concentration 1</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Lethal Concentration 1</h1><div class="subheading">Gas diffusion from a source through adjacent rooms: Example 255 ★★</div></div></div>
<div class="linkback">
<a href="../WI_15.html#section_8" title="Numbers and Equations &gt; Units">WI §15.8 Units</a><br><a href="../RB_10.html#section_1" title="Physics: Substances, Ropes, Energy and Weight &gt; Gases">RB §10.1 Gases</a>
</div>
<p class="example-desc">A poisonous gas that spreads from room to room, incapacitating or killing the player when it reaches sufficient levels.</p>
<div class="doc-navbar"><div class="doc-navbar-left"></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="lethal_concentration2.html" title="Poisonous gas again, only this time it sinks."><div class="doc-navbar-text">257. Lethal Concentration 2</div> <div class="nav-arrow">→</div></a></div></div></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="rbgh.html" title="The player character&#39;s height is selected randomly at the start of play."><div class="nav-arrow">←</div> <div class="doc-navbar-text">254. rBGH</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="wonderland.html" title="Hiking Mount Rainier, with attention to which locations are higher and which lower than the present location."><div class="doc-navbar-text">256. Wonderland</div> <div class="nav-arrow">→</div></a></div></div>
</header>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex255">Play/modify Lethal Concentration in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="GasDiffusion/index.html">Play Lethal Concentration in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Lethal Concentration&quot;\n\nA concentration is a kind of value. 200.9ppm specifies concentration. 200.9 ppm specifies concentration.\n\nA room has a concentration called current concentration. A room has a concentration called former concentration.\n\nProbability inverse is a number that varies. [This is expressed as an inverse of the actual probability of diffusion from one room to another, to avoid error.] Probability inverse is 20. [That is, any given molecule of gas has a 5% chance of leaving by a given doorway at any given minute. Probability inverse should never drop below 10, the maximum number of exits from the room.]\n\nEvery turn:\n\tfollow the diffusion rules.\n\nThe diffusion rules are a rulebook.\n\nA diffusion rule (this is the gas movement rule):\n\trepeat with space running through rooms:\n\t\tlet sum be 0.0 ppm;\n\t\trepeat with way running through directions:\n\t\t\tlet second space be the room way from the space;\n\t\t\tif second space is a room:\n\t\t\t\tlet difference be the former concentration of the second space minus the former concentration of the space;\n\t\t\t\tincrease sum by the difference;\n\t\tlet sum be sum divided by probability inverse;\n\t\tnow current concentration of the space is the former concentration of the space plus the sum.\n\n\nA diffusion rule (this is the resetting concentration rule):\n\trepeat with space running through rooms:\n\t\tnow the former concentration of the space is the current concentration of the space.\n\nThe last diffusion rule (this is the lethal dosage rule):\n\tif the current concentration of the location is greater than LC50:\n\t\tsay &quot;The concentration in the air overpowers you...&quot;;\n\t\tend the story;\n\totherwise:\n\t\tif the current concentration of the location is greater than TLV-STEL:\n\t\t\tsay &quot;You feel extremely uncomfortable in this environment.&quot;\n\nInstead of doing something when the current concentration of the location is greater than TLV-STEL:\n\tif going, continue the action;\n\tsay &quot;You can&apos;t work in this environment: your eyes and nose sting and it hurts to breathe.&quot;\n\n\nRoom 1A is west of Room 1B. Room 1B is west of Room 1C. Room 1C is west of Room 1D. Room 1D is west of Room 1E.\n\nRoom 2A is south of room 1A and west of Room 2B. Room 2B is west of Room 2C and south of Room 1B. Room 2C is west of Room 2D and south of Room 1C. Room 2D is west of Room 2E and south of Room 1D. Room 2E is south of Room 1E.\n\nRoom 3A is south of room 2A and west of Room 3B. Room 3B is west of Room 3C and south of Room 2B. Room 3C is west of Room 3D and south of Room 2C. Room 3D is west of Room 3E and south of Room 2D. Room 3E is south of Room 2E.\n\nRoom 4A is south of room 3A and west of Room 4B. Room 4B is west of Room 4C and south of Room 3B. Room 4C is west of Room 4D and south of Room 3C. Room 4D is west of Room 4E and south of Room 3D. Room 4E is south of Room 3E.\n\nRoom 5A is south of room 4A and west of Room 5B. Room 5B is west of Room 5C and south of Room 4B. Room 5C is west of Room 5D and south of Room 4C. Room 5D is west of Room 5E and south of Room 4D. Room 5E is south of Room 4E.\n\nThe former concentration of room 3C is 800.0 ppm.\n\n\n[Room 1A is west of Room 1B. Room 1B is west of Room 1C. Room 1C is west of Room 1D. Room 1D is west of Room 1E.\n\nRoom 2A is west of Room 2B. Room 2B is west of Room 2C. Room 2C is west of Room 2D. Room 2D is west of Room 2E. Room 2E is south of Room 1E.\n\nRoom 3A is south of room 2A and west of Room 3B. Room 3B is west of Room 3C. Room 3C is west of Room 3D. Room 3D is west of Room 3E.\n\nRoom 4A is west of Room 4B. Room 4B is west of Room 4C. Room 4C is west of Room 4D. Room 4D is west of Room 4E. Room 4E is south of Room 3E.\n\nRoom 5A is south of room 4A and west of Room 5B. Room 5B is west of Room 5C and south of Room 4B. Room 5C is west of Room 5D and south of Room 4C. Room 5D is west of Room 5E and south of Room 4D. Room 5E is south of Room 4E.]\n\n\nThe status grid is a device carried by the player. The status grid is switched on.\n\nEvery turn:\n\ttry examining the grid.\n\nInstead of examining the status grid:\n\tsay &quot;[fixed letter spacing][bar][line break]&quot;;\n\tsay &quot;|[state of room 1A]|[state of room 1B]|[state of room 1C]|[state of room 1D]|[state of room 1E]|[line break]&quot;;\n\tsay &quot;[bar][line break]&quot;;\n\tsay &quot;|[state of room 2A]|[state of room 2B]|[state of room 2C]|[state of room 2D]|[state of room 2E]|[line break]&quot;;\n\tsay &quot;[bar][line break]&quot;;\n\tsay &quot;|[state of room 3A]|[state of room 3B]|[state of room 3C]|[state of room 3D]|[state of room 3E]|[line break]&quot;;\n\tsay &quot;[bar][line break]&quot;;\n\tsay &quot;|[state of room 4A]|[state of room 4B]|[state of room 4C]|[state of room 4D]|[state of room 4E]|[line break]&quot;;\n\tsay &quot;[bar][line break]&quot;;\n\tsay &quot;|[state of room 5A]|[state of room 5B]|[state of room 5C]|[state of room 5D]|[state of room 5E]|[line break]&quot;;\n\tsay &quot;[bar][variable letter spacing][line break]&quot;.\n\nTo say bar:\n\tsay &quot;----------------------------------------------&quot;.\n\nTLV is a concentration that varies. TLV is 30.0ppm. [Long-term exposure maximum, safe for 8 hours a day.]\n\nTLV-STEL is a concentration that varies. TLV-STEL is 50.0ppm. [Short-term exposure maximum, safe for fifteen minutes max.]\n\nTLV-C is a concentration that varies. TLV-C is 150.0ppm. [Absolute exposure ceiling.]\n\nLC50 is a concentration that varies. LC50 is 300.0ppm. [Concentration at which 50 percent of test subjects die of exposure, usually expressed in terms of time and body weight; in our LC50 these are factored in for the player&apos;s weight for one minute.]\n\n\nTo say state of (space - a room):\n\tif the space is the location, say bold type;\n\tif current concentration of space is less than 10.0ppm, say &quot; &quot;;\n\tif current concentration of space is less than 100.0ppm, say &quot; &quot;;\n\tsay current concentration of space;\n\tsay roman type.\n\n\nA gas source is a kind of thing. A gas source has a concentration called the contribution. The contribution of a gas source is usually 30.0ppm.\n\nRoom 2B contains a gas source called a spigot. The contribution of the spigot is 50.0ppm. Room 5A contains a gas source.\n\nA gas sink is a kind of thing. A gas sink has a concentration called the contribution. The contribution of a gas sink is usually 30.0ppm.\n\nRoom 5E contains a gas sink called a fan. The contribution of the fan is 80.0ppm.\n\nThe first diffusion rule (this is the sources and sinks rule):\n\tfollow the sources rule;\n\tfollow the sinks rule.\n\nThis is the sinks rule:\n\trepeat with item running through gas sinks:\n\t\tlet space be the location of the item;\n\t\tdecrease the former concentration of the space by the contribution of the item;\n\t\tif the former concentration of the space is less than 0.0ppm, now the former concentration of the space is 0.0ppm.\n\nThis is the sources rule:\n\trepeat with second item running through gas sources:\n\t\tlet space be the location of the second item;\n\t\tincrease the former concentration of the space by the contribution of the second item;\n\t\tif the former concentration of the space is less than 0.0ppm, now the former concentration of the space is 0.0ppm.\n\nTest me with &quot;z / z / z / z / z / z / z / z&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Lethal Concentration&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">A concentration is a kind of value. 200.9ppm specifies concentration. 200.9 ppm specifies concentration.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">A room has a concentration called current concentration. A room has a concentration called former concentration.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Probability inverse is a number that varies. [This is expressed as an inverse of the actual probability of diffusion from one room to another, to avoid error.] Probability inverse is 20. [That is, any given molecule of gas has a 5% chance of leaving by a given doorway at any given minute. Probability inverse should never drop below 10, the maximum number of exits from the room.]</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Every turn:</div>
<div class="codeline">&ensp;&ensp;&ensp;follow the diffusion rules.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The diffusion rules are a rulebook.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">A diffusion rule (this is the gas movement rule):</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat with space running through rooms:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let sum be 0.0 ppm;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;repeat with way running through directions:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let second space be the room way from the space;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if second space is a room:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let difference be the former concentration of the second space minus the former concentration of the space;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;increase sum by the difference;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let sum be sum divided by probability inverse;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now current concentration of the space is the former concentration of the space plus the sum.</div>
</div><p>A technical note: it would be possible to write &quot;repeat with space running through rooms&hellip; repeat with second space running through rooms adjacent to the space&quot; instead, but in practice this loops through all the rooms * all the rooms again * all the directions (to determine adjacency). Phrasing the loop this way omits the second multiplier. For a map of 25 rooms, this means that the loop runs 25 times faster than it would otherwise, and of course for a larger map the effect would be even more dramatic.</p>
<div class="codeblock"><div class="codeline">A diffusion rule (this is the resetting concentration rule):</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat with space running through rooms:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the former concentration of the space is the current concentration of the space.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The last diffusion rule (this is the lethal dosage rule):</div>
<div class="codeline">&ensp;&ensp;&ensp;if the current concentration of the location is greater than LC50:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;The concentration in the air overpowers you...&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;end the story;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the current concentration of the location is greater than TLV-STEL:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;You feel extremely uncomfortable in this environment.&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Instead of doing something when the current concentration of the location is greater than TLV-STEL:</div>
<div class="codeline">&ensp;&ensp;&ensp;if going, continue the action;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You can&#39;t work in this environment: your eyes and nose sting and it hurts to breathe.&quot;</div>
</div><p>And, for testing purposes, a square grid of rooms:</p>
<div class="codeblock"><div class="codeline">Room 1A is west of Room 1B. Room 1B is west of Room 1C. Room 1C is west of Room 1D. Room 1D is west of Room 1E.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Room 2A is south of room 1A and west of Room 2B. Room 2B is west of Room 2C and south of Room 1B. Room 2C is west of Room 2D and south of Room 1C. Room 2D is west of Room 2E and south of Room 1D. Room 2E is south of Room 1E.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Room 3A is south of room 2A and west of Room 3B. Room 3B is west of Room 3C and south of Room 2B. Room 3C is west of Room 3D and south of Room 2C. Room 3D is west of Room 3E and south of Room 2D. Room 3E is south of Room 2E.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Room 4A is south of room 3A and west of Room 4B. Room 4B is west of Room 4C and south of Room 3B. Room 4C is west of Room 4D and south of Room 3C. Room 4D is west of Room 4E and south of Room 3D. Room 4E is south of Room 3E.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Room 5A is south of room 4A and west of Room 5B. Room 5B is west of Room 5C and south of Room 4B. Room 5C is west of Room 5D and south of Room 4C. Room 5D is west of Room 5E and south of Room 4D. Room 5E is south of Room 4E.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The former concentration of room 3C is 800.0 ppm.</div>
</div><p>For variety of testing, here is another room set-up, this time with some corridors and walls within; uncommenting it, and commenting out the connected grid, will let us explore what would happen in alternative cases, to prove to ourselves that the model works consistently.</p>
<div class="codeblock"><div class="codeline">[Room 1A is west of Room 1B. Room 1B is west of Room 1C. Room 1C is west of Room 1D. Room 1D is west of Room 1E.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Room 2A is west of Room 2B. Room 2B is west of Room 2C. Room 2C is west of Room 2D. Room 2D is west of Room 2E. Room 2E is south of Room 1E.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Room 3A is south of room 2A and west of Room 3B. Room 3B is west of Room 3C. Room 3C is west of Room 3D. Room 3D is west of Room 3E.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Room 4A is west of Room 4B. Room 4B is west of Room 4C. Room 4C is west of Room 4D. Room 4D is west of Room 4E. Room 4E is south of Room 3E.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Room 5A is south of room 4A and west of Room 5B. Room 5B is west of Room 5C and south of Room 4B. Room 5C is west of Room 5D and south of Room 4C. Room 5D is west of Room 5E and south of Room 4D. Room 5E is south of Room 4E.]</div>
</div><p>For the sake at least of seeing what&#39;s going on in the example, let&#39;s also provide the player with the means to view the gas diffusion graphically:</p>
<div class="codeblock"><div class="codeline">The status grid is a device carried by the player. The status grid is switched on.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Every turn:</div>
<div class="codeline">&ensp;&ensp;&ensp;try examining the grid.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Instead of examining the status grid:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[fixed letter spacing][bar][line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;|[state of room 1A]|[state of room 1B]|[state of room 1C]|[state of room 1D]|[state of room 1E]|[line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[bar][line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;|[state of room 2A]|[state of room 2B]|[state of room 2C]|[state of room 2D]|[state of room 2E]|[line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[bar][line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;|[state of room 3A]|[state of room 3B]|[state of room 3C]|[state of room 3D]|[state of room 3E]|[line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[bar][line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;|[state of room 4A]|[state of room 4B]|[state of room 4C]|[state of room 4D]|[state of room 4E]|[line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[bar][line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;|[state of room 5A]|[state of room 5B]|[state of room 5C]|[state of room 5D]|[state of room 5E]|[line break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[bar][variable letter spacing][line break]&quot;.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">To say bar:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;----------------------------------------------&quot;.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">TLV is a concentration that varies. TLV is 30.0ppm. [Long-term exposure maximum, safe for 8 hours a day.]</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">TLV-STEL is a concentration that varies. TLV-STEL is 50.0ppm. [Short-term exposure maximum, safe for fifteen minutes max.]</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">TLV-C is a concentration that varies. TLV-C is 150.0ppm. [Absolute exposure ceiling.]</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">LC50 is a concentration that varies. LC50 is 300.0ppm. [Concentration at which 50 percent of test subjects die of exposure, usually expressed in terms of time and body weight; in our LC50 these are factored in for the player&#39;s weight for one minute.]</div>
</div><p>The values set for these would depend on the type of poisonous gas in question; we&#39;d want to adjust appropriately.</p>
<div class="codeblock"><div class="codeline">To say state of (space - a room):</div>
<div class="codeline">&ensp;&ensp;&ensp;if the space is the location, say bold type;</div>
<div class="codeline">&ensp;&ensp;&ensp;if current concentration of space is less than 10.0ppm, say &quot; &quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;if current concentration of space is less than 100.0ppm, say &quot; &quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;say current concentration of space;</div>
<div class="codeline">&ensp;&ensp;&ensp;say roman type.</div>
</div><p>Now, in theory we might also want to account for sources and sinks, items that either inject poisonous gas into the environment or remove it again. For simplicity, we will assume that these contributions can also be calculated in ppm and that the total number of inert and poisonous gas molecules in a room never changes (so if poison gas molecules are added, an equal number of inert molecules are removed). If room pressure were able to change, our model would have to be improved, so let us assume for now that that never happens. We want this sink/source business to calculate before any other portion of the diffusion rulebook, so set it as a first diffusion rule.</p>
<div class="codeblock"><div class="codeline">A gas source is a kind of thing. A gas source has a concentration called the contribution. The contribution of a gas source is usually 30.0ppm.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Room 2B contains a gas source called a spigot. The contribution of the spigot is 50.0ppm. Room 5A contains a gas source.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">A gas sink is a kind of thing. A gas sink has a concentration called the contribution. The contribution of a gas sink is usually 30.0ppm.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Room 5E contains a gas sink called a fan. The contribution of the fan is 80.0ppm.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The first diffusion rule (this is the sources and sinks rule):</div>
<div class="codeline">&ensp;&ensp;&ensp;follow the sources rule;</div>
<div class="codeline">&ensp;&ensp;&ensp;follow the sinks rule.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">This is the sinks rule:</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat with item running through gas sinks:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let space be the location of the item;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;decrease the former concentration of the space by the contribution of the item;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the former concentration of the space is less than 0.0ppm, now the former concentration of the space is 0.0ppm.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">This is the sources rule:</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat with second item running through gas sources:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let space be the location of the second item;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;increase the former concentration of the space by the contribution of the second item;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the former concentration of the space is less than 0.0ppm, now the former concentration of the space is 0.0ppm.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;z / z / z / z / z / z / z / z&quot;.</div>
</div><details class="testme-output"><summary>Test me with "z / z / z / z / z / z / z / z".</summary><div class="testme-output">Room 1A<br><br>&gt;(Testing.)<br><br>&gt;[1] z<br>Time passes.<br><br>----------------------------------------------<br>|  0.0ppm|  2.5ppm|  0.0ppm|  0.0ppm|  0.0ppm|<br>----------------------------------------------<br>|  2.5ppm| 40.0ppm| 42.5ppm|  0.0ppm|  0.0ppm|<br>----------------------------------------------<br>|  0.0ppm| 42.5ppm|640.0ppm| 40.0ppm|  0.0ppm|<br>----------------------------------------------<br>|  1.5ppm|  0.0ppm| 40.0ppm|  0.0ppm|  0.0ppm|<br>----------------------------------------------<br>| 27.0ppm|  1.5ppm|  0.0ppm|  0.0ppm|  0.0ppm|<br>----------------------------------------------<br><br>&gt;[2] z<br>Time passes.<br><br>----------------------------------------------<br>|  0.2ppm|  6.6ppm|  2.2ppm|  0.0ppm|  0.0ppm|<br>----------------------------------------------<br>|  6.6ppm| 76.5ppm| 70.5ppm|  4.1ppm|  0.0ppm|<br>----------------------------------------------<br>|  2.3ppm| 70.5ppm|520.3ppm| 64.0ppm|  2.0ppm|<br>----------------------------------------------<br>|  4.1ppm|  4.2ppm| 64.0ppm|  4.0ppm|  0.0ppm|<br>----------------------------------------------<br>| 51.5ppm|  4.1ppm|  2.0ppm|  0.0ppm|  0.0ppm|<br>----------------------------------------------<br><br>&gt;[3] z<br>Time passes.<br><br>----------------------------------------------<br>|  0.8ppm| 12.0ppm|  5.7ppm|  0.3ppm|  0.0ppm|<br>----------------------------------------------<br>| 12.0ppm|109.0ppm| 89.0ppm| 10.0ppm|  0.3ppm|<br>----------------------------------------------<br>|  6.0ppm| 89.0ppm|429.7ppm| 77.7ppm|  4.9ppm|<br>----------------------------------------------<br>|  7.8ppm| 10.4ppm| 77.7ppm|  9.6ppm|  0.3ppm|<br>----------------------------------------------<br>| 73.8ppm|  7.8ppm|  5.1ppm|  0.3ppm|  0.0ppm|<br>----------------------------------------------<br><br>&gt;[4] z<br>Time passes.<br><br>----------------------------------------------<br>|  1.9ppm| 18.4ppm|  9.9ppm|  1.0ppm|  0.0ppm|<br>----------------------------------------------<br>| 18.4ppm|137.3ppm|101.4ppm| 16.3ppm|  1.0ppm|<br>----------------------------------------------<br>| 10.5ppm|101.4ppm|360.5ppm| 84.8ppm|  8.0ppm|<br>----------------------------------------------<br>| 12.6ppm| 17.4ppm| 84.9ppm| 15.4ppm|  0.9ppm|<br>----------------------------------------------<br>| 94.2ppm| 12.5ppm|  8.6ppm|  0.9ppm|  0.0ppm|<br>----------------------------------------------<br><br>&gt;[5] z<br>Time passes.<br><br>----------------------------------------------<br>|  3.5ppm| 25.5ppm| 14.4ppm|  2.1ppm|  0.1ppm|<br>----------------------------------------------<br>| 25.6ppm|161.9ppm|109.8ppm| 22.4ppm|  2.0ppm|<br>----------------------------------------------<br>| 15.5ppm|109.9ppm|307.1ppm| 87.8ppm| 11.1ppm|<br>----------------------------------------------<br>| 18.3ppm| 24.4ppm| 88.0ppm| 20.8ppm|  1.9ppm|<br>----------------------------------------------<br>|113.1ppm| 18.1ppm| 12.2ppm|  1.9ppm|  0.0ppm|<br>----------------------------------------------<br><br>&gt;[6] z<br>Time passes.<br><br>----------------------------------------------<br>|  5.7ppm| 33.1ppm| 19.1ppm|  3.6ppm|  0.2ppm|<br>----------------------------------------------<br>| 33.3ppm|183.1ppm|115.6ppm| 28.0ppm|  3.3ppm|<br>----------------------------------------------<br>| 20.8ppm|115.8ppm|265.5ppm| 88.3ppm| 14.0ppm|<br>----------------------------------------------<br>| 24.7ppm| 31.2ppm| 88.6ppm| 25.6ppm|  3.2ppm|<br>----------------------------------------------<br>|130.7ppm| 24.3ppm| 15.7ppm|  3.2ppm|  0.1ppm|<br>----------------------------------------------<br><br>&gt;[7] z<br>Time passes.<br><br>----------------------------------------------<br>|  8.4ppm| 41.0ppm| 23.8ppm|  5.4ppm|  0.5ppm|<br>----------------------------------------------<br>| 41.2ppm|201.4ppm|119.7ppm| 32.9ppm|  4.9ppm|<br>----------------------------------------------<br>| 26.3ppm|120.1ppm|232.9ppm| 87.3ppm| 16.6ppm|<br>----------------------------------------------<br>| 31.6ppm| 37.6ppm| 87.8ppm| 29.6ppm|  4.7ppm|<br>----------------------------------------------<br>|147.1ppm| 31.0ppm| 19.1ppm|  4.7ppm|  0.3ppm|<br>----------------------------------------------<br><br>&gt;[8] z<br>Time passes.<br><br>----------------------------------------------<br>| 11.6ppm| 49.0ppm| 28.5ppm|  7.4ppm|  0.9ppm|<br>----------------------------------------------<br>| 49.3ppm|217.3ppm|122.8ppm| 37.1ppm|  6.6ppm|<br>----------------------------------------------<br>| 32.0ppm|123.4ppm|207.1ppm| 85.5ppm| 18.9ppm|<br>----------------------------------------------<br>| 38.9ppm| 43.6ppm| 86.2ppm| 32.9ppm|  6.3ppm|<br>----------------------------------------------<br>|162.6ppm| 38.0ppm| 22.4ppm|  6.4ppm|  0.4ppm|<br>----------------------------------------------
</div></details><div class="doc-navbar"><div class="doc-navbar-left"></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="lethal_concentration2.html" title="Poisonous gas again, only this time it sinks."><div class="doc-navbar-text">257. Lethal Concentration 2</div> <div class="nav-arrow">→</div></a></div></div></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="rbgh.html" title="The player character&#39;s height is selected randomly at the start of play."><div class="nav-arrow">←</div> <div class="doc-navbar-text">254. rBGH</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="wonderland.html" title="Hiking Mount Rainier, with attention to which locations are higher and which lower than the present location."><div class="doc-navbar-text">256. Wonderland</div> <div class="nav-arrow">→</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="nav-about" href="../about.html">About this edition</a> &bull; <a class="nav-about" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
