<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 141. IPA</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>IPA</h1><div class="subheading">Example 141 ★★</div></div></div>
<div class="linkback">
<a href="../WI_9.html#section_6" title="Time &gt; The time of day">WI §9.6 The time of day</a><br><a href="../RB_4.html#section_3" title="Time and Plot &gt; Event Scheduling">RB §4.3 Event Scheduling</a>
</div>
<p class="example-desc">Shops which each have opening and closing hours, so that it is impossible to go in at the wrong times, and the player is kicked out if he overstays his welcome.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="text_foosball.html" title="A game of foosball which relies heavily on every-turn rules."><div class="nav-arrow">←140. </div><div class="doc-navbar-text">Text Foosball</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="situation_room.html" title="Printing the time of day in 24-hour time, as in military situations."><div class="doc-navbar-text">Situation Room</div><div class="nav-arrow">142.→</div></a></div></div>
</header>
<p>Suppose we wanted a game set in a living town, with locations opening and closing at different times of day, and business carrying on as usual. The point might be to force the player to plan his itinerary carefully to hit the right spots at the right times; or we might be writing a more contemplative piece, where part of the enjoyment came from just watching the characters wander around doing their daily business&hellip;</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex141">Play/modify IPA in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="IPA/index.html">Play IPA in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;IPA&quot;\n\nWhen play begins: now the right hand status line is &quot;[time of day]&quot;.\n\nThe time of day is 9:50 AM.\n\nA shop is a kind of room. A shop has a time called the opening hour. The opening hour of the shop is usually 8 AM. A shop has a time called the closing hour. A shop usually has closing hour 6 PM.\n\nCheck going to a shop (called the target):\n\tif the time of day is before the opening hour of the target,\n\t\tsay &quot;[The target] is locked up until [the opening hour of the target].&quot; instead.\n\nCheck going to a shop (called the target):\n\tif the time of day is after the closing hour of the target,\n\t\tsay &quot;[The target] has been closed since [the closing hour of the target].&quot; instead.\n\nEvery turn when the location is a shop:\n\tlet deadline be the closing hour of the location;\n\tif the deadline is before the time of day:\n\t\tlet target be a random adjacent room which is not a shop;\n\t\tsay &quot;You are gently but firmly ushered out, since [the location] is closing.&quot;;\n\t\tmove the player to the target.\n\nThe Strip-mall Parking Lot is a room. &quot;Dead Christmas trees are heaped outside the bagel shop. Strips of dirty ice survive along the curb, and in the shadows of the lamp-posts. A wet, almost illegible sheet of algebra homework is plastered to the asphalt.\n\nPinewood Brewing Supply is at the east end of the lot.&quot;\n\nPinewood Brewing Supply is a shop. It is east of Parking Lot. The opening hour of Pinewood Brewing Supply is 10:00 AM. The closing hour of Pinewood Brewing Supply is 3:30 PM. &quot;Shelves and shelves of malt and hops; large glass carboys, and plastic tubing; empty bottles; bottle-caps; bottle-labeling kits; starters for vinegar, sourdough, root beer.\n\nA sweet malty smell hangs in the air.&quot;\n\nInstead of going to Brewing Supply when the time of day is before the opening hour of Brewing Supply for the second time:\n\tsay &quot;You rattle at the door again. &apos;Hold your horses, for crying out loud,&apos; yells a voice from within.&quot;\n\nNoah&apos;s Bagels is a shop. It is north of the Parking Lot. The opening hour of Noah&apos;s Bagels is 6:00 AM. The closing hour of Noah&apos;s Bagels is 11:00 AM. &quot;The selection has been somewhat picked over, leaving you with your choice of Pumpernickel, Asiago, or Everything.&quot;\n\nTest me with &quot;e / e / n / z / s / e / z / e / z / z / e&quot;.`)">⧉</button><div class="codeline storytitle">&quot;IPA&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">When play begins: now the right hand status line is &quot;[time of day]&quot;.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The time of day is 9:50 AM.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">A shop is a kind of room. A shop has a time called the opening hour. The opening hour of the shop is usually 8 AM. A shop has a time called the closing hour. A shop usually has closing hour 6 PM.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Check going to a shop (called the target):</div>
<div class="codeline">&ensp;&ensp;&ensp;if the time of day is before the opening hour of the target,</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;[The target] is locked up until [the opening hour of the target].&quot; instead.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Check going to a shop (called the target):</div>
<div class="codeline">&ensp;&ensp;&ensp;if the time of day is after the closing hour of the target,</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;[The target] has been closed since [the closing hour of the target].&quot; instead.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Every turn when the location is a shop:</div>
<div class="codeline">&ensp;&ensp;&ensp;let deadline be the closing hour of the location;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the deadline is before the time of day:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let target be a random adjacent room which is not a shop;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;You are gently but firmly ushered out, since [the location] is closing.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;move the player to the target.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The Strip-mall Parking Lot is a room. &quot;Dead Christmas trees are heaped outside the bagel shop. Strips of dirty ice survive along the curb, and in the shadows of the lamp-posts. A wet, almost illegible sheet of algebra homework is plastered to the asphalt.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Pinewood Brewing Supply is at the east end of the lot.&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Pinewood Brewing Supply is a shop. It is east of Parking Lot. The opening hour of Pinewood Brewing Supply is 10:00 AM. The closing hour of Pinewood Brewing Supply is 3:30 PM. &quot;Shelves and shelves of malt and hops; large glass carboys, and plastic tubing; empty bottles; bottle-caps; bottle-labeling kits; starters for vinegar, sourdough, root beer.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">A sweet malty smell hangs in the air.&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Instead of going to Brewing Supply when the time of day is before the opening hour of Brewing Supply for the second time:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You rattle at the door again. &#39;Hold your horses, for crying out loud,&#39; yells a voice from within.&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Noah&#39;s Bagels is a shop. It is north of the Parking Lot. The opening hour of Noah&#39;s Bagels is 6:00 AM. The closing hour of Noah&#39;s Bagels is 11:00 AM. &quot;The selection has been somewhat picked over, leaving you with your choice of Pumpernickel, Asiago, or Everything.&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;e / e / n / z / s / e / z / e / z / z / e&quot;.</div>
</div><details class="testme-output"><summary>Test me with "e / e / n / z / s / e / z / e / z / z / e".</summary><div class="testme-output">Strip-mall Parking Lot<br>Dead Christmas trees are heaped outside the bagel shop. Strips of dirty ice survive along the curb, and in the shadows of the lamp-posts. A wet, almost illegible sheet of algebra homework is plastered to the asphalt.<br><br>Pinewood Brewing Supply is at the east end of the lot.<br><br>&gt;(Testing.)<br><br>&gt;[1] e<br>Pinewood Brewing Supply is locked up until 10:00 am.<br><br>&gt;[2] e<br>You rattle at the door again. &quot;Hold your horses, for crying out loud,&quot; yells a voice from within.<br><br>&gt;[3] n<br><br>Noah&#39;s Bagels<br>The selection has been somewhat picked over, leaving you with your choice of Pumpernickel, Asiago, or Everything.<br><br>&gt;[4] z<br>Time passes.<br><br>&gt;[5] s<br><br>Strip-mall Parking Lot<br>Dead Christmas trees are heaped outside the bagel shop. Strips of dirty ice survive along the curb, and in the shadows of the lamp-posts. A wet, almost illegible sheet of algebra homework is plastered to the asphalt.<br><br>Pinewood Brewing Supply is at the east end of the lot.<br><br>&gt;[6] e<br>Pinewood Brewing Supply is locked up until 10:00 am.<br><br>&gt;[7] z<br>Time passes.<br><br>&gt;[8] e<br>Pinewood Brewing Supply is locked up until 10:00 am.<br><br>&gt;[9] z<br>Time passes.<br><br>&gt;[10] z<br>Time passes.<br><br>&gt;[11] e<br><br>Pinewood Brewing Supply<br>Shelves and shelves of malt and hops; large glass carboys, and plastic tubing; empty bottles; bottle-caps; bottle-labeling kits; starters for vinegar, sourdough, root beer.<br><br>A sweet malty smell hangs in the air.
</div></details><div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="text_foosball.html" title="A game of foosball which relies heavily on every-turn rules."><div class="nav-arrow">←140. </div><div class="doc-navbar-text">Text Foosball</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="situation_room.html" title="Printing the time of day in 24-hour time, as in military situations."><div class="doc-navbar-text">Situation Room</div><div class="nav-arrow">142.→</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="nav-about" href="../about.html">About this edition</a> &bull; <a class="nav-about" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
