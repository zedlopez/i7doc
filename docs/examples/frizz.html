<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 192. Frizz</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Frizz</h1><div class="subheading">Example 192 ★★★</div></div></div>
<div class="linkback">
<a href="../WI_12.html#section_7" title="Advanced Actions &gt; New actions">WI §12.7 New actions</a><br><a href="../RB_10.html#section_2" title="Physics: Substances, Ropes, Energy and Weight &gt; Liquids">RB §10.2 Liquids</a>
</div>
<p class="example-desc">Liquid flows within containers and soaks objects that are not waterproof; any contact with a wet object can dampen our gloves.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="red_cross.html" title="A DIAGNOSE command which allows the player to check on the health of someone."><div class="nav-arrow">←</div> <div class="doc-navbar-text">191. Red Cross</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="3_am.html" title="A shake command which agitates soda and makes items thump around in boxes."><div class="doc-navbar-text">193. 3 AM</div> <div class="nav-arrow">→</div></a></div></div>
</header>
<p>Suppose we have some items that get wet in contact with other damp things; in particular, if we touch anything wet while wearing a pair of gloves, the gloves too get damp. This requires that we be systematic about detecting all cases where contact occurs. So:</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex192">Play/modify Frizz in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Gloves/index.html">Play Frizz in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Frizz&quot;\n\nA thing can be waterproof or porous. A container is usually waterproof. An animal is usually waterproof.\n\nA thing can be sodden or dry.\n\nA container can be waterfilled or empty.\n\nBefore printing the name of a sodden thing: say &quot;sodden &quot;. Understand the sodden property as describing a thing.\n\nThe player wears a pair of woolly gloves. Instead of wearing a sodden thing: say &quot;You dubiously contemplate [the noun], and decide it&apos;s best to wear dry clothing.&quot;\n\nEvery turn:\n\tfollow the liquid distribution rules.\n\nThe liquid distribution rules is a rulebook.\n\nA liquid distribution rule:\n\trepeat with item running through containers:\n\t\tif the item is open and the item is empty and the item is in a waterfilled container:\n\t\t\tnow the item is waterfilled;\n\t\t\tif the player can see the item, say &quot;[The item] fills up with water, of course.&quot;.\n\nA liquid distribution rule:\n\trepeat with item running through things in a waterfilled container:\n\t\tif the item is porous and the item is dry:\n\t\t\tif the player can see the item, say &quot;[The item] soaks through.&quot;;\n\t\t\tnow the item is sodden.\n\nA liquid distribution rule:\n\trepeat with item running through sodden things in the airing cupboard:\n\t\tif the item is not The Last Man, now the item is dry.\n\nThe last liquid distribution rule:\n\tif the player carries a dry copy of The Last Man, end the story finally.\n\nInstead of examining a waterfilled container:\n\tsay &quot;[The noun] is full of water[if the noun contains something visible]; it also contains [the list of things in the noun][end if].&quot;\n\nInstead of examining a container:\n\tsay &quot;Dry inside[if the noun contains something visible], and containing [a list of things in the noun].&quot;\n\nA book is a kind of thing. Instead of examining a sodden book, say &quot;[The noun] is too soaked to read, thanks to someone&apos;s carelessness.&quot; Understand &quot;book&quot; as a book.\n\nThe copy of The Last Man is a book. The description of The Last Man is &quot;Mary Shelley&apos;s very own original copy, loaned to you under the strictest of agreements[if the pond encloses the copy]. How it came to be in its present position is a long story, and not important at the moment: the critical thing is not to blame oneself - who could have anticipated the cricket bat, anyway? - but to fix it immediately, before anything worse occurs[end if].&quot; The The Last Man is in the ziploc bag. The ziploc bag is waterproof and empty. It is openable, transparent, and closed.\n\nThe Back Garden is a room. The Back Garden contains a pond. The pond is a waterfilled container. In the pond is the ziploc bag. A carp is in the pond. The carp is an animal. Instead of taking the carp, say &quot;You&apos;re not fast enough.&quot;\n\nRule for writing a paragraph about the pond:\n\tif the pond encloses the Last Man:\n\t\tsay &quot;It is a beautiful day just at the end of spring and beginning of summer. The sun shines, the trees blossom, the world conspires in Edenic cheerfulness. You can take in none of it. Your eye is on [the Last Man].&quot;;\n\totherwise:\n\t\tsay &quot;The pond[if something is in the pond] (containing [the list of things in the pond])[end if] remains a figure of menace in an otherwise lushly verdant landscape.&quot;\n\nBefore printing the name of the Last Man when the Last Man is enclosed by the Pond: if the Last Man is dry, say &quot;delicate, valuable &quot;.\n\nAfter printing the name of something (called the target) while writing a paragraph about something:\n\tif the Last Man is enclosed by the Pond:\n\t\tif the target is in something (called the parent), say &quot; - which is in [the parent]&quot;.\n\nThe Kitchen is west of the Back Garden. &quot;Not in any sense your province: Mrs Peaswell gets agitated if anyone besides herself so much as boils a kettle. In general it is best to sneak through, disturbing as little as possible and preserving the cosy domestic fiction that academics cannot cook.\n\nThe nearby stairwell leads up to the second floor.&quot;\n\nThe Stairwell is above the Kitchen. &quot;Halfway up and halfway down.&quot; The airing cupboard is a container in the Stairwell. &quot;An airing cupboard here contains the heating system, and is the ideal place for restoring wet items to a dry state.&quot; The airing cupboard is fixed in place.\n\n\nThe post-check rules are a rulebook.\n\nThis is the post-check stage rule:\n\tabide by the post-check rules.\n\nThe post-check stage rule is listed before the carry out stage rule in the specific action-processing rules.\n\nA post-check rule (this is the dry glove rule):\n\tif we get wet:\n\t\tif the player wears the gloves and the gloves are dry:\n\t\t\tnow the gloves are sodden;\n\t\t\tsay &quot;(soaking your gloves in the process)&quot;;\n\tcontinue the action.\n\nA post-check rule (this is the wet glove rule):\n\tif the player wears the sodden gloves:\n\t\tif the The Last Man must be touched and the Last Man is not sodden:\n\t\t\tsay &quot;(soaking the parched pages of The Last Man with the rude touch of your sodden gloves)&quot;;\n\t\t\tnow the The Last Man is sodden;\n\t\tcontinue the action.\n\nBefore doing something when the player does not wear the gloves:\n\tif The Last Man must be touched:\n\t\tif The Last Man is dry, say &quot;[The The Last Man] is too precious to endanger when you are not wearing gloves.&quot; instead;\n\t\totherwise say &quot;You hesitate instinctively, then recollect that you can hardly harm [The The Last Man] any more than it has already been harmed...&quot;.\n\nTo decide whether we get wet:\n\tif the noun is not a thing, no;\n\tif the noun dampens us, yes;\n\tif the second noun is not a thing, no;\n\tif the second noun dampens us, yes;\n\tno.\n\nTo decide whether (item - a thing) dampens us:\n\tif the item is not liquiferous, no;\n\tif item must be touched, yes;\n\tno.\n\nTo decide whether (item - a thing) must be touched:\n\tif the item is the noun and the action requires a touchable noun, yes;\n\tif the item is the second noun and the action requires a touchable second noun, yes;\n\tno.\n\nDefinition: a thing is liquiferous:\n\tif it is sodden, yes;\n\tif it is in a waterfilled container, yes;\n\tno.\n\nTest me with &quot;x book / x bag / get bag / take off gloves / w / u / put gloves in cupboard / z / open bag / touch book / push book / turn book / get gloves / wear gloves / get book&quot;.\n\nTest disaster with &quot;open bag&quot;.\n\nTest mishandling with &quot;get bag / open bag / get book&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Frizz&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A thing can be waterproof or porous. A container is usually waterproof. An animal is usually waterproof.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A thing can be sodden or dry.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A container can be waterfilled or empty.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Before printing the name of a sodden thing: say &quot;sodden &quot;. Understand the sodden property as describing a thing.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The player wears a pair of woolly gloves. Instead of wearing a sodden thing: say &quot;You dubiously contemplate [the noun], and decide it&#39;s best to wear dry clothing.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Every turn:</div>
<div class="codeline">&ensp;&ensp;follow the liquid distribution rules.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The liquid distribution rules is a rulebook.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A liquid distribution rule:</div>
<div class="codeline">&ensp;&ensp;repeat with item running through containers:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;if the item is open and the item is empty and the item is in a waterfilled container:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the item is waterfilled;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the player can see the item, say &quot;[The item] fills up with water, of course.&quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A liquid distribution rule:</div>
<div class="codeline">&ensp;&ensp;repeat with item running through things in a waterfilled container:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;if the item is porous and the item is dry:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the player can see the item, say &quot;[The item] soaks through.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the item is sodden.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A liquid distribution rule:</div>
<div class="codeline">&ensp;&ensp;repeat with item running through sodden things in the airing cupboard:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;if the item is not The Last Man, now the item is dry.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The last liquid distribution rule:</div>
<div class="codeline">&ensp;&ensp;if the player carries a dry copy of The Last Man, end the story finally.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of examining a waterfilled container:</div>
<div class="codeline">&ensp;&ensp;say &quot;[The noun] is full of water[if the noun contains something visible]; it also contains [the list of things in the noun][end if].&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of examining a container:</div>
<div class="codeline">&ensp;&ensp;say &quot;Dry inside[if the noun contains something visible], and containing [a list of things in the noun].&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A book is a kind of thing. Instead of examining a sodden book, say &quot;[The noun] is too soaked to read, thanks to someone&#39;s carelessness.&quot; Understand &quot;book&quot; as a book.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The copy of The Last Man is a book. The description of The Last Man is &quot;Mary Shelley&#39;s very own original copy, loaned to you under the strictest of agreements[if the pond encloses the copy]. How it came to be in its present position is a long story, and not important at the moment: the critical thing is not to blame oneself - who could have anticipated the cricket bat, anyway? - but to fix it immediately, before anything worse occurs[end if].&quot; The The Last Man is in the ziploc bag. The ziploc bag is waterproof and empty. It is openable, transparent, and closed.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Back Garden is a room. The Back Garden contains a pond. The pond is a waterfilled container. In the pond is the ziploc bag. A carp is in the pond. The carp is an animal. Instead of taking the carp, say &quot;You&#39;re not fast enough.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Rule for writing a paragraph about the pond:</div>
<div class="codeline">&ensp;&ensp;if the pond encloses the Last Man:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;say &quot;It is a beautiful day just at the end of spring and beginning of summer. The sun shines, the trees blossom, the world conspires in Edenic cheerfulness. You can take in none of it. Your eye is on [the Last Man].&quot;;</div>
<div class="codeline">&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;say &quot;The pond[if something is in the pond] (containing [the list of things in the pond])[end if] remains a figure of menace in an otherwise lushly verdant landscape.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Before printing the name of the Last Man when the Last Man is enclosed by the Pond: if the Last Man is dry, say &quot;delicate, valuable &quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">After printing the name of something (called the target) while writing a paragraph about something:</div>
<div class="codeline">&ensp;&ensp;if the Last Man is enclosed by the Pond:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;if the target is in something (called the parent), say &quot; - which is in [the parent]&quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Kitchen is west of the Back Garden. &quot;Not in any sense your province: Mrs Peaswell gets agitated if anyone besides herself so much as boils a kettle. In general it is best to sneak through, disturbing as little as possible and preserving the cosy domestic fiction that academics cannot cook.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The nearby stairwell leads up to the second floor.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Stairwell is above the Kitchen. &quot;Halfway up and halfway down.&quot; The airing cupboard is a container in the Stairwell. &quot;An airing cupboard here contains the heating system, and is the ideal place for restoring wet items to a dry state.&quot; The airing cupboard is fixed in place.</div>
</div><p>Now: whenever the player definitely touches something, we want to follow certain rules about the transfer of liquid. These rules need to come after an action&#39;s check rules (to make sure the action really occurs) and before the carry out rules (so that nothing has moved or changed yet). So we&#39;ll borrow from the chapter on rulebooks to create a whole new stage to the action, occurring between the check and the carry out phases:</p>
<div class="codeblock"><div class="codeline">The post-check rules are a rulebook.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">This is the post-check stage rule:</div>
<div class="codeline">&ensp;&ensp;abide by the post-check rules.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The post-check stage rule is listed before the carry out stage rule in the specific action-processing rules.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A post-check rule (this is the dry glove rule):</div>
<div class="codeline">&ensp;&ensp;if we get wet:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;if the player wears the gloves and the gloves are dry:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the gloves are sodden;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;(soaking your gloves in the process)&quot;;</div>
<div class="codeline">&ensp;&ensp;continue the action.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A post-check rule (this is the wet glove rule):</div>
<div class="codeline">&ensp;&ensp;if the player wears the sodden gloves:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;if the The Last Man must be touched and the Last Man is not sodden:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;(soaking the parched pages of The Last Man with the rude touch of your sodden gloves)&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now the The Last Man is sodden;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;continue the action.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Before doing something when the player does not wear the gloves:</div>
<div class="codeline">&ensp;&ensp;if The Last Man must be touched:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;if The Last Man is dry, say &quot;[The The Last Man] is too precious to endanger when you are not wearing gloves.&quot; instead;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;otherwise say &quot;You hesitate instinctively, then recollect that you can hardly harm [The The Last Man] any more than it has already been harmed...&quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">To decide whether we get wet:</div>
<div class="codeline">&ensp;&ensp;if the noun is not a thing, no;</div>
<div class="codeline">&ensp;&ensp;if the noun dampens us, yes;</div>
<div class="codeline">&ensp;&ensp;if the second noun is not a thing, no;</div>
<div class="codeline">&ensp;&ensp;if the second noun dampens us, yes;</div>
<div class="codeline">&ensp;&ensp;no.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">To decide whether (item - a thing) dampens us:</div>
<div class="codeline">&ensp;&ensp;if the item is not liquiferous, no;</div>
<div class="codeline">&ensp;&ensp;if item must be touched, yes;</div>
<div class="codeline">&ensp;&ensp;no.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">To decide whether (item - a thing) must be touched:</div>
<div class="codeline">&ensp;&ensp;if the item is the noun and the action requires a touchable noun, yes;</div>
<div class="codeline">&ensp;&ensp;if the item is the second noun and the action requires a touchable second noun, yes;</div>
<div class="codeline">&ensp;&ensp;no.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Definition: a thing is liquiferous:</div>
<div class="codeline">&ensp;&ensp;if it is sodden, yes;</div>
<div class="codeline">&ensp;&ensp;if it is in a waterfilled container, yes;</div>
<div class="codeline">&ensp;&ensp;no.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;x book / x bag / get bag / take off gloves / w / u / put gloves in cupboard / z / open bag / touch book / push book / turn book / get gloves / wear gloves / get book&quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test disaster with &quot;open bag&quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test mishandling with &quot;get bag / open bag / get book&quot;.</div>
</div><details class="testme-output"><summary>Test me with "x book / x bag / get bag / take off gloves / w / u / put gloves in cupboard / z / open bag / touch book / push book / turn book / get gloves / wear gloves / get book".</summary><div class="testme-output">Back Garden<br>It is a beautiful day just at the end of spring and beginning of summer. The sun shines, the trees blossom, the world conspires in Edenic cheerfulness. You can take in none of it. Your eye is on the delicate, valuable copy of The Last Man - which is in the ziploc bag - which is in the pond.<br><br>&gt;(Testing.)<br><br>&gt;[1] x book<br>Mary Shelley&#39;s very own original copy, loaned to you under the strictest of agreements. How it came to be in its present position is a long story, and not important at the moment: the critical thing is not to blame oneself - who could have anticipated the cricket bat, anyway? - but to fix it immediately, before anything worse occurs.<br><br>&gt;[2] x bag<br>Dry inside, and containing a delicate, valuable copy of The Last Man.<br><br>&gt;[3] get bag<br>(soaking your gloves in the process)<br>Taken.<br><br>&gt;[4] take off gloves<br>You take off the sodden pair of woolly gloves.<br><br>&gt;[5] w<br><br>Kitchen<br>Not in any sense your province: Mrs Peaswell gets agitated if anyone besides herself so much as boils a kettle. In general it is best to sneak through, disturbing as little as possible and preserving the cosy domestic fiction that academics cannot cook.<br><br>The nearby stairwell leads up to the second floor.<br><br>&gt;[6] u<br><br>Stairwell<br>Halfway up and halfway down.<br><br>An airing cupboard here contains the heating system, and is the ideal place for restoring wet items to a dry state.<br><br>&gt;[7] put gloves in cupboard<br>You put the sodden pair of woolly gloves into the airing cupboard.<br><br>&gt;[8] z<br>Time passes.<br><br>&gt;[9] open bag<br>You open the ziploc bag.<br><br>&gt;[10] touch book<br>The copy of The Last Man is too precious to endanger when you are not wearing gloves.<br><br>&gt;[11] push book<br>The copy of The Last Man is too precious to endanger when you are not wearing gloves.<br><br>&gt;[12] turn book<br>The copy of The Last Man is too precious to endanger when you are not wearing gloves.<br><br>&gt;[13] get gloves<br>Taken.<br><br>&gt;[14] wear gloves<br>You put on the pair of woolly gloves.<br><br>&gt;[15] get book<br>Taken.<br><br><br><br>    *** The End ***
</div></details><div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="red_cross.html" title="A DIAGNOSE command which allows the player to check on the health of someone."><div class="nav-arrow">←</div> <div class="doc-navbar-text">191. Red Cross</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="3_am.html" title="A shake command which agitates soda and makes items thump around in boxes."><div class="doc-navbar-text">193. 3 AM</div> <div class="nav-arrow">→</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="nav-about" href="../about.html">About this edition</a> &bull; <a class="nav-about" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
