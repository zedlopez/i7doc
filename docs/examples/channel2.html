<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 316. Channel 2</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body><main>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Channel 2</h1><div class="subheading">Television with more advanced parsing<br><wbr><div class="ex-no">Example 316</div> ★★★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_17.html#section_15" title="Understanding &gt; Understanding things by their properties"><div class="nav-arrow"><span class="sc">wi</span>&nbsp;17.15</div><div class="doc-navbar-text">Understanding things by their properties</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_9.html#section_9" title="Props: Food, Clothing, Money, Toys, Books, Electronics &gt; Televisions and Radios"><div class="doc-navbar-text">Televisions and Radios</div><div class="nav-arrow"><span class="sc">rb</span>&nbsp;9.9</div></a></div></div>
</div>
<div class="example-meta-desc"><p>Understanding channels (a number) in the names of televisions, with more sophisticated parsing of the change channel action.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="channel.html" title="Understanding channels (a number) in the names of televisions."><div class="nav-arrow">⬅313. </div><div class="doc-navbar-text">Channel 1</div></a></div><div class="doc-navbar-right"></div></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="peers.html" title="The peers of the English realm come in six flavours &ndash; Baron, Viscount, Earl, Marquess, Duke and Prince &ndash; and must always be addressed properly. While a peerage is for life, it may at the royal pleasure be promoted."><div class="nav-arrow">⬅315. </div><div class="doc-navbar-text">Peers</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="terracottissima_maxima.html" title="Flowerpots with textual names that might change during play."><div class="doc-navbar-text">Terracottissima Maxima</div><div class="nav-arrow">317.⮕</div></a></div></div>
</header>
<div class="example-body"><p>Our previous implementation of televisions (&quot;Channel 1&quot;) doesn&#39;t allow the player to type things like</p>
<div class="codeblock"><div class="codeline">TUNE FIFTIES TELEVISION TO CHANNEL 4</div>
</div><p>nor does it deal with player input like</p>
<div class="codeblock"><div class="codeline">TUNE TO CHANNEL 4 ON FIFTIES TELEVISION</div>
</div><p>or</p>
<div class="codeblock"><div class="codeline">TUNE TO CHANNEL 4</div>
</div><p>where no television is specified. When we are designing commands which involve two elements (here, a television and a channel number), it&#39;s usually a good idea to allow the player to specify those elements in either order, as we saw demonstrated briefly in &quot;New commands for old grammar&quot;.</p>
<p>We might, therefore, want to add a few refinements: first by defining a &quot;[channel]&quot; token that will accept input of the forms &quot;[number]&quot; and &quot;channel [number]&quot;, and second by creating some additional &quot;Understand&quot; lines that will accept variant versions of the player&#39;s input.</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex316">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="Channel2/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Channel 2&quot;\n\nSection 1 - Televisions in General\n\nA television is a kind of device.\n\nA television has a number called the channel. Understand the channel property as referring to a television. Understand &quot;channel&quot; as a television.\n\nChanging the channel of it to is an action applying to one thing and one number.\n\nUnderstand &quot;tune [television] to [channel]&quot; or &quot;change channel of [television] to [channel]&quot; as changing the channel of it to.\n\nUnderstand &quot;tune [something] to [channel]&quot; or &quot;change channel of [something] to [channel]&quot; as changing the channel of it to.\n\nUnderstand &quot;tune to [channel] on [television]&quot; or &quot;change to [channel] on [television]&quot; as changing the channel of it to (with nouns reversed).\n\nUnderstand &quot;tune to [channel] on [something]&quot; or &quot;change to [channel] on [something]&quot; as changing the channel of it to (with nouns reversed).\n\nUnderstand &quot;[number]&quot; or &quot;channel [number]&quot; as &quot;[channel]&quot;.\n\nCheck changing the channel of something to:\n\tif the noun is not a television, say &quot;[The noun] cannot be tuned to a channel.&quot; instead.\n\nCarry out changing the channel of something to:\n\tnow the channel of the noun is the number understood.\n\nReport changing the channel of something to:\n\tsay &quot;You tune [the noun] to channel [number understood].&quot;\n\nInstead of examining a television:\n\tif the noun is switched off, say &quot;[The noun] is currently turned off.&quot; instead;\n\tlet the chosen channel be the channel of the noun;\n\tif the chosen channel is a current channel listed in the Table of Television Channels:\n\t\tchoose row with current channel of the chosen channel in the Table of Television Channels;\n\t\tsay &quot;[output entry][paragraph break]&quot;;\n\totherwise:\n\t\tsay &quot;Snow fills the screen of [the noun].&quot;\n\nTable of Television Channels\ncurrent channel\toutput\n0\t&quot;The screen of [the noun] is completely black.&quot;\n\nSection 2 - The Scenario\n\nThe Office is a room.\n\nThe widescreen TV is a television in the Office. The fifties TV is a television in the Office.\n\n\nTable of Television Channels (continued)\ncurrent channel\toutput\n4\t&quot;A gloomy female news anchor describes the latest car bomb in Baghdad: 104 dead today, and no sign of change.&quot;\n5\t&quot;A couple of contestants in spangled scarlet outfits are performing an energetic paso doble.&quot;\n13\t&quot;[one of]On-screen, Ichiro is up to bat with one man on second and no outs.[or]Ichiro has singled to first and the other man is on third.[or]The next batter is in the middle of flying out.[or]Everything looks rosy until the men in black pull off a double-play and retire the side.[or]The channel has cut to a commercial.[stopping]&quot;\n\nTest me with &quot;test one / test two&quot;.\n\nTest one with &quot;change channel of fifties tv to 4 / x channel 4 / switch on fifties / x channel 4 / switch on widescreen / tune fifties tv to channel 5 / x channel 5 / x fifties tv / x channel 4&quot;.\n\nTest two with &quot;tune to channel 13 / widescreen / tune channel 13 to channel 5 / tune channel 5 to channel 3 / widescreen / x channel 3&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Channel 2&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 1 - Televisions in General</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">A television is a kind of device.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">A television has a number called the channel. Understand the channel property as referring to a television. Understand &quot;channel&quot; as a television.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Changing the channel of it to is an action applying to one thing and one number.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;tune [television] to [channel]&quot; or &quot;change channel of [television] to [channel]&quot; as changing the channel of it to.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;tune [something] to [channel]&quot; or &quot;change channel of [something] to [channel]&quot; as changing the channel of it to.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;tune to [channel] on [television]&quot; or &quot;change to [channel] on [television]&quot; as changing the channel of it to (with nouns reversed).</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;tune to [channel] on [something]&quot; or &quot;change to [channel] on [something]&quot; as changing the channel of it to (with nouns reversed).</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Understand &quot;[number]&quot; or &quot;channel [number]&quot; as &quot;[channel]&quot;.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Check changing the channel of something to:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the noun is not a television, say &quot;[The noun] cannot be tuned to a channel.&quot; instead.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Carry out changing the channel of something to:</div>
<div class="codeline">&ensp;&ensp;&ensp;now the channel of the noun is the number understood.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Report changing the channel of something to:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You tune [the noun] to channel [number understood].&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Instead of examining a television:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the noun is switched off, say &quot;[The noun] is currently turned off.&quot; instead;</div>
<div class="codeline">&ensp;&ensp;&ensp;let the chosen channel be the channel of the noun;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the chosen channel is a current channel listed in the Table of Television Channels:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;choose row with current channel of the chosen channel in the Table of Television Channels;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;[output entry][paragraph break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;Snow fills the screen of [the noun].&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline tablename">Table of Television Channels</div><table>
<tr><td>current channel</td><td>output</td></tr><tr><td>0</td><td>&quot;The screen of [the noun] is completely black.&quot;</td></tr></table>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 2 - The Scenario</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Office is a room.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The widescreen TV is a television in the Office. The fifties TV is a television in the Office.</div>
</div><p>And we add the scenario-specific content to our Table of Television Channels; in the case of channel 13, we provide for a changing sequence of events using text variations.</p>
<div class="codeblock"><div class="codeline tablename">Table of Television Channels (continued)</div><table>
<tr><td>current channel</td><td>output</td></tr><tr><td>4</td><td>&quot;A gloomy female news anchor describes the latest car bomb in Baghdad: 104 dead today, and no sign of change.&quot;</td></tr><tr><td>5</td><td>&quot;A couple of contestants in spangled scarlet outfits are performing an energetic paso doble.&quot;</td></tr><tr><td>13</td><td>&quot;[one of]On-screen, Ichiro is up to bat with one man on second and no outs.[or]Ichiro has singled to first and the other man is on third.[or]The next batter is in the middle of flying out.[or]Everything looks rosy until the men in black pull off a double-play and retire the side.[or]The channel has cut to a commercial.[stopping]&quot;</td></tr></table>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;test one / test two&quot;.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test one with &quot;change channel of fifties tv to 4 / x channel 4 / switch on fifties / x channel 4 / switch on widescreen / tune fifties tv to channel 5 / x channel 5 / x fifties tv / x channel 4&quot;.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test two with &quot;tune to channel 13 / widescreen / tune channel 13 to channel 5 / tune channel 5 to channel 3 / widescreen / x channel 3&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "test one / test two".</div></summary><div class="testme-output">Office<br>You can see a widescreen TV and a fifties TV here.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] test one</span><br>(Testing.)<br><br><span class="mono">&gt;[2] change channel of fifties tv to 4</span><br>You tune the fifties TV to channel 4.<br><br><span class="mono">&gt;[3] x channel 4</span><br>The fifties TV is currently turned off.<br><br><span class="mono">&gt;[4] switch on fifties</span><br>You switch the fifties TV on.<br><br><span class="mono">&gt;[5] x channel 4</span><br>A gloomy female news anchor describes the latest car bomb in Baghdad: 104 dead today, and no sign of change.<br><br><span class="mono">&gt;[6] switch on widescreen</span><br>You switch the widescreen TV on.<br><br><span class="mono">&gt;[7] tune fifties tv to channel 5</span><br>You tune the fifties TV to channel 5.<br><br><span class="mono">&gt;[8] x channel 5</span><br>A couple of contestants in spangled scarlet outfits are performing an energetic paso doble.<br><br><span class="mono">&gt;[9] x fifties tv</span><br>A couple of contestants in spangled scarlet outfits are performing an energetic paso doble.<br><br><span class="mono">&gt;[10] x channel 4</span><br>You can&#39;t see any such thing.<br><br><span class="mono">&gt;[11] test two</span><br>(Testing.)<br><br><span class="mono">&gt;[12] tune to channel 13</span><br>What do you want to tune to that on?<br><br><span class="mono">&gt;[13] widescreen</span><br>You tune the widescreen TV to channel 13.<br><br><span class="mono">&gt;[14] tune channel 13 to channel 5</span><br>You tune the widescreen TV to channel 5.<br><br><span class="mono">&gt;[15] tune channel 5 to channel 3</span><br>Which do you mean, the widescreen TV or the fifties TV?<br><br><span class="mono">&gt;[16] widescreen</span><br>You tune the widescreen TV to channel 3.<br><br><span class="mono">&gt;[17] x channel 3</span><br>Snow fills the screen of the widescreen TV.
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="channel.html" title="Understanding channels (a number) in the names of televisions."><div class="nav-arrow">⬅313. </div><div class="doc-navbar-text">Channel 1</div></a></div><div class="doc-navbar-right"></div></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="peers.html" title="The peers of the English realm come in six flavours &ndash; Baron, Viscount, Earl, Marquess, Duke and Prince &ndash; and must always be addressed properly. While a peerage is for life, it may at the royal pleasure be promoted."><div class="nav-arrow">⬅315. </div><div class="doc-navbar-text">Peers</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="terracottissima_maxima.html" title="Flowerpots with textual names that might change during play."><div class="doc-navbar-text">Terracottissima Maxima</div><div class="nav-arrow">317.⮕</div></a></div></div>
</main><footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://mastodon.gamedev.place/web/@inform7tips">@inform7tips@mastodon.gamedev.place</a></p></div></footer>
</body></html>
