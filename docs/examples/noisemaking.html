<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 197. Noisemaking</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body><main>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Noisemaking</h1><div class="subheading"><wbr><div class="ex-no">Example 197</div> ★★★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_12.html#section_9" title="Advanced Actions &gt; Check, carry out, report"><div class="nav-arrow"><span class="sc">wi</span>&nbsp;12.9</div><div class="doc-navbar-text">Check, carry out, report</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_7.html#section_3" title="Other Characters &gt; Reactive Characters"><div class="doc-navbar-text">Reactive Characters</div><div class="nav-arrow"><span class="sc">rb</span>&nbsp;7.3</div></a></div></div>
</div>
<div class="example-meta-desc"><p>Creating a stage after the report stage of an action, during which other characters may observe and react.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="delicious_delicious_rocks.html" title="Adding a &quot;sanity-check&quot; stage to decide whether an action makes any sense, which occurs before any before rules, implicit taking, or check rules."><div class="nav-arrow">⬅196. </div><div class="doc-navbar-text">Delicious, Delicious Rocks</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="removal.html" title="TAKE expanded to give responses such as &quot;You take the book from the shelf.&quot; or &quot;You pick up the toy from the ground.&quot;"><div class="doc-navbar-text">Removal</div><div class="nav-arrow">198.⮕</div></a></div></div>
</header>
<div class="example-body"><p>Suppose the current sequence of action handling is not quite enough for us: we&#39;d also like to have a stage after reporting, where other characters can react to the player character&#39;s behavior after it has already happened and been reported on screen. Having such a stage is unlike using &quot;after&quot;, because after occurs before reports and prevents them from being printed. So, for instance, we could allow the player to do any of a range of different actions that make loud noises, and have a nervous bird that reacts to all of them by flying away afterward.</p>
<p>To do this, we can add a new rule into the specific action-processing rules. (For a list of these, see the Rules index.) Moving rules around and adding new ones requires syntax that we will learn in the chapter on Rulebooks, but the present example is fairly straightforward:</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex197">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="Noisemaking/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Noisemaking&quot;\n\nSection 1 - Procedure\n\nThe other-player response rule is listed after the report stage rule in the specific action-processing rules.\n\nThis is the other-player response rule:\n\tfollow the observation rules.\n\nThe observation rules is a rulebook.\n\nSection 2 - Scenario\n\nCountry Lane is a room. West of Country Lane is Outside the Farmhouse. East of Country Lane is Village Center. North of Country Lane is Open Field.\n\nThe player carries a drum.\n\nThe black crow is an animal in Country Lane.\n\nSinging is an action applying to nothing. Understand &quot;sing&quot; as singing.\n\nReport singing:\n\tsay &quot;You hum a little ditty.&quot;\n\nSinging is a loud action.\n\nAttacking the drum is a loud action.\n\nThe block attacking rule is not listed in any rulebook.\n\nReport attacking something:\n\tsay &quot;THWACK!&quot;\n\nAn observation rule for loud action in the presence of the black crow:\n\tlet N be a random adjacent room;\n\tif N is a room, move the black crow to N;\n\tsay &quot;The crow, startled, flies off to [N].&quot;\n\nTest me with &quot;sing / g / n / hit drum&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Noisemaking&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 1 - Procedure</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">The other-player response rule is listed after the report stage rule in the specific action-processing rules.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">This is the other-player response rule:</div>
<div class="codeline">&ensp;&ensp;&ensp;follow the observation rules.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The observation rules is a rulebook.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline i7header">Section 2 - Scenario</div><div class="codeline blankline">&thinsp;</div>
<div class="codeline">Country Lane is a room. West of Country Lane is Outside the Farmhouse. East of Country Lane is Village Center. North of Country Lane is Open Field.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The player carries a drum.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The black crow is an animal in Country Lane.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Singing is an action applying to nothing. Understand &quot;sing&quot; as singing.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Report singing:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You hum a little ditty.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Singing is a loud action.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Attacking the drum is a loud action.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The block attacking rule is not listed in any rulebook.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Report attacking something:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;THWACK!&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">An observation rule for loud action in the presence of the black crow:</div>
<div class="codeline">&ensp;&ensp;&ensp;let N be a random adjacent room;</div>
<div class="codeline">&ensp;&ensp;&ensp;if N is a room, move the black crow to N;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;The crow, startled, flies off to [N].&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;sing / g / n / hit drum&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "sing / g / n / hit drum".</div></summary><div class="testme-output">Country Lane<br>You can see a black crow here.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] sing</span><br>You hum a little ditty.<br><br>The crow, startled, flies off to Outside the Farmhouse.<br><br><span class="mono">&gt;[2] g</span><br>You hum a little ditty.<br><br><span class="mono">&gt;[3] n</span><br><br>Open Field<br><br><span class="mono">&gt;[4] hit drum</span><br>THWACK!
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="delicious_delicious_rocks.html" title="Adding a &quot;sanity-check&quot; stage to decide whether an action makes any sense, which occurs before any before rules, implicit taking, or check rules."><div class="nav-arrow">⬅196. </div><div class="doc-navbar-text">Delicious, Delicious Rocks</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="removal.html" title="TAKE expanded to give responses such as &quot;You take the book from the shelf.&quot; or &quot;You pick up the toy from the ground.&quot;"><div class="doc-navbar-text">Removal</div><div class="nav-arrow">198.⮕</div></a></div></div>
</main><footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://mastodon.gamedev.place/web/@inform7tips">@inform7tips@mastodon.gamedev.place</a></p></div></footer>
</body></html>
