<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 236. Wainwright Acts</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body><main>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Wainwright Acts</h1><div class="subheading"><wbr><div class="ex-no">Example 236</div> ★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_13.html#section_12" title="Relations &gt; Relations which express conditions"><div class="nav-arrow"><span class="sc">wi</span>&nbsp;13.12</div><div class="doc-navbar-text">Relations which express conditions</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_3.html#section_5" title="Place &gt; Doors, Staircases, and Bridges"><div class="doc-navbar-text">Doors, Staircases, and Bridges</div><div class="nav-arrow"><span class="sc">rb</span>&nbsp;3.5</div></a></div></div>
</div>
<div class="example-meta-desc"><p>A technical note about checking the location of door objects when characters other than the player are interacting with them.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="problem_of_edith.html" title="A conversation in which the main character tries to build logical connections between what the player is saying now and what went immediately before."><div class="nav-arrow">⬅235. </div><div class="doc-navbar-text">The Problem of Edith</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="humble_wayside_flower.html" title="Relations track the relationships between one character and another. Whenever the player meets a relative of someone he already knows, he receives a brief introduction."><div class="doc-navbar-text">A Humble Wayside Flower</div><div class="nav-arrow">237.⮕</div></a></div></div>
</header>
<div class="example-body"><p>Suppose we wanted to write rules for a character who will interact with doors in other locations even when the player is not present. This poses a little challenge: doors are actually single objects, and -- with the same shuffling of stage properties that applies to backdrops -- they are moved as needed to represent the door object in whatever room contains the player.</p>
<p>That means that it isn&#39;t safe to rely on a phrase like</p>
<div class="codeblock"><div class="codeline">if an open door is in the location of Bernard</div>
</div><p>because, even if Bernard&#39;s location is connected by doors to other places, the actual representation of that door may not be &quot;in&quot; Bernard&#39;s location, from the model&#39;s point of view, at this exact moment.</p>
<p>This does not, of course, mean that we can&#39;t ask this question; just that we have to be a little cleverer about how we phrase it. Every door has properties that correspond to the two locations</p>
<p>linked:</p>
<div class="codeblock"><div class="codeline">the front side of the blue door (a room, which is arbitrarily one side of the door)</div>
<div class="codeline">the back side of the blue door (arbitrarily the other side)</div>
</div><p>We can make this information easier to check with a conditional relation, like so:</p>
<div class="codeblock"><div class="codeline">Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.</div>
</div><p>And this allows us to write rules that have characters interacting with doors even in the player&#39;s absence:</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex236">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="WainwrightActs/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Wainwright Acts&quot;\n\nThe Waiting Room is a room. The waiting room door is west of the Waiting Room and east of the Gents&apos; Loo. The Waiting Room door is an open door. &quot;The waiting room door [if open]stands open[otherwise]is shut firmly[end if].&quot;\n\nSir Humphrey is a man in the Gents&apos; Loo.\n\nLiminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.\n\nDefinition: a person is other if he is not the player.\n\nEvery turn:\n\trepeat with indiscreet one running through other people:\n\t\trepeat with port running through open doors that are a threshold of the location of the indiscreet one:\n\t\t\tif the port is a threshold of the location and the indiscreet one is not in the location:\n\t\t\t\tsay &quot;Through [the port], you overhear [the indiscreet one] discussing [one of]his hopes for your imminent resignation[or]your wife&apos;s infidelity[or]your financially straitened circumstances[or]ways to avoid attending your birthday party[or]your halitosis[as decreasingly likely outcomes].&quot;\n\nTest me with &quot;z / z / z / w / z / e / close door / z&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Wainwright Acts&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Waiting Room is a room. The waiting room door is west of the Waiting Room and east of the Gents&#39; Loo. The Waiting Room door is an open door. &quot;The waiting room door [if open]stands open[otherwise]is shut firmly[end if].&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Sir Humphrey is a man in the Gents&#39; Loo.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Definition: a person is other if he is not the player.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Every turn:</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat with indiscreet one running through other people:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;repeat with port running through open doors that are a threshold of the location of the indiscreet one:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the port is a threshold of the location and the indiscreet one is not in the location:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;Through [the port], you overhear [the indiscreet one] discussing [one of]his hopes for your imminent resignation[or]your wife&#39;s infidelity[or]your financially straitened circumstances[or]ways to avoid attending your birthday party[or]your halitosis[as decreasingly likely outcomes].&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;z / z / z / w / z / e / close door / z&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "z / z / z / w / z / e / close door / z".</div></summary><div class="testme-output">Waiting Room<br>The waiting room door stands open.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] z</span><br>Time passes.<br><br>Through the waiting room door, you overhear Sir Humphrey discussing ways to avoid attending your birthday party.<br><br><span class="mono">&gt;[2] z</span><br>Time passes.<br><br>Through the waiting room door, you overhear Sir Humphrey discussing ways to avoid attending your birthday party.<br><br><span class="mono">&gt;[3] z</span><br>Time passes.<br><br>Through the waiting room door, you overhear Sir Humphrey discussing his hopes for your imminent resignation.<br><br><span class="mono">&gt;[4] w</span><br><br>Gents&#39; Loo<br>The waiting room door stands open.<br><br>You can also see Sir Humphrey here.<br><br><span class="mono">&gt;[5] z</span><br>Time passes.<br><br><span class="mono">&gt;[6] e</span><br><br>Waiting Room<br>The waiting room door stands open.<br><br>Through the waiting room door, you overhear Sir Humphrey discussing his hopes for your imminent resignation.<br><br><span class="mono">&gt;[7] close door</span><br>You close the waiting room door.<br><br><span class="mono">&gt;[8] z</span><br>Time passes.
</div></details></div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="problem_of_edith.html" title="A conversation in which the main character tries to build logical connections between what the player is saying now and what went immediately before."><div class="nav-arrow">⬅235. </div><div class="doc-navbar-text">The Problem of Edith</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="humble_wayside_flower.html" title="Relations track the relationships between one character and another. Whenever the player meets a relative of someone he already knows, he receives a brief introduction."><div class="doc-navbar-text">A Humble Wayside Flower</div><div class="nav-arrow">237.⮕</div></a></div></div>
</main><footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://mastodon.gamedev.place/web/@inform7tips">@inform7tips@mastodon.gamedev.place</a></p></div></footer>
</body></html>
