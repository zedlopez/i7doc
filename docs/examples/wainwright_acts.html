<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 236. Wainwright Acts</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<h1>Wainwright Acts</h1><div class="subheading">Example 236 ★</div>
<div class="linkback">
<a href="../WI_13.html#section_12" title="Relations &gt; Relations which express conditions">WI §13.12 Relations which express conditions</a><br><a href="../RB_3.html#section_5" title="Place &gt; Doors, Staircases, and Bridges">RB §3.5 Doors, Staircases, and Bridges</a>
</div>
<p class="example-desc">A technical note about checking the location of door objects when characters other than the player are interacting with them.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="problem_of_edith.html" title="A conversation in which the main character tries to build logical connections between what the player is saying now and what went immediately before.">235. The Problem of Edith</a></div><div class="doc-navbar-right"><a href="humble_wayside_flower.html" title="Relations track the relationships between one character and another. Whenever the player meets a relative of someone he already knows, he receives a brief introduction.">237. A Humble Wayside Flower</a></div></div>
</header>
<p>Suppose we wanted to write rules for a character who will interact with doors in other locations even when the player is not present. This poses a little challenge: doors are actually single objects, and -- with the same shuffling of stage properties that applies to backdrops -- they are moved as needed to represent the door object in whatever room contains the player.</p>
<p>That means that it isn&#39;t safe to rely on a phrase like</p>
<div class="codeblock"><div class="codeline">if an open door is in the location of Bernard</div>
</div><p>because, even if Bernard&#39;s location is connected by doors to other places, the actual representation of that door may not be &quot;in&quot; Bernard&#39;s location, from the model&#39;s point of view, at this exact moment.</p>
<p>This does not, of course, mean that we can&#39;t ask this question; just that we have to be a little cleverer about how we phrase it. Every door has properties that correspond to the two locations</p>
<p>linked:</p>
<div class="codeblock"><div class="codeline">the front side of the blue door (a room, which is arbitrarily one side of the door)</div>
<div class="codeline">the back side of the blue door (arbitrarily the other side)</div>
</div><p>We can make this information easier to check with a conditional relation, like so:</p>
<div class="codeblock"><div class="codeline">Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.</div>
</div><p>And this allows us to write rules that have characters interacting with doors even in the player&#39;s absence:</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex236">Play/modify Wainwright Acts in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="WainwrightActs/index.html">Play Wainwright Acts in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Wainwright Acts&quot;\n\nThe Waiting Room is a room. The waiting room door is west of the Waiting Room and east of the Gents&apos; Loo. The Waiting Room door is an open door. &quot;The waiting room door [if open]stands open[otherwise]is shut firmly[end if].&quot;\n\nSir Humphrey is a man in the Gents&apos; Loo.\n\nLiminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.\n\nDefinition: a person is other if he is not the player.\n\nEvery turn:\n\trepeat with indiscreet one running through other people:\n\t\trepeat with port running through open doors that are a threshold of the location of the indiscreet one:\n\t\t\tif the port is a threshold of the location and the indiscreet one is not in the location:\n\t\t\t\tsay &quot;Through [the port], you overhear [the indiscreet one] discussing [one of]his hopes for your imminent resignation[or]your wife&apos;s infidelity[or]your financially straitened circumstances[or]ways to avoid attending your birthday party[or]your halitosis[as decreasingly likely outcomes].&quot;\n\nTest me with &quot;z / z / z / w / z / e / close door / z&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Wainwright Acts&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Waiting Room is a room. The waiting room door is west of the Waiting Room and east of the Gents&#39; Loo. The Waiting Room door is an open door. &quot;The waiting room door [if open]stands open[otherwise]is shut firmly[end if].&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Sir Humphrey is a man in the Gents&#39; Loo.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Liminality relates a door (called X) to a room (called Y) when the front side of X is Y or the back side of X is Y. The verb to be a threshold of means the liminality relation.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Definition: a person is other if he is not the player.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Every turn:</div>
<div class="codeline">&ensp;&ensp;repeat with indiscreet one running through other people:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;repeat with port running through open doors that are a threshold of the location of the indiscreet one:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if the port is a threshold of the location and the indiscreet one is not in the location:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;Through [the port], you overhear [the indiscreet one] discussing [one of]his hopes for your imminent resignation[or]your wife&#39;s infidelity[or]your financially straitened circumstances[or]ways to avoid attending your birthday party[or]your halitosis[as decreasingly likely outcomes].&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;z / z / z / w / z / e / close door / z&quot;.</div>
</div><details class="testme-output"><summary>Test me with "z / z / z / w / z / e / close door / z".</summary><div class="testme-output">Waiting Room<br>The waiting room door stands open.<br><br>&gt;(Testing.)<br><br>&gt;[1] z<br>Time passes.<br><br>Through the waiting room door, you overhear Sir Humphrey discussing ways to avoid attending your birthday party.<br><br>&gt;[2] z<br>Time passes.<br><br>Through the waiting room door, you overhear Sir Humphrey discussing his hopes for your imminent resignation.<br><br>&gt;[3] z<br>Time passes.<br><br>Through the waiting room door, you overhear Sir Humphrey discussing your financially straitened circumstances.<br><br>&gt;[4] w<br><br>Gents&#39; Loo<br>The waiting room door stands open.<br><br>You can also see Sir Humphrey here.<br><br>&gt;[5] z<br>Time passes.<br><br>&gt;[6] e<br><br>Waiting Room<br>The waiting room door stands open.<br><br>Through the waiting room door, you overhear Sir Humphrey discussing his hopes for your imminent resignation.<br><br>&gt;[7] close door<br>You close the waiting room door.<br><br>&gt;[8] z<br>Time passes.
</div></details><div class="doc-navbar"><div class="doc-navbar-left"><a href="problem_of_edith.html" title="A conversation in which the main character tries to build logical connections between what the player is saying now and what went immediately before.">235. The Problem of Edith</a></div><div class="doc-navbar-right"><a href="humble_wayside_flower.html" title="Relations track the relationships between one character and another. Whenever the player meets a relative of someone he already knows, he receives a brief introduction.">237. A Humble Wayside Flower</a></div></div>
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p>Thanks go to <a href="http://nitku.net/blog/">Juhana Leinonen</a> for <a href="https://borogove.app">Borogove</a>. The playable examples use <a href="https://eblong.com">Andrew Plotkin</a>'s <a href="https://eblong.com/zarf/glk/glkote.html">GlkOte</a> and <a href="https://eblong.com/zarf/glulx/quixe/index.html">Quixe</a>, distributed under an <a href="../mit.html">MIT License.</a></p><p class="about"><a href="../about.html">About this edition</a> &bull; <a href="https://twitter.com/inform7tips">@inform7tips</a></p></footer>
</body></html>
