<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 260. Zqlran Era 8</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body><main>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Zqlran Era 8</h1><div class="subheading"><wbr><div class="ex-no">Example 260</div> ★★★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_15.html#section_15" title="Numbers and Equations &gt; The parts of a number specification"><div class="nav-arrow"><span class="sc">wi</span>&nbsp;15.15</div><div class="doc-navbar-text">The parts of a number specification</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_4.html#section_1" title="Time and Plot &gt; The Passage Of Time"><div class="doc-navbar-text">The Passage Of Time</div><div class="nav-arrow"><span class="sc">rb</span>&nbsp;4.1</div></a></div></div>
</div>
<div class="example-meta-desc"><p>Creating an alternative system of time for our game, using new units.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="lead_cuts_paper.html" title="To give every container a breaking strain, that is, a maximum weight of contents which it can bear - so that to put the lead pig into a paper bag invites disaster."><div class="nav-arrow">⬅259. </div><div class="doc-navbar-text">Lead Cuts Paper</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="snip.html" title="A string which can be cut into arbitrary lengths, and then tied back together."><div class="doc-navbar-text">Snip</div><div class="nav-arrow">261.⮕</div></a></div></div>
</header>
<div class="example-body"><p>Suppose that our game takes place on an alien planet that does not follow Earth time. On this planet, we want to track time with different units. We also want time to advance in those units, and we want to be able to set a schedule of timed events.</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex260">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="Zql/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Zqlran Era 8&quot;\n\nThe Barren Lavender Surface of Zql is a room. &quot;It is late twilight on Zql. Overhead, two crescent moons, both green, mark the sluggish passage of time. A cold wind is blowing over the pale purplish ground cover, but it does not penetrate your airtight suit.&quot;\n\nA Zqlran date is a kind of value. 14-88 specifies a Zqlran date with parts zqls and frbs. Current zqlran date is a zqlran date that varies. The current zqlran date is 8-22. Previous zqlran date is a zqlran date that varies. The previous zqlran date is 8-20.\n\nWhen play begins:\n\tnow left hand status line is &quot;[current zqlran date], or [current zqlran date in words]&quot;.\n\nTo say (Zqlra - a Zqlran date) in words:\n\tsay &quot;[zqls part of Zqlra] Z, [frbs part of Zqlra] f.&quot;\n\n\nThe Zqlran time rule is listed instead of the advance time rule in the turn sequence rules.\n\nThis is the Zqlran time rule:\n\tincrement turn count;\n\tnow the previous zqlran date is current zqlran date;\n\tincrease the current zqlran date by 0-02;\n\trepeat through the Table of Zql Schedule:\n\t\tif era entry is greater than previous zqlran date and era entry is not greater than current zqlran date:\n\t\t\tsay event entry;\n\t\t\tsay paragraph break;\n\t\t\tblank out the whole row.\n\nTable of Zql Schedule\nera\tevent\n8-24\t&quot;A wisp-thin cloud blows rapidly across the face of Nepenthe, the lesser of the two green moons.&quot;\n8-28\t&quot;The cloud across Nepenthe clears.&quot;`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Zqlran Era 8&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Barren Lavender Surface of Zql is a room. &quot;It is late twilight on Zql. Overhead, two crescent moons, both green, mark the sluggish passage of time. A cold wind is blowing over the pale purplish ground cover, but it does not penetrate your airtight suit.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">A Zqlran date is a kind of value. 14-88 specifies a Zqlran date with parts zqls and frbs. Current zqlran date is a zqlran date that varies. The current zqlran date is 8-22. Previous zqlran date is a zqlran date that varies. The previous zqlran date is 8-20.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">When play begins:</div>
<div class="codeline">&ensp;&ensp;&ensp;now left hand status line is &quot;[current zqlran date], or [current zqlran date in words]&quot;.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">To say (Zqlra - a Zqlran date) in words:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[zqls part of Zqlra] Z, [frbs part of Zqlra] f.&quot;</div>
</div><p>Inform automatically supplies a way to say a new unit, which will look similar to the format in which we defined that unit in the first place. But we can (as shown here) create our own alternative say phrases to express the units in other ways as well.</p>
<p>Next, we need to meddle with time advancement so that time is tracked in Zqlran date rather than in minutes. This requires borrowing a trick from a later chapter, to replace Inform&#39;s built-in time handling with an alternative time handling rule of our own:</p>
<div class="codeblock"><div class="codeline">The Zqlran time rule is listed instead of the advance time rule in the turn sequence rules.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">This is the Zqlran time rule:</div>
<div class="codeline">&ensp;&ensp;&ensp;increment turn count;</div>
<div class="codeline">&ensp;&ensp;&ensp;now the previous zqlran date is current zqlran date;</div>
<div class="codeline">&ensp;&ensp;&ensp;increase the current zqlran date by 0-02;</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat through the Table of Zql Schedule:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if era entry is greater than previous zqlran date and era entry is not greater than current zqlran date:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say event entry;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say paragraph break;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;blank out the whole row.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline tablename">Table of Zql Schedule</div><table>
<tr><td>era</td><td>event</td></tr><tr><td>8-24</td><td>&quot;A wisp-thin cloud blows rapidly across the face of Nepenthe, the lesser of the two green moons.&quot;</td></tr><tr><td>8-28</td><td>&quot;The cloud across Nepenthe clears.&quot;</td></tr></table>
</div><p>Note that we could if we wished use a different device for scheduling events: this one simply prints text at scheduled eras, but we might also (for instance) make the event entry be a rule for Inform to follow, and tell Inform to carry out that rule at the scheduled time.</p>
</div><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="lead_cuts_paper.html" title="To give every container a breaking strain, that is, a maximum weight of contents which it can bear - so that to put the lead pig into a paper bag invites disaster."><div class="nav-arrow">⬅259. </div><div class="doc-navbar-text">Lead Cuts Paper</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="snip.html" title="A string which can be cut into arbitrary lengths, and then tied back together."><div class="doc-navbar-text">Snip</div><div class="nav-arrow">261.⮕</div></a></div></div>
</main><footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://mastodon.gamedev.place/web/@inform7tips">@inform7tips@mastodon.gamedev.place</a></p></div></footer>
</body></html>
