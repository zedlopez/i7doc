<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 282. Sweeney</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Sweeney</h1><div class="subheading">Example 282 ★★</div></div></div>
<div class="linkback">
<a href="../WI_16.html#section_16" title="Tables &gt; Defining things with tables">WI §16.16 Defining things with tables</a><br><a href="../RB_7.html#section_8" title="Other Characters &gt; Saying Complicated Things">RB §7.8 Saying Complicated Things</a>
</div>
<p class="example-desc">A conversation where each topic may have multiple questions and answers associated with it, and where a given exchange can lead to new additions to the list.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="farewell.html" title="People who respond to conversational gambits, summarize what they said before if asked again, and provide recap of conversation that is past."><div class="nav-arrow">←281. </div><div class="doc-navbar-text">Farewell</div></a></div><div class="doc-navbar-right"><a class="nav-el" href="introduction_to_juggling.html" title="Assortment of equipment defined with price and description, in a table."><div class="doc-navbar-text">Introduction to Juggling</div><div class="nav-arrow">283.→</div></a></div></div>
</header>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex282">Play/modify Sweeney in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Sweeney/index.html">Play Sweeney in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Sweeney&quot;\n\nA subject is a kind of thing. Some subjects are defined by the Table of Conversation Subjects.\n\nTable of Conversation Subjects\nsubject\tconversation\npies\tTable of Pie Queries\nemployment\tTable of Job Queries\n\nUnderstand &quot;job&quot; as employment. Understand &quot;meat&quot; or &quot;food&quot; as pies.\n\nTable of Job Queries\nquip\tdiscussion\tlabel\tsubtopics\n&quot;whether there is a job available here&quot;\t&quot;&apos;Say, are you hiring?&apos; you ask, as casually as you can manage. [The interlocutor] looks you over dubiously. &apos;I might be hiring someone, but I can&apos;t say it would necessarily be you.&apos;&quot;\t0\t--\n&quot;what happened to that boy that worked here&quot;\t&quot;&apos;Tell me, didn&apos;t you used to have a young assistant working here?&apos; She shrugs. &apos;Young men these days are so unstable. He left-- who knows where he&apos;s gone? I haven&apos;t seen hair or fingernail of him for weeks.&apos;&quot;\t0\t--\nwith 3 blank rows.\n\nTable of Pie Queries\nquip\tdiscussion\tlabel\tsubtopics\n&quot;what pie fillings are available&quot;\t&quot;&apos;What pies do you have in today, Mrs Lovett?&apos; you ask. She starts, then smiles. &apos;Meat pies, of course.&apos;&quot;\t0\tTable of Pie Flavor Queries\nwith 3 blank rows.\n\nTable of Pie Flavor Queries\nquip\tdiscussion\tlabel\tsubtopics\n&quot;what kind of meat&quot;\t&quot;&apos;What kind of meat goes into these pies, Mrs Lovett?&apos; you ask pressingly. She looks shifty. &apos;Whatever the butcher brings this week,&apos; she says. &apos;With the price of meat what it is, when you get it, you have to be glad of what you can get. If you get it.&apos;&quot;\t0\t--\n\nTo copy (first table - a table name) to (second table - a table name):\n\trepeat through first table:\n\t\tlet copied quip be &quot;blank&quot;;\n\t\tif there is a quip entry, now the copied quip is the quip entry;\n\t\tlet copied discussion be &quot;blank&quot;;\n\t\tif there is a discussion entry, now the copied discussion is the discussion entry;\n\t\tlet copied subtopics be second table;\n\t\tif there is a subtopics entry, now the copied subtopics are the subtopics entry;\n\t\tchoose a blank row in the second table;\n\t\tif copied quip is not &quot;blank&quot;, now quip entry is copied quip;\n\t\tif copied discussion is not &quot;blank&quot;, now discussion entry is copied discussion;\n\t\tif copied subtopics is not second table, now subtopics entry is copied subtopics.\n\nCurrent conversation table is a table name that varies. Current conversation table is Table of Job Queries.\n\nInterlocutor is a person that varies.\n\nUnderstand &quot;ask [someone] about [any subject]&quot; as asking it about the subject.\n\nAsking it about the subject is an action applying to two visible things.\n\nCarry out asking it about the subject:\n\tsay &quot;You can&apos;t think of anything to say.&quot;\n\nInstead of asking someone about the subject a subject listed in the Table of Conversation Subjects:\n\tnow interlocutor is noun;\n\tnow current conversation table is the conversation of the second noun;\n\tif the number of filled rows in the current conversation table is 1:\n\t\trepeat through current conversation table:\n\t\t\tnow label entry is 1;\n\t\tnow number understood is 1;\n\t\ttry selecting 1 instead;\n\tif the number of filled rows in the current conversation table is 0:\n\t\tsay &quot;You can think of nothing further to say on that topic.&quot;;\n\t\tstop the action;\n\totherwise:\n\t\tlet index be 0;\n\t\tlet total be the number of filled rows in the current conversation table;\n\t\tsay &quot;Do you mean &quot;;\n\t\trepeat through current conversation table:\n\t\t\tnow index is index + 1;\n\t\t\tnow label entry is index;\n\t\t\tsay &quot;([index]) [quip entry]&quot;;\n\t\t\tif index is total, say &quot;?&quot;;\n\t\t\tif index is total - 1, say &quot;, or &quot;;\n\t\t\tif index is less than total - 1, say &quot;, &quot;.\n\nUnderstand &quot;[number]&quot; as selecting.\n\nSelecting is an action applying to one number.\n\nCarry out selecting:\n\tsay &quot;No such option is available.&quot;\n\nInstead of selecting a label listed in the current conversation table:\n\tsay &quot;[discussion entry][paragraph break]&quot;;\n\tif there is a subtopics entry:\n\t\tcopy subtopics entry to current conversation table;\n\tchoose row with label of number understood in the current conversation table;\n\tblank out the whole row.\n\nMrs Lovett&apos;s Meat Pies is a room. Mrs Lovett is a woman in Meat Pies.\n\nTest me with &quot;ask lovett about pies / ask lovett about employment / 1 / 2 / ask lovett about pies&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Sweeney&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">A subject is a kind of thing. Some subjects are defined by the Table of Conversation Subjects.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline tablename">Table of Conversation Subjects</div><table>
<tr><td>subject</td><td>conversation</td></tr><tr><td>pies</td><td>Table of Pie Queries</td></tr><tr><td>employment</td><td>Table of Job Queries</td></tr></table>
<div class="codeline">Understand &quot;job&quot; as employment. Understand &quot;meat&quot; or &quot;food&quot; as pies.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline tablename">Table of Job Queries</div><table>
<tr><td>quip</td><td>discussion</td><td>label</td><td>subtopics</td></tr><tr><td>&quot;whether there is a job available here&quot;</td><td>&quot;&#39;Say, are you hiring?&#39; you ask, as casually as you can manage. [The interlocutor] looks you over dubiously. &#39;I might be hiring someone, but I can&#39;t say it would necessarily be you.&#39;&quot;</td><td>0</td><td>--</td></tr><tr><td>&quot;what happened to that boy that worked here&quot;</td><td>&quot;&#39;Tell me, didn&#39;t you used to have a young assistant working here?&#39; She shrugs. &#39;Young men these days are so unstable. He left-- who knows where he&#39;s gone? I haven&#39;t seen hair or fingernail of him for weeks.&#39;&quot;</td><td>0</td><td>--</td></tr></table>
<div class="codeline blankrows">with 3 blank rows.</div>
<div class="codeline">&thinsp;</div>
<div class="codeline tablename">Table of Pie Queries</div><table>
<tr><td>quip</td><td>discussion</td><td>label</td><td>subtopics</td></tr><tr><td>&quot;what pie fillings are available&quot;</td><td>&quot;&#39;What pies do you have in today, Mrs Lovett?&#39; you ask. She starts, then smiles. &#39;Meat pies, of course.&#39;&quot;</td><td>0</td><td>Table of Pie Flavor Queries</td></tr></table>
<div class="codeline blankrows">with 3 blank rows.</div>
<div class="codeline">&thinsp;</div>
<div class="codeline tablename">Table of Pie Flavor Queries</div><table>
<tr><td>quip</td><td>discussion</td><td>label</td><td>subtopics</td></tr><tr><td>&quot;what kind of meat&quot;</td><td>&quot;&#39;What kind of meat goes into these pies, Mrs Lovett?&#39; you ask pressingly. She looks shifty. &#39;Whatever the butcher brings this week,&#39; she says. &#39;With the price of meat what it is, when you get it, you have to be glad of what you can get. If you get it.&#39;&quot;</td><td>0</td><td>--</td></tr></table>
<div class="codeline">To copy (first table - a table name) to (second table - a table name):</div>
<div class="codeline">&ensp;&ensp;&ensp;repeat through first table:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let copied quip be &quot;blank&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if there is a quip entry, now the copied quip is the quip entry;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let copied discussion be &quot;blank&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if there is a discussion entry, now the copied discussion is the discussion entry;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let copied subtopics be second table;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if there is a subtopics entry, now the copied subtopics are the subtopics entry;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;choose a blank row in the second table;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if copied quip is not &quot;blank&quot;, now quip entry is copied quip;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if copied discussion is not &quot;blank&quot;, now discussion entry is copied discussion;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if copied subtopics is not second table, now subtopics entry is copied subtopics.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Current conversation table is a table name that varies. Current conversation table is Table of Job Queries.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Interlocutor is a person that varies.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Understand &quot;ask [someone] about [any subject]&quot; as asking it about the subject.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Asking it about the subject is an action applying to two visible things.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Carry out asking it about the subject:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;You can&#39;t think of anything to say.&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Instead of asking someone about the subject a subject listed in the Table of Conversation Subjects:</div>
<div class="codeline">&ensp;&ensp;&ensp;now interlocutor is noun;</div>
<div class="codeline">&ensp;&ensp;&ensp;now current conversation table is the conversation of the second noun;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the number of filled rows in the current conversation table is 1:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;repeat through current conversation table:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now label entry is 1;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now number understood is 1;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;try selecting 1 instead;</div>
<div class="codeline">&ensp;&ensp;&ensp;if the number of filled rows in the current conversation table is 0:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;You can think of nothing further to say on that topic.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;stop the action;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let index be 0;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;let total be the number of filled rows in the current conversation table;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;Do you mean &quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;repeat through current conversation table:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now index is index + 1;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;now label entry is index;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;([index]) [quip entry]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if index is total, say &quot;?&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if index is total - 1, say &quot;, or &quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;if index is less than total - 1, say &quot;, &quot;.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Understand &quot;[number]&quot; as selecting.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Selecting is an action applying to one number.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Carry out selecting:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;No such option is available.&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Instead of selecting a label listed in the current conversation table:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;[discussion entry][paragraph break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;if there is a subtopics entry:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;copy subtopics entry to current conversation table;</div>
<div class="codeline">&ensp;&ensp;&ensp;choose row with label of number understood in the current conversation table;</div>
<div class="codeline">&ensp;&ensp;&ensp;blank out the whole row.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Mrs Lovett&#39;s Meat Pies is a room. Mrs Lovett is a woman in Meat Pies.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;ask lovett about pies / ask lovett about employment / 1 / 2 / ask lovett about pies&quot;.</div>
</div><details class="testme-output"><summary>Test me with "ask lovett about pies / ask lovett about employment / 1 / 2 / ask lovett about pies".</summary><div class="testme-output">Mrs Lovett&#39;s Meat Pies<br>You can see Mrs Lovett here.<br><br>&gt;(Testing.)<br><br>&gt;[1] ask lovett about pies<br>&quot;What pies do you have in today, Mrs Lovett?&quot; you ask. She starts, then smiles. &quot;Meat pies, of course.&quot;<br><br>&gt;[2] ask lovett about employment<br>Do you mean (1) whether there is a job available here, or (2) what happened to that boy that worked here?<br><br>&gt;[3] 1<br>&quot;Say, are you hiring?&quot; you ask, as casually as you can manage. Mrs Lovett looks you over dubiously. &quot;I might be hiring someone, but I can&#39;t say it would necessarily be you.&quot;<br><br>&gt;[4] 2<br>&quot;Tell me, didn&#39;t you used to have a young assistant working here?&quot; She shrugs. &quot;Young men these days are so unstable. He left-- who knows where he&#39;s gone? I haven&#39;t seen hair or fingernail of him for weeks.&quot;<br><br>&gt;[5] ask lovett about pies<br>&quot;What kind of meat goes into these pies, Mrs Lovett?&quot; you ask pressingly. She looks shifty. &quot;Whatever the butcher brings this week,&quot; she says. &quot;With the price of meat what it is, when you get it, you have to be glad of what you can get. If you get it.&quot;
</div></details><div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="farewell.html" title="People who respond to conversational gambits, summarize what they said before if asked again, and provide recap of conversation that is past."><div class="nav-arrow">←281. </div><div class="doc-navbar-text">Farewell</div></a></div><div class="doc-navbar-right"><a class="nav-el" href="introduction_to_juggling.html" title="Assortment of equipment defined with price and description, in a table."><div class="doc-navbar-text">Introduction to Juggling</div><div class="nav-arrow">283.→</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="nav-about" href="../about.html">About this edition</a> &bull; <a class="nav-about" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
