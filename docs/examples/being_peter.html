<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 404. Being Peter</title>
<script src="../i7doc.js"></script>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,375;0,400;0,500;0,700;1,375;1,400;1,500;1,700&family=Source+Sans+Pro:ital,wght@0,350;0,400;0,550;0,700;1,350;1,400;1,550;1,700&display=swap" rel="stylesheet"> 
<link rel="stylesheet" href="../i7doc.css">
</head>
<body><main>
<header class="example-header">
<nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Being Peter</h1><div class="subheading"><wbr><div class="ex-no">Example 404</div> ★</div></div>
<div class="doc-navbar example-linkback"><div class="doc-navbar-left"><a class="raw nav-el" href="../WI_19.html#section_12" title="Rulebooks &gt; Named outcomes"><div class="nav-arrow"><span class="sc">wi</span> 19.12</div><div class="doc-navbar-text">Named outcomes</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="../RB_7.html#section_10" title="Other Characters &gt; Character Emotion"><div class="doc-navbar-text">Character Emotion</div><div class="nav-arrow"><span class="sc">rb</span> 7.10</div></a></div></div>
</div>
<div class="example-meta-desc"><p>A set of rules determining the attitude a character will take when asked about certain topics.</p></div>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="kyoto.html" title="Expanding the effects of the THROW something AT something command so that objects do make contact with one another."><div class="nav-arrow">⬅403. </div><div class="doc-navbar-text">Kyoto</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="feline_behavior.html" title="A cat which reacts to whatever items it has handy, returning the result of a rulebook for further processing."><div class="doc-navbar-text">Feline Behavior</div><div class="nav-arrow">405.⮕</div></a></div></div>
</header>
<div class="example-body"><p>Let&#39;s say that we&#39;re implementing a particularly irrational and volatile character. Some of the time she remains composed; some of the time she reacts with unexpected vehemence for reasons only partly related to what was said.</p>
<p>Moreover, her responses are divided between successful and failing outcomes, where success indicates that she&#39;s not too upset and failure means that she is distraught; we use this to determine how the rest of the room reacts.</p>
<div class="play-example borogove"><a class="raw" href="https://snippets.borogove.app/inform7/v10ex404">Play/modify in Borogove</a></div>
<div class="play-example quixe"><a class="raw" href="Peter/index.html">Play in Quixe</a></div>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Being Peter&quot;\n\nThe Drawing Room is a room. &quot;The company is assembled here for champagne. Most of it, anyway: Mary is on the phone to her babysitter, Roger is keeping her anxious company, and Carol doesn&apos;t drink. But everyone else.&quot;\n\nMaggie is a woman in the Drawing Room.\n\nThe player wears a top hat.\n\nQuizzing it about is an action applying to one thing and one visible thing. Understand &quot;ask [someone] about [any thing]&quot; as quizzing it about.\n\nInstead of quizzing Maggie about something:\n\tfollow the attitude rules;\n\tsay &quot;Everyone waits to see what the reaction will be: [outcome of the rulebook].&quot;;\n\tif rule succeeded, say &quot;There is general relief.&quot;;\n\totherwise say &quot;Everyone is pointedly silent.&quot;\n\nThe attitude rules are a rulebook. The attitude rules have outcomes she stays calm (no outcome - default), she gets angry (failure), she has a stroke (failure), she is only mildly annoyed (success), and she is elated (success).\n\n\nA subject is a kind of thing. income, love life, and children are subjects.\n\nAn attitude rule for quizzing Maggie about love life:\n\tshe gets angry.\n\nAn attitude rule:\n\tif the player wears the top hat, she gets angry.\n\n\nThe last attitude rule:\n\tshe is only mildly annoyed.\n\nTest me with &quot;ask maggie about love / ask maggie about income / take off hat / ask maggie about income&quot;.`)"><span class="sym">⧉</span></button><div class="codeline storytitle">&quot;Being Peter&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The Drawing Room is a room. &quot;The company is assembled here for champagne. Most of it, anyway: Mary is on the phone to her babysitter, Roger is keeping her anxious company, and Carol doesn&#39;t drink. But everyone else.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Maggie is a woman in the Drawing Room.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The player wears a top hat.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Quizzing it about is an action applying to one thing and one visible thing. Understand &quot;ask [someone] about [any thing]&quot; as quizzing it about.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Instead of quizzing Maggie about something:</div>
<div class="codeline">&ensp;&ensp;&ensp;follow the attitude rules;</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;Everyone waits to see what the reaction will be: [outcome of the rulebook].&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;if rule succeeded, say &quot;There is general relief.&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;otherwise say &quot;Everyone is pointedly silent.&quot;</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">The attitude rules are a rulebook. The attitude rules have outcomes she stays calm (no outcome - default), she gets angry (failure), she has a stroke (failure), she is only mildly annoyed (success), and she is elated (success).</div>
</div><p>Here we want Inform to consult every appropriate attitude rule until it gets to some answer; if an attitude rule does not provide a result, the default &#39;no outcome&#39; will mean that we go on to the next rule, and so on.</p>
<div class="codeblock"><div class="codeline">A subject is a kind of thing. income, love life, and children are subjects.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">An attitude rule for quizzing Maggie about love life:</div>
<div class="codeline">&ensp;&ensp;&ensp;she gets angry.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">An attitude rule:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the player wears the top hat, she gets angry.</div>
</div><p>Now, as we saw, the &#39;no outcome&#39; result will never be returned and printed as Maggie&#39;s reaction, precisely because it is &quot;no outcome&quot;. Therefore, we provide a final attitude rule which will give her a default response to all statements:</p>
<div class="codeblock"><div class="codeline">The last attitude rule:</div>
<div class="codeline">&ensp;&ensp;&ensp;she is only mildly annoyed.</div>
<div class="codeline blankline">&thinsp;</div>
<div class="codeline">Test me with &quot;ask maggie about love / ask maggie about income / take off hat / ask maggie about income&quot;.</div>
</div><details class="testme-output"><summary><div class="summation">Test me with "ask maggie about love / ask maggie about income / take off hat / ask maggie about income".</div></summary><div class="testme-output">Drawing Room<br>The company is assembled here for champagne. Most of it, anyway: Mary is on the phone to her babysitter, Roger is keeping her anxious company, and Carol doesn&#39;t drink. But everyone else.<br><br>You can see Maggie here.<br><br><span class="mono">&gt;(Testing.)</span><br><br><span class="mono">&gt;[1] ask maggie about love</span><br>Everyone waits to see what the reaction will be: she gets angry.<br>Everyone is pointedly silent.<br><br><span class="mono">&gt;[2] ask maggie about income</span><br>Everyone waits to see what the reaction will be: she gets angry.<br>Everyone is pointedly silent.<br><br><span class="mono">&gt;[3] take off hat</span><br>You take off the top hat.<br><br><span class="mono">&gt;[4] ask maggie about income</span><br>Everyone waits to see what the reaction will be: she is only mildly annoyed.<br>There is general relief.
</div></details><p>There are plenty of contexts where we might want named outcomes for clarity but not want to print the results literally afterward.</p>
</div></main><div class="doc-navbar"><div class="doc-navbar-left"><a class="raw nav-el" href="kyoto.html" title="Expanding the effects of the THROW something AT something command so that objects do make contact with one another."><div class="nav-arrow">⬅403. </div><div class="doc-navbar-text">Kyoto</div></a></div><div class="doc-navbar-right"><a class="raw nav-el" href="feline_behavior.html" title="A cat which reacts to whatever items it has handy, returning the result of a rulebook for further processing."><div class="doc-navbar-text">Feline Behavior</div><div class="nav-arrow">405.⮕</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="raw nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="raw nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="raw nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="raw nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="raw" href="../about.html">About this edition</a>&ensp;&bull;&ensp;<a class="raw" href="https://mastodon.gamedev.place/web/@inform7tips">@inform7tips@mastodon.gamedev.place</a></p></div></footer>
</body></html>
