<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 404. Being Peter</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Being Peter</h1><div class="subheading">Example 404 ★</div></div></div>
<div class="linkback">
<a href="../WI_19.html#section_12" title="Rulebooks &gt; Named outcomes">WI §19.12 Named outcomes</a><br><a href="../RB_7.html#section_10" title="Other Characters &gt; Character Emotion">RB §7.10 Character Emotion</a>
</div>
<p class="example-desc">A set of rules determining the attitude a character will take when asked about certain topics.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="kyoto.html" title="Expanding the effects of the THROW something AT something command so that objects do make contact with one another."><div class="nav-arrow">←</div> <div class="doc-navbar-text">403. Kyoto</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="feline_behavior.html" title="A cat which reacts to whatever items it has handy, returning the result of a rulebook for further processing."><div class="doc-navbar-text">405. Feline Behavior</div> <div class="nav-arrow">→</div></a></div></div>
</header>
<p>Let&#39;s say that we&#39;re implementing a particularly irrational and volatile character. Some of the time she remains composed; some of the time she reacts with unexpected vehemence for reasons only partly related to what was said.</p>
<p>Moreover, her responses are divided between successful and failing outcomes, where success indicates that she&#39;s not too upset and failure means that she is distraught; we use this to determine how the rest of the room reacts.</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex404">Play/modify Being Peter in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Peter/index.html">Play Being Peter in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Being Peter&quot;\n\nThe Drawing Room is a room. &quot;The company is assembled here for champagne. Most of it, anyway: Mary is on the phone to her babysitter, Roger is keeping her anxious company, and Carol doesn&apos;t drink. But everyone else.&quot;\n\nMaggie is a woman in the Drawing Room.\n\nThe player wears a top hat.\n\nQuizzing it about is an action applying to one thing and one visible thing. Understand &quot;ask [someone] about [any thing]&quot; as quizzing it about.\n\nInstead of quizzing Maggie about something:\n\tfollow the attitude rules;\n\tsay &quot;Everyone waits to see what the reaction will be: [outcome of the rulebook].&quot;;\n\tif rule succeeded, say &quot;There is general relief.&quot;;\n\totherwise say &quot;Everyone is pointedly silent.&quot;\n\nThe attitude rules are a rulebook. The attitude rules have outcomes she stays calm (no outcome - default), she gets angry (failure), she has a stroke (failure), she is only mildly annoyed (success), and she is elated (success).\n\n\nA subject is a kind of thing. income, love life, and children are subjects.\n\nAn attitude rule for quizzing Maggie about love life:\n\tshe gets angry.\n\nAn attitude rule:\n\tif the player wears the top hat, she gets angry.\n\n\nThe last attitude rule:\n\tshe is only mildly annoyed.\n\nTest me with &quot;ask maggie about love / ask maggie about income / take off hat / ask maggie about income&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Being Peter&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Drawing Room is a room. &quot;The company is assembled here for champagne. Most of it, anyway: Mary is on the phone to her babysitter, Roger is keeping her anxious company, and Carol doesn&#39;t drink. But everyone else.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Maggie is a woman in the Drawing Room.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The player wears a top hat.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Quizzing it about is an action applying to one thing and one visible thing. Understand &quot;ask [someone] about [any thing]&quot; as quizzing it about.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of quizzing Maggie about something:</div>
<div class="codeline">&ensp;&ensp;follow the attitude rules;</div>
<div class="codeline">&ensp;&ensp;say &quot;Everyone waits to see what the reaction will be: [outcome of the rulebook].&quot;;</div>
<div class="codeline">&ensp;&ensp;if rule succeeded, say &quot;There is general relief.&quot;;</div>
<div class="codeline">&ensp;&ensp;otherwise say &quot;Everyone is pointedly silent.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The attitude rules are a rulebook. The attitude rules have outcomes she stays calm (no outcome - default), she gets angry (failure), she has a stroke (failure), she is only mildly annoyed (success), and she is elated (success).</div>
</div><p>Here we want Inform to consult every appropriate attitude rule until it gets to some answer; if an attitude rule does not provide a result, the default &#39;no outcome&#39; will mean that we go on to the next rule, and so on.</p>
<div class="codeblock"><div class="codeline">A subject is a kind of thing. income, love life, and children are subjects.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">An attitude rule for quizzing Maggie about love life:</div>
<div class="codeline">&ensp;&ensp;she gets angry.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">An attitude rule:</div>
<div class="codeline">&ensp;&ensp;if the player wears the top hat, she gets angry.</div>
</div><p>Now, as we saw, the &#39;no outcome&#39; result will never be returned and printed as Maggie&#39;s reaction, precisely because it is &quot;no outcome&quot;. Therefore, we provide a final attitude rule which will give her a default response to all statements:</p>
<div class="codeblock"><div class="codeline">The last attitude rule:</div>
<div class="codeline">&ensp;&ensp;she is only mildly annoyed.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;ask maggie about love / ask maggie about income / take off hat / ask maggie about income&quot;.</div>
</div><details class="testme-output"><summary>Test me with "ask maggie about love / ask maggie about income / take off hat / ask maggie about income".</summary><div class="testme-output">Drawing Room<br>The company is assembled here for champagne. Most of it, anyway: Mary is on the phone to her babysitter, Roger is keeping her anxious company, and Carol doesn&#39;t drink. But everyone else.<br><br>You can see Maggie here.<br><br>&gt;(Testing.)<br><br>&gt;[1] ask maggie about love<br>Everyone waits to see what the reaction will be: she gets angry.<br>Everyone is pointedly silent.<br><br>&gt;[2] ask maggie about income<br>Everyone waits to see what the reaction will be: she gets angry.<br>Everyone is pointedly silent.<br><br>&gt;[3] take off hat<br>You take off the top hat.<br><br>&gt;[4] ask maggie about income<br>Everyone waits to see what the reaction will be: she is only mildly annoyed.<br>There is general relief.
</div></details><p>There are plenty of contexts where we might want named outcomes for clarity but not want to print the results literally afterward.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="kyoto.html" title="Expanding the effects of the THROW something AT something command so that objects do make contact with one another."><div class="nav-arrow">←</div> <div class="doc-navbar-text">403. Kyoto</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="feline_behavior.html" title="A cat which reacts to whatever items it has handy, returning the result of a rulebook for further processing."><div class="doc-navbar-text">405. Feline Behavior</div> <div class="nav-arrow">→</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="nav-about" href="../about.html">About this edition</a> &bull; <a class="nav-about" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
