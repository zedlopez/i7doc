<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 165. Pine 3</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<h1>Pine 3</h1><div class="subheading">Flashback scenes described to the Princess: Example 165 ★★★</div>
<div class="linkback">
<a href="../WI_10.html#section_7" title="Scenes &gt; Multiple beginnings and repeats">WI §10.7 Multiple beginnings and repeats</a><br><a href="../RB_4.html#section_5" title="Time and Plot &gt; Flashbacks">RB §4.5 Flashbacks</a>
</div>
<p class="example-desc">Pine: Allowing the player to visit aspects of the past in memory and describe these events to the princess, as a break from the marriage-proposal scene.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="pine2.html" title="Pine: Adding a conversation with the princess, in which a basic set of facts must be covered before the scene is allowed to end.">161. Pine 2</a></div><div class="doc-navbar-right"><a title="Pine: Adding a flashback scene that, instead of repeating endlessly, repeats only until the Princess has understood the point." href="pine4.html">167. Pine 4</a></div></div><div class="doc-navbar"><div class="doc-navbar-left"><a href="night_and_day.html" title="Cycling through a sequence of scenes to represent day and night following one another during a game.">164. Night and Day</a></div><div class="doc-navbar-right"><a href="panache.html" title="Replacing the score with a plot summary that records the events of the plot, scene by scene.">166. Panache</a></div></div>
</header>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex165">Play/modify Pine in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Pine3/index.html">Play Pine in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Pine&quot;\n\nPart 1 - The Set-up\n\n\nA person can be asleep or awake. A person can be active or passive.\n\nThe Spinning Tower is a room. &quot;A remote corner of the old castle, reserved for spinning and weaving tasks.&quot;\n\nSleeping Beauty is an asleep woman in the Spinning Tower. &quot;[if asleep]Sleeping Beauty lies here, oblivious to your presence[otherwise]Sleeping Beauty stands beside you, looking [attitude][end if].&quot; The description is &quot;She is even more magnificent than the rumors suggested.&quot; Understand &quot;woman&quot; or &quot;girl&quot; or &quot;princess&quot; or &quot;lady&quot; as Sleeping Beauty.\n\nDiscovery is a scene. Discovery begins when play begins. Discovery ends when Sleeping Beauty is awake. Marriage Proposal is a scene. Marriage Proposal begins when Discovery ends.\n\nWhen Discovery ends: say &quot;Throughout the palace you can hear the other sounds of stirring and movement as the spell of centuries is broken.&quot;; now Beauty is passive.\n\nInstead of waking an awake person: say &quot;Redundant.&quot;\n\nInstead of waking an asleep person: say &quot;Yes, but how?&quot;\n\nInstead of attacking an asleep person:\nnow the noun is awake;\n\tsay &quot;[The noun] sits bolt upright. &apos;Hey! Ow!&apos; So much for that true love&apos;s kiss nonsense.&quot;\n\nInstead of kissing an asleep person:\n\tnow the noun is awake;\n\tsay &quot;[The noun] slowly stirs to wakefulness!&quot;\n\nInstead of throwing water at an asleep person:\n\tnow the second noun is awake;\n\tnow the noun is nowhere;\n\tsay &quot;You pour out [the noun] on [the second noun].\n\n[The second noun] wakes, shuddering. &apos;Agh! I had a terrible dream about drowning and then-- Hey!&apos;&quot;\n\nThe player carries a jug of water. Understand &quot;pour [something] on [something]&quot; or &quot;splash [something] at/on [something]&quot; as throwing it at.\n\nTable of Conversation\ntopic\treply\tquip\n&quot;dream/dreams/nightmare/nightmares/sleep&quot;\t&quot;&apos;Sleep well?&apos; you ask solicitously.\n\n&apos;Not really,&apos; she replies, edging away from you. So much for that angle.&quot;\t&quot;&apos;Ghastly nightmares,&apos; she remarks. You nod politely.&quot;\n&quot;marriage/love/wedding/boyfriend/beau/lover&quot;\t&quot;&apos;So,&apos; you say. &apos;This is a little weird since we just met, but, um. Would you like to get married?&apos;\n\nShe looks at you nervously. &apos;Do I have to?&apos;&quot;\t&quot;&apos;I, er,&apos; she says. &apos;I hope I&apos;m not supposed to marry you or something.&apos;&quot;\n&quot;marriage/love/wedding/boyfriend/beau/lover&quot;\t&quot;&apos;I was told I was going to marry you and inherit the kingdom,&apos; you say, apologetically. &apos;Would that be very bad?&apos; This could be awkward, considering your family circumstances -- you did promise your mother that everything would be better, after this --\n\n&apos;Oh, it&apos;s not you -- I&apos;m seeing someone,&apos; she says, smiling quickly.\n\nYou try to think how to point out that it&apos;s been a hundred years since she last saw her boyfriend.&quot;\t&quot;&apos;Do you think I could go look for someone? I&apos;m seeing him, you see, and I think I&apos;ve been... sick... for a while, so he might be worried.&apos;\n\nYou try to think how to point out that it&apos;s been a hundred years since she last saw her boyfriend. And try not to think how awkward things would be in your family if she refuses to marry you.&quot;\n&quot;marriage/love/wedding/boyfriend/beau/lover&quot;\t&quot;&apos;You&apos;ve been up here for a hundred years,&apos; you say. An unpleasant thought occurs to you. &apos;Was your young man in the castle somewhere?&apos;\n\nShe shakes her head mutely.&quot;\t&quot;She goes to the window and looks out at the now-fading thicket of briar. &apos;That took a while to grow,&apos; she observes. &apos;I&apos;ve been up here longer than I thought.&apos;\n\nYou shrug, uncomfortable.&quot;\n\nInstead of asking an awake beauty about a topic listed in the Table of Conversation:\n\tnow Beauty is passive;\n\tsay &quot;[reply entry][paragraph break]&quot;;\n\tblank out the whole row.\n\nInstead of telling an awake beauty about something: try asking the noun about it.\n\nInstead of asking an asleep person about something:\n\tsay &quot;[The noun] snores.&quot;\n\nMarriage Proposal ends when the number of filled rows in the Table of Conversation is 0.\n\nEvery turn during Marriage Proposal:\n\tif Beauty is active and Beauty is visible:\n\t\trepeat through Table of Conversation:\n\t\t\tsay &quot;[quip entry][paragraph break]&quot;;\n\t\t\tblank out the whole row;\n\t\t\tmake no decision.\n\nEvery turn: now Beauty is active.\n\nWhen Marriage Proposal ends: end the story saying &quot;This is going to take some explaining.&quot;\n\n\nPart 2 - Flashbacks\n\nInstead of asking an awake beauty about a topic listed in the Table of Flashback Material:\n\tnow Beauty is passive;\n\tsay &quot;[reply entry][paragraph break]&quot;.\n\nA fact is a kind of thing. The family circumstances is a fact. A fact can be known or unknown. A fact can be current or past.\n\n\nTable of Flashback Material\ntopic\treply\n&quot;poor/poverty/family/money/mother/circumstances&quot; or &quot;family circumstances&quot; or &quot;my family/mother&quot;\t&quot;[if family circumstances is unknown]&apos;I wish you&apos;d give some thought to marrying me. You see,&apos; you say, your jaw tensing. &apos;I wouldn&apos;t ask if it weren&apos;t for my [family circumstances]...&apos;[otherwise]&apos;I don&apos;t think you fully understand the [family circumstances],&apos; you say.[end if]&quot;\n\nAfter printing the name of a fact (called target): now the target is current; now the target is known.\n\n\nPoverty flashback is a recurring scene. Poverty flashback begins when family circumstances is current. When poverty flashback begins: strip the player; move the player to the Woodcutter&apos;s Shack.\n\n\nThe Woodcutter&apos;s Shack is a room. &quot;Your family lives in a shack in the forest. There are holes in the roof, and in the winter the snow comes in -- rain, too, for that matter. The walls aren&apos;t very well-boarded, and don&apos;t keep out the wind, and even though you live in the middle of dense woods, you can never gather enough fuel to keep this place fully heated. And then there&apos;s the stench. Pigs wander freely in and out, and your three youngest brothers play on the floor.&quot;\n\nPigs are an animal in the shack. The pigs are scenery. The description is &quot;They really are very grubby, dirty animals, but what&apos;s worse than that, the value of pigs has declined a lot over the last few decades. This is hard to explain to someone who has been out of touch with the world for a while, but keeping pigs for meat is a dubious prospect when there&apos;s less and less for them to forage on.&quot; Instead of smelling the pigs: say &quot;They smell the way animals do, when they live among their own refuse.&quot;; increase the pity of Beauty by 2.\n\nThe brothers are a man. The description of brothers is &quot;Hans, Franz, and Lukas. Twins and then the baby. So young, and growing up fatherless; and soon to be orphaned entirely, if your mother&apos;s health does not improve.&quot; Understand &quot;brother&quot; or &quot;twin&quot; or &quot;twins&quot; or &quot;baby&quot; or &quot;franz&quot; or &quot;hans&quot; or &quot;lukas&quot; as the brothers.\n\nThe untidy bed is scenery in the Shack. Mother is a woman on the untidy bed. The description of mother is &quot;She is wasting away of a slow disease, her skin stretched tautly over bone. She hasn&apos;t been the same since your father left.&quot; On the bed is a folded letter.\n\nThe description of the letter is &quot;Many times read over and creased, the letter explains how your father has gone away with a wealthy countess and will not return. Your mother was not able to read it herself, of course, and had to have it explained to her by the parish priest. Now she keeps it by the bed and crumples it in her fits of delirium.&quot;\n\nInstead of kissing or touching Mother for the first time:\n\tsay &quot;You place a gentle kiss on her feverish brow. She looks up at you, her oldest -- yes, never mind that bit -- with a look of sincere trust and admiration.\n\n&apos;You&apos;ll find a way through this for us,&apos; she says, squeezing your fingers. &apos;I know you will.&apos;&quot;; increase the pity of Beauty by 3.\n\nInstead of kissing Mother: say &quot;You have no more heart-rending memories of affection to recount; that one incident will have to serve, for rhetorical purposes.&quot;\n\nInstead of waiting in the Shack: say &quot;The wind blows sharply through the walls.&quot;\n\nInstead of attacking someone in the Shack:\n\tsay &quot;Though sometimes the conditions of your life make you grouchy and impatient, you would never dream of striking a member of your own family. But from time to time you do feel the temptation.&quot;\n\nBeauty has a number called pity. After examining something in the Woodcutter&apos;s Shack, increment the pity of Beauty. After examining mother, increase the pity of Beauty by 2. After examining the letter, increase the pity of Beauty by 3.\n\nPoverty flashback ends when waiting or the time since poverty flashback began is five minutes.\n\nWhen Poverty flashback ends:\n\tnow family circumstances is past;\n\tsay &quot;...you finish describing the miserable circumstances of your home life, and allow your attention to return to the present.&quot;;\n\trestore the player;\n\tnow Beauty is passive;\n\tif Beauty is sympathetic, say &quot;&apos;Oh dear!&apos; she says. &apos;What a dreadful life!&apos; She wrings her hands. &apos;No wonder you are eager to improve your lot...! But --&apos; Her brow clears, a new thought occurring. &apos;You needn&apos;t marry me, you know! We could arrange it differently! I am certain that my father would give you a large reward, instead, and then I would not be separated from my current boyfriend!&apos;&quot;;\n\totherwise say &quot;She makes a disgusted face, but she doesn&apos;t seem nearly so heart-wrung as you had hoped to make her. Tough audience, these modern princesses.&quot;\n\nDefinition: Beauty is sympathetic if the pity of Beauty is greater than 4.\n\nTo say attitude:\n\tif Beauty is sympathetic, say &quot;distressed on your behalf&quot;;\n\totherwise say &quot;a little confused&quot;.\n\n\nSaved location is a room that varies. Locker is a container. Wardrobe is a container.\n\nTo strip the player:\n\tnow every thing carried by the player is in the locker;\n\tnow every thing worn by the player is in the wardrobe;\n\tnow saved location is location.\n\nTo restore the player:\n\tnow every thing carried by the player is in the location;\n\tnow every thing in the locker is carried by the player;\n\tnow every thing in the wardrobe is worn by the player;\n\tmove the player to saved location.\n\nTest me with &quot;x beauty / wake beauty / pour water on beauty / ask beauty about sleep / tell beauty about poverty / smell pigs / x mother / x letter / kiss mother / ask beauty about marriage / z / z&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Pine&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline i7header">Part 1 - The Set-up</div></div><p>This is mostly a repeat of what we have already seen, but for the sake of producing a playable scenario, we include it. The new material appears at Part 2.</p>
<div class="codeblock"><div class="codeline">A person can be asleep or awake. A person can be active or passive.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Spinning Tower is a room. &quot;A remote corner of the old castle, reserved for spinning and weaving tasks.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Sleeping Beauty is an asleep woman in the Spinning Tower. &quot;[if asleep]Sleeping Beauty lies here, oblivious to your presence[otherwise]Sleeping Beauty stands beside you, looking [attitude][end if].&quot; The description is &quot;She is even more magnificent than the rumors suggested.&quot; Understand &quot;woman&quot; or &quot;girl&quot; or &quot;princess&quot; or &quot;lady&quot; as Sleeping Beauty.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Discovery is a scene. Discovery begins when play begins. Discovery ends when Sleeping Beauty is awake. Marriage Proposal is a scene. Marriage Proposal begins when Discovery ends.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">When Discovery ends: say &quot;Throughout the palace you can hear the other sounds of stirring and movement as the spell of centuries is broken.&quot;; now Beauty is passive.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of waking an awake person: say &quot;Redundant.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of waking an asleep person: say &quot;Yes, but how?&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of attacking an asleep person:</div>
<div class="codeline">now the noun is awake;</div>
<div class="codeline">&ensp;&ensp;say &quot;[The noun] sits bolt upright. &#39;Hey! Ow!&#39; So much for that true love&#39;s kiss nonsense.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of kissing an asleep person:</div>
<div class="codeline">&ensp;&ensp;now the noun is awake;</div>
<div class="codeline">&ensp;&ensp;say &quot;[The noun] slowly stirs to wakefulness!&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of throwing water at an asleep person:</div>
<div class="codeline">&ensp;&ensp;now the second noun is awake;</div>
<div class="codeline">&ensp;&ensp;now the noun is nowhere;</div>
<div class="codeline">&ensp;&ensp;say &quot;You pour out [the noun] on [the second noun].</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">[The second noun] wakes, shuddering. &#39;Agh! I had a terrible dream about drowning and then-- Hey!&#39;&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The player carries a jug of water. Understand &quot;pour [something] on [something]&quot; or &quot;splash [something] at/on [something]&quot; as throwing it at.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline tablename">Table of Conversation</div><table>
<tr><td>topic</td><td>reply</td><td>quip</td></tr><tr><td>&quot;dream/dreams/nightmare/nightmares/sleep&quot;</td><td>&quot;&#39;Sleep well?&#39; you ask solicitously.

&quot;&#39;Ghastly nightmares,&#39; she remarks. You nod politely.&quot;</td><td>&#39;Not really,&#39; she replies, edging away from you. So much for that angle.&quot;</td></tr><tr><td>&quot;marriage/love/wedding/boyfriend/beau/lover&quot;</td><td>&quot;&#39;So,&#39; you say. &#39;This is a little weird since we just met, but, um. Would you like to get married?&#39;

&quot;&#39;I, er,&#39; she says. &#39;I hope I&#39;m not supposed to marry you or something.&#39;&quot;</td><td>She looks at you nervously. &#39;Do I have to?&#39;&quot;</td></tr><tr><td>&quot;marriage/love/wedding/boyfriend/beau/lover&quot;</td><td>&quot;&#39;I was told I was going to marry you and inherit the kingdom,&#39; you say, apologetically. &#39;Would that be very bad?&#39; This could be awkward, considering your family circumstances -- you did promise your mother that everything would be better, after this --

&#39;Oh, it&#39;s not you -- I&#39;m seeing someone,&#39; she says, smiling quickly.

&quot;&#39;Do you think I could go look for someone? I&#39;m seeing him, you see, and I think I&#39;ve been... sick... for a while, so he might be worried.&#39;</td><td>You try to think how to point out that it&#39;s been a hundred years since she last saw her boyfriend.&quot;

You try to think how to point out that it&#39;s been a hundred years since she last saw her boyfriend. And try not to think how awkward things would be in your family if she refuses to marry you.&quot;</td></tr><tr><td>&quot;marriage/love/wedding/boyfriend/beau/lover&quot;</td><td>&quot;&#39;You&#39;ve been up here for a hundred years,&#39; you say. An unpleasant thought occurs to you. &#39;Was your young man in the castle somewhere?&#39;

&quot;She goes to the window and looks out at the now-fading thicket of briar. &#39;That took a while to grow,&#39; she observes. &#39;I&#39;ve been up here longer than I thought.&#39;</td><td>She shakes her head mutely.&quot;

You shrug, uncomfortable.&quot;</td></tr></table>
<div class="codeline">Instead of asking an awake beauty about a topic listed in the Table of Conversation:</div>
<div class="codeline">&ensp;&ensp;now Beauty is passive;</div>
<div class="codeline">&ensp;&ensp;say &quot;[reply entry][paragraph break]&quot;;</div>
<div class="codeline">&ensp;&ensp;blank out the whole row.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of telling an awake beauty about something: try asking the noun about it.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of asking an asleep person about something:</div>
<div class="codeline">&ensp;&ensp;say &quot;[The noun] snores.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Marriage Proposal ends when the number of filled rows in the Table of Conversation is 0.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Every turn during Marriage Proposal:</div>
<div class="codeline">&ensp;&ensp;if Beauty is active and Beauty is visible:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;repeat through Table of Conversation:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;say &quot;[quip entry][paragraph break]&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;blank out the whole row;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;make no decision.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Every turn: now Beauty is active.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">When Marriage Proposal ends: end the story saying &quot;This is going to take some explaining.&quot;</div>
</div><p>So far we haven&#39;t much of a chance to affect matters and make them better. Suppose we&#39;d like to add an element to the conversation where we&#39;re allowed to tell Beauty about past events -- and explore them a bit; and if the first retelling doesn&#39;t go quite as planned, we&#39;re allowed to revisit these scenes to hit them with a bit more emphasis.</p>
<div class="codeblock"><div class="codeline i7header">Part 2 - Flashbacks</div><div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of asking an awake beauty about a topic listed in the Table of Flashback Material:</div>
<div class="codeline">&ensp;&ensp;now Beauty is passive;</div>
<div class="codeline">&ensp;&ensp;say &quot;[reply entry][paragraph break]&quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">A fact is a kind of thing. The family circumstances is a fact. A fact can be known or unknown. A fact can be current or past.</div>
</div><p>Once known, a fact remains known permanently -- this could be useful if we wanted to make some rules about how Beauty acts when she knows different information. By contrast, a fact is only &quot;current&quot; if it is the last thing discussed. Since a player can mention a fact over and over, he can make it &quot;current&quot; again and again, and thus reactivate the flashback.</p>
<div class="codeblock"><div class="codeline tablename">Table of Flashback Material</div><table>
<tr><td>topic</td><td>reply</td></tr><tr><td>&quot;poor/poverty/family/money/mother/circumstances&quot; or &quot;family circumstances&quot; or &quot;my family/mother&quot;</td><td>&quot;[if family circumstances is unknown]&#39;I wish you&#39;d give some thought to marrying me. You see,&#39; you say, your jaw tensing. &#39;I wouldn&#39;t ask if it weren&#39;t for my [family circumstances]...&#39;[otherwise]&#39;I don&#39;t think you fully understand the [family circumstances],&#39; you say.[end if]&quot;</td></tr></table>
<div class="codeline">After printing the name of a fact (called target): now the target is current; now the target is known.</div>
</div><p>This &quot;After printing the name&hellip;&quot; rule will be explained later in the chapter on activities; for now, it is enough to know that whenever family circumstances is mentioned in the table of flashback material, this rule will automatically be called. Now the terms under which the flashback happens:</p>
<div class="codeblock"><div class="codeline">Poverty flashback is a recurring scene. Poverty flashback begins when family circumstances is current. When poverty flashback begins: strip the player; move the player to the Woodcutter&#39;s Shack.</div>
</div><p>Note the &quot;recurring&quot; here: we want the player to be able to revisit this scene as needed.</p>
<div class="codeblock"><div class="codeline">The Woodcutter&#39;s Shack is a room. &quot;Your family lives in a shack in the forest. There are holes in the roof, and in the winter the snow comes in -- rain, too, for that matter. The walls aren&#39;t very well-boarded, and don&#39;t keep out the wind, and even though you live in the middle of dense woods, you can never gather enough fuel to keep this place fully heated. And then there&#39;s the stench. Pigs wander freely in and out, and your three youngest brothers play on the floor.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Pigs are an animal in the shack. The pigs are scenery. The description is &quot;They really are very grubby, dirty animals, but what&#39;s worse than that, the value of pigs has declined a lot over the last few decades. This is hard to explain to someone who has been out of touch with the world for a while, but keeping pigs for meat is a dubious prospect when there&#39;s less and less for them to forage on.&quot; Instead of smelling the pigs: say &quot;They smell the way animals do, when they live among their own refuse.&quot;; increase the pity of Beauty by 2.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The brothers are a man. The description of brothers is &quot;Hans, Franz, and Lukas. Twins and then the baby. So young, and growing up fatherless; and soon to be orphaned entirely, if your mother&#39;s health does not improve.&quot; Understand &quot;brother&quot; or &quot;twin&quot; or &quot;twins&quot; or &quot;baby&quot; or &quot;franz&quot; or &quot;hans&quot; or &quot;lukas&quot; as the brothers.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The untidy bed is scenery in the Shack. Mother is a woman on the untidy bed. The description of mother is &quot;She is wasting away of a slow disease, her skin stretched tautly over bone. She hasn&#39;t been the same since your father left.&quot; On the bed is a folded letter.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The description of the letter is &quot;Many times read over and creased, the letter explains how your father has gone away with a wealthy countess and will not return. Your mother was not able to read it herself, of course, and had to have it explained to her by the parish priest. Now she keeps it by the bed and crumples it in her fits of delirium.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of kissing or touching Mother for the first time:</div>
<div class="codeline">&ensp;&ensp;say &quot;You place a gentle kiss on her feverish brow. She looks up at you, her oldest -- yes, never mind that bit -- with a look of sincere trust and admiration.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">&#39;You&#39;ll find a way through this for us,&#39; she says, squeezing your fingers. &#39;I know you will.&#39;&quot;; increase the pity of Beauty by 3.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of kissing Mother: say &quot;You have no more heart-rending memories of affection to recount; that one incident will have to serve, for rhetorical purposes.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of waiting in the Shack: say &quot;The wind blows sharply through the walls.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of attacking someone in the Shack:</div>
<div class="codeline">&ensp;&ensp;say &quot;Though sometimes the conditions of your life make you grouchy and impatient, you would never dream of striking a member of your own family. But from time to time you do feel the temptation.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Beauty has a number called pity. After examining something in the Woodcutter&#39;s Shack, increment the pity of Beauty. After examining mother, increase the pity of Beauty by 2. After examining the letter, increase the pity of Beauty by 3.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Poverty flashback ends when waiting or the time since poverty flashback began is five minutes.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">When Poverty flashback ends:</div>
<div class="codeline">&ensp;&ensp;now family circumstances is past;</div>
<div class="codeline">&ensp;&ensp;say &quot;...you finish describing the miserable circumstances of your home life, and allow your attention to return to the present.&quot;;</div>
<div class="codeline">&ensp;&ensp;restore the player;</div>
<div class="codeline">&ensp;&ensp;now Beauty is passive;</div>
<div class="codeline">&ensp;&ensp;if Beauty is sympathetic, say &quot;&#39;Oh dear!&#39; she says. &#39;What a dreadful life!&#39; She wrings her hands. &#39;No wonder you are eager to improve your lot...! But --&#39; Her brow clears, a new thought occurring. &#39;You needn&#39;t marry me, you know! We could arrange it differently! I am certain that my father would give you a large reward, instead, and then I would not be separated from my current boyfriend!&#39;&quot;;</div>
<div class="codeline">&ensp;&ensp;otherwise say &quot;She makes a disgusted face, but she doesn&#39;t seem nearly so heart-wrung as you had hoped to make her. Tough audience, these modern princesses.&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Definition: Beauty is sympathetic if the pity of Beauty is greater than 4.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">To say attitude:</div>
<div class="codeline">&ensp;&ensp;if Beauty is sympathetic, say &quot;distressed on your behalf&quot;;</div>
<div class="codeline">&ensp;&ensp;otherwise say &quot;a little confused&quot;.</div>
</div><p>And the following is the same as in the Space Patrol example as well: we need a systematic way to remove the player&#39;s possessions, then put everything back when the flashback is over:</p>
<div class="codeblock"><div class="codeline">Saved location is a room that varies. Locker is a container. Wardrobe is a container.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">To strip the player:</div>
<div class="codeline">&ensp;&ensp;now every thing carried by the player is in the locker;</div>
<div class="codeline">&ensp;&ensp;now every thing worn by the player is in the wardrobe;</div>
<div class="codeline">&ensp;&ensp;now saved location is location.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">To restore the player:</div>
<div class="codeline">&ensp;&ensp;now every thing carried by the player is in the location;</div>
<div class="codeline">&ensp;&ensp;now every thing in the locker is carried by the player;</div>
<div class="codeline">&ensp;&ensp;now every thing in the wardrobe is worn by the player;</div>
<div class="codeline">&ensp;&ensp;move the player to saved location.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;x beauty / wake beauty / pour water on beauty / ask beauty about sleep / tell beauty about poverty / smell pigs / x mother / x letter / kiss mother / ask beauty about marriage / z / z&quot;.</div>
</div><details class="testme-output"><summary>Test me with "x beauty / wake beauty / pour water on beauty / ask beauty about sleep / tell beauty about poverty / smell pigs / x mother / x letter / kiss mother / ask beauty about marriage / z / z".</summary><div class="testme-output">Spinning Tower<br>A remote corner of the old castle, reserved for spinning and weaving tasks.<br><br>Sleeping Beauty lies here, oblivious to your presence.<br><br>&gt;(Testing.)<br><br>&gt;[1] x beauty<br>She is even more magnificent than the rumors suggested.<br><br>&gt;[2] wake beauty<br>Yes, but how?<br><br>&gt;[3] pour water on beauty<br>You pour out the jug of water on Sleeping Beauty.<br><br>Sleeping Beauty wakes, shuddering. &quot;Agh! I had a terrible dream about drowning and then-- Hey!&quot;<br><br>Throughout the palace you can hear the other sounds of stirring and movement as the spell of centuries is broken.<br><br>&gt;[4] ask beauty about sleep<br>&quot;Sleep well?&quot; you ask solicitously.<br><br>&quot;Not really,&quot; she replies, edging away from you. So much for that angle.<br><br>&gt;[5] tell beauty about poverty<br>&quot;I wish you&#39;d give some thought to marrying me. You see,&quot; you say, your jaw tensing. &quot;I wouldn&#39;t ask if it weren&#39;t for my family circumstances...&quot;<br><br>Woodcutter&#39;s Shack<br>Your family lives in a shack in the forest. There are holes in the roof, and in the winter the snow comes in -- rain, too, for that matter. The walls aren&#39;t very well-boarded, and don&#39;t keep out the wind, and even though you live in the middle of dense woods, you can never gather enough fuel to keep this place fully heated. And then there&#39;s the stench. Pigs wander freely in and out, and your three youngest brothers play on the floor.<br><br>On the untidy bed are Mother and a folded letter.<br><br>&gt;[6] smell pigs<br>They smell the way animals do, when they live among their own refuse.<br><br>&gt;[7] x mother<br>She is wasting away of a slow disease, her skin stretched tautly over bone. She hasn&#39;t been the same since your father left.<br><br>&gt;[8] x letter<br>Many times read over and creased, the letter explains how your father has gone away with a wealthy countess and will not return. Your mother was not able to read it herself, of course, and had to have it explained to her by the parish priest. Now she keeps it by the bed and crumples it in her fits of delirium.<br><br>&gt;[9] kiss mother<br>You place a gentle kiss on her feverish brow. She looks up at you, her oldest -- yes, never mind that bit -- with a look of sincere trust and admiration.<br><br>&quot;You&#39;ll find a way through this for us,&quot; she says, squeezing your fingers. &quot;I know you will.&quot;<br><br>...you finish describing the miserable circumstances of your home life, and allow your attention to return to the present.<br><br>Spinning Tower<br>A remote corner of the old castle, reserved for spinning and weaving tasks.<br><br>Sleeping Beauty stands beside you, looking distressed on your behalf.<br><br>&quot;Oh dear!&quot; she says. &quot;What a dreadful life!&quot; She wrings her hands. &quot;No wonder you are eager to improve your lot...! But --&quot; Her brow clears, a new thought occurring. &quot;You needn&#39;t marry me, you know! We could arrange it differently! I am certain that my father would give you a large reward, instead, and then I would not be separated from my current boyfriend!&quot;<br><br>&gt;[10] ask beauty about marriage<br>&quot;So,&quot; you say. &quot;This is a little weird since we just met, but, um. Would you like to get married?&quot;<br><br>She looks at you nervously. &quot;Do I have to?&quot;<br><br>&gt;[11] z<br>Time passes.<br><br>&quot;Do you think I could go look for someone? I&#39;m seeing him, you see, and I think I&#39;ve been... sick... for a while, so he might be worried.&quot;<br><br>You try to think how to point out that it&#39;s been a hundred years since she last saw her boyfriend. And try not to think how awkward things would be in your family if she refuses to marry you.<br><br>&gt;[12] z<br>Time passes.<br><br>She goes to the window and looks out at the now-fading thicket of briar. &quot;That took a while to grow,&quot; she observes. &quot;I&#39;ve been up here longer than I thought.&quot;<br><br>You shrug, uncomfortable.<br><br><br><br>    *** This is going to take some explaining. ***
</div></details><p>Because we haven&#39;t changed the endings of the &quot;Marriage Proposal&quot; scene, there is still only one way for this scenario to work out; but at least now the player has the opportunity to alter Beauty&#39;s attitude a bit (or not) before the game is done.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="pine2.html" title="Pine: Adding a conversation with the princess, in which a basic set of facts must be covered before the scene is allowed to end.">161. Pine 2</a></div><div class="doc-navbar-right"><a title="Pine: Adding a flashback scene that, instead of repeating endlessly, repeats only until the Princess has understood the point." href="pine4.html">167. Pine 4</a></div></div><div class="doc-navbar"><div class="doc-navbar-left"><a href="night_and_day.html" title="Cycling through a sequence of scenes to represent day and night following one another during a game.">164. Night and Day</a></div><div class="doc-navbar-right"><a href="panache.html" title="Replacing the score with a plot summary that records the events of the plot, scene by scene.">166. Panache</a></div></div>
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p>Thanks go to <a href="http://nitku.net/blog/">Juhana Leinonen</a> for <a href="https://borogove.app">Borogove</a>. The playable examples use <a href="https://eblong.com">Andrew Plotkin</a>'s <a href="https://eblong.com/zarf/glk/glkote.html">GlkOte</a> and <a href="https://eblong.com/zarf/glulx/quixe/index.html">Quixe</a>, distributed under an <a href="../mit.html">MIT License.</a></p><p class="about"><a href="../about.html">About this edition</a> &bull; <a href="https://twitter.com/inform7tips">@inform7tips</a></p></footer>
</body></html>
