<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 29. Hover</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="superheading"><div class="heading"><h1>Hover</h1><div class="subheading">Example 29 ★★★</div></div></div>
<div class="linkback">
<a href="../WI_3.html#section_16" title="Things &gt; Vehicles and pushable things">WI §3.16 Vehicles and pushable things</a><br><a href="../RB_8.html#section_1" title="Vehicles, Animals and Furniture &gt; Bicycles, Cars and Boats">RB §8.1 Bicycles, Cars and Boats</a>
</div>
<p class="example-desc">Letting the player see a modified room description when he&#39;s viewing the place from inside a vehicle.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="disenchantment_bay8.html" title="Disenchantment Bay: a pushable chest of ice for the boat."><div class="nav-arrow">←28. </div><div class="doc-navbar-text">Disenchantment Bay 8</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="disenchantment_bay9.html" title="Disenchantment Bay: enter the charter boat&#39;s Captain."><div class="doc-navbar-text">Disenchantment Bay 9</div><div class="nav-arrow">30.→</div></a></div></div>
</header>
<p>Suppose we want the player to see a modified room description when he&#39;s viewing the place from inside a vehicle. There are several conceivable ways of doing this; the example here shows a rather advanced way, but is very flexible and will let us write all sorts of special cases.</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex29">Play/modify Hover in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Hover/index.html">Play Hover in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Hover&quot;\n\nUse full-length room descriptions.\n\nEmerald City is a room. &quot;All the buildings are spires and none of them have doors.&quot; The Vast Desert is west of Emerald City. &quot;[if the player is in a vehicle]Outside, a[otherwise]A[end if] trackless waste stretches as far as the eye can see in every direction.&quot;\n\nThe hover-bubble is a vehicle in the Emerald City. &quot;Your hover-bubble awaits.&quot; The description is &quot;The hover-bubble is a clear globe-shaped vehicle capable of transporting you anywhere you could walk, but faster.&quot;  Understand &quot;bubble&quot; as the hover-bubble. The hover-bubble contains a chocolate wrapper and a parking ticket.\n\n\nThe container interior rule is listed before the room description body text rule in the carry out looking rules.\n\nThis is the container interior rule:\n\tif the actor is the player and the player is in an enterable thing (called current cage), carry out the describing the interior activity with the current cage.\n\nDescribing the interior of something is an activity.\n\n\nRule for describing the interior of the hover-bubble:\n\tsay &quot;The hover-bubble is transparent, but tints everything outside very faintly lavender.&quot;\n\n\nRule for describing the interior of the hover-bubble when the hover-bubble contains more than one thing:\n\tsay &quot;The hover-bubble is transparent, but tints everything outside very faintly lavender. Beside you you can see [a list of other things in the hover-bubble].&quot;\n\nDefinition: a thing is other if it is not the player.\n\nRule for listing nondescript items of the hover-bubble when the player is in the hover-bubble: do nothing.\n\nTest me with &quot;get in bubble / look / west / take all / look / get out / east&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Hover&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Use full-length room descriptions.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Emerald City is a room. &quot;All the buildings are spires and none of them have doors.&quot; The Vast Desert is west of Emerald City. &quot;[if the player is in a vehicle]Outside, a[otherwise]A[end if] trackless waste stretches as far as the eye can see in every direction.&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">The hover-bubble is a vehicle in the Emerald City. &quot;Your hover-bubble awaits.&quot; The description is &quot;The hover-bubble is a clear globe-shaped vehicle capable of transporting you anywhere you could walk, but faster.&quot;  Understand &quot;bubble&quot; as the hover-bubble. The hover-bubble contains a chocolate wrapper and a parking ticket.</div>
</div><p>Here&#39;s the tricky part, which relies on material from the chapters on Activities and Rulebooks:</p>
<div class="codeblock"><div class="codeline">The container interior rule is listed before the room description body text rule in the carry out looking rules.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">This is the container interior rule:</div>
<div class="codeline">&ensp;&ensp;&ensp;if the actor is the player and the player is in an enterable thing (called current cage), carry out the describing the interior activity with the current cage.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Describing the interior of something is an activity.</div>
</div><p>Now we&#39;ve done that, we can write a &quot;rule for describing the interior&quot; of something, which will print whatever we like:</p>
<div class="codeblock"><div class="codeline">Rule for describing the interior of the hover-bubble:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;The hover-bubble is transparent, but tints everything outside very faintly lavender.&quot;</div>
</div><p>In fact, as a special refinement, we could even say:</p>
<div class="codeblock"><div class="codeline">Rule for describing the interior of the hover-bubble when the hover-bubble contains more than one thing:</div>
<div class="codeline">&ensp;&ensp;&ensp;say &quot;The hover-bubble is transparent, but tints everything outside very faintly lavender. Beside you you can see [a list of other things in the hover-bubble].&quot;</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Definition: a thing is other if it is not the player.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Rule for listing nondescript items of the hover-bubble when the player is in the hover-bubble: do nothing.</div>
<div class="codeline">&ensp;&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;get in bubble / look / west / take all / look / get out / east&quot;.</div>
</div><details class="testme-output"><summary>Test me with "get in bubble / look / west / take all / look / get out / east".</summary><div class="testme-output">Emerald City<br>All the buildings are spires and none of them have doors.<br><br>Your hover-bubble awaits.<br><br>&gt;(Testing.)<br><br>&gt;[1] get in bubble<br>You get into the hover-bubble.<br><br>&gt;[2] look<br>Emerald City (in the hover-bubble)<br>The hover-bubble is transparent, but tints everything outside very faintly lavender. Beside you you can see a chocolate wrapper and a parking ticket.<br><br>All the buildings are spires and none of them have doors.<br><br>&gt;[3] west<br><br>Vast Desert (in the hover-bubble)<br>The hover-bubble is transparent, but tints everything outside very faintly lavender. Beside you you can see a chocolate wrapper and a parking ticket.<br><br>Outside, a trackless waste stretches as far as the eye can see in every direction.<br><br>&gt;[4] take all<br>chocolate wrapper: Taken.<br>parking ticket: Taken.<br><br>&gt;[5] look<br>Vast Desert (in the hover-bubble)<br>The hover-bubble is transparent, but tints everything outside very faintly lavender.<br><br>Outside, a trackless waste stretches as far as the eye can see in every direction.<br><br>&gt;[6] get out<br>You get out of the hover-bubble.<br><br>Vast Desert<br>A trackless waste stretches as far as the eye can see in every direction.<br><br>Your hover-bubble awaits.<br><br>&gt;[7] east<br><br>Emerald City<br>All the buildings are spires and none of them have doors.
</div></details><p>And now anything that&#39;s beside us in the vehicle will be described during that first paragraph, rather than later on.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a class="nav-el" href="disenchantment_bay8.html" title="Disenchantment Bay: a pushable chest of ice for the boat."><div class="nav-arrow">←28. </div><div class="doc-navbar-text">Disenchantment Bay 8</div></a></div><div class="doc-navbar-center">&thinsp;</div><div class="doc-navbar-right"><a class="nav-el" href="disenchantment_bay9.html" title="Disenchantment Bay: enter the charter boat&#39;s Captain."><div class="doc-navbar-text">Disenchantment Bay 9</div><div class="nav-arrow">30.→</div></a></div></div>
<footer id="credits-footer"><nav><div class="nav-el"><a class="nav-el" href="../index.html">Contents</a></div><div class="nav-el"><a class="nav-el" href="../examples/index.html">Examples</a></div><div class="nav-el"><a class="nav-el" href="../general_index.html">Index</a></div><div class="nav-el"><a class="nav-el" href="../search.html">Search</a></div></nav>
<div class="footing"><p id="i7credit"><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p class="about"><a class="nav-about" href="../about.html">About this edition</a> &bull; <a class="nav-about" href="https://twitter.com/inform7tips">@inform7tips</a></p></div></footer>
</body></html>
