<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 152. Infiltration</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<h1>Infiltration</h1><div class="subheading">Example 152 ★</div>
<div class="linkback">
<a href="../WI_9.html#section_14" title="Time &gt; How many times?">WI §9.14 How many times?</a><br><a href="../RB_3.html#section_1" title="Place &gt; Room Descriptions">RB §3.1 Room Descriptions</a>
</div>
<p class="example-desc">A room whose description changes depending on the number of times the player has visited.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="elsie.html" title="A door that closes automatically one turn after the player opens it.">151. Elsie</a></div><div class="doc-navbar-right"><a href="annoyotron_jr.html" title="A child who after a certain period in the car starts asking annoying questions.">153. Annoyotron Jr</a></div></div>
</header>
<p>Suppose we have a location that makes the player uncomfortable, and we want its description to change slightly each time he goes there, to reflect his increasing unease. We also want the door to that room to show whether he is going there for the first time, or whether this is a repeat visit.</p>
<p>We start with an ordinary room:</p>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex152">Play/modify Infiltration in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Infiltration/index.html">Play Infiltration in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Infiltration&quot;\n\nThe Wasteland is a room. &quot;In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.&quot;\n\n\nThe portal is a door. It is inside from the Wasteland and outside from the Secure Zone. &quot;[if the player is in the Wasteland]To the west, a[otherwise]A[end if] portal in the cinder-block and barbed wire wall leads[if the player is in the Wasteland and the Zone is visited] back[end if] [if the player is in the Wasteland]inside[otherwise]outside[end if].&quot;\n\n\nThe Secure Zone has the description &quot;[if the player is in the Zone for the second time]Re-entering the Zone has not made you any more comfortable inside. [end if]Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don&apos;t belong. Not that very many people are visible here[if the player is in the Zone for more than the second time] -- the place seems more desolate than ever[end if].&quot;\n\nInstead of going west in the Wasteland, try going inside. Instead of going east in the Secure Zone, try going outside.\n\n\nUse full-length room descriptions.\n\nTest me with &quot;look / open portal / w / look / e / look / w / e / w&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Infiltration&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Wasteland is a room. &quot;In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.&quot;</div>
</div><p>Now the door, which will change from saying &quot;leads inside&hellip;&quot; to &quot;leads back inside&hellip;&quot; when this becomes appropriate:</p>
<div class="codeblock"><div class="codeline">The portal is a door. It is inside from the Wasteland and outside from the Secure Zone. &quot;[if the player is in the Wasteland]To the west, a[otherwise]A[end if] portal in the cinder-block and barbed wire wall leads[if the player is in the Wasteland and the Zone is visited] back[end if] [if the player is in the Wasteland]inside[otherwise]outside[end if].&quot;</div>
</div><p>Here we haven&#39;t used any conditions that we didn&#39;t know about in previous sections: the portal line only reflects whether the Zone has been visited never or visited once. But the Secure Zone itself makes use of the number of times visited:</p>
<div class="codeblock"><div class="codeline">The Secure Zone has the description &quot;[if the player is in the Zone for the second time]Re-entering the Zone has not made you any more comfortable inside. [end if]Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don&#39;t belong. Not that very many people are visible here[if the player is in the Zone for more than the second time] -- the place seems more desolate than ever[end if].&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Instead of going west in the Wasteland, try going inside. Instead of going east in the Secure Zone, try going outside.</div>
</div><p>And finally, to be sure that the player does see our fancy changing descriptions:</p>
<div class="codeblock"><div class="codeline">Use full-length room descriptions.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;look / open portal / w / look / e / look / w / e / w&quot;.</div>
</div><details class="testme-output"><summary>Test me with "look / open portal / w / look / e / look / w / e / w".</summary><div class="testme-output">Wasteland<br>In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.<br><br>To the west, a portal in the cinder-block and barbed wire wall leads inside.<br><br>>(Testing.)<br><br>>[1] look<br>Wasteland<br>In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.<br><br>To the west, a portal in the cinder-block and barbed wire wall leads inside.<br><br>>[2] open portal<br>You open the portal.<br><br>>[3] w<br><br>Secure Zone<br>Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don't belong. Not that very many people are visible here.<br><br>A portal in the cinder-block and barbed wire wall leads outside.<br><br>>[4] look<br>Secure Zone<br>Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don't belong. Not that very many people are visible here.<br><br>A portal in the cinder-block and barbed wire wall leads outside.<br><br>>[5] e<br><br>Wasteland<br>In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.<br><br>To the west, a portal in the cinder-block and barbed wire wall leads back inside.<br><br>>[6] look<br>Wasteland<br>In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.<br><br>To the west, a portal in the cinder-block and barbed wire wall leads back inside.<br><br>>[7] w<br><br>Secure Zone<br>Re-entering the Zone has not made you any more comfortable inside. Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don't belong. Not that very many people are visible here.<br><br>A portal in the cinder-block and barbed wire wall leads outside.<br><br>>[8] e<br><br>Wasteland<br>In its more distant reaches, the Wasteland has a kind of austere beauty, but here beside the Secure Zone it is the worst of all possible worlds. Barrels of toxins are stacked the regulation hundred and fifty feet out; more traditional garbage has simply been flung over the wall, and this category includes one or two corpses roughly and inadequately disguised by black plastic bags. The wall itself has become a canvas for outcasts and exiles, and is covered with obscene paintings, lewd remarks about the inhabitants of the Secure Zone, and a few maudlin epitaphs.<br><br>To the west, a portal in the cinder-block and barbed wire wall leads back inside.<br><br>>[9] w<br><br>Secure Zone<br>Despite your carefully-chosen outfit and the walk you have been practicing, you are sure those inside can tell you don't belong. Not that very many people are visible here -- the place seems more desolate than ever.<br><br>A portal in the cinder-block and barbed wire wall leads outside.
</div></details><p>Notice that the description of the Secure Zone changes from visit to visit, but that looking repeatedly during a single visit changes nothing.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="elsie.html" title="A door that closes automatically one turn after the player opens it.">151. Elsie</a></div><div class="doc-navbar-right"><a href="annoyotron_jr.html" title="A child who after a certain period in the car starts asking annoying questions.">153. Annoyotron Jr</a></div></div>
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p>Thanks go to <a href="http://nitku.net/blog/">Juhana Leinonen</a> for <a href="https://borogove.app">Borogove</a>. The playable examples use <a href="https://eblong.com">Andrew Plotkin</a>'s <a href="https://eblong.com/zarf/glk/glkote.html">GlkOte</a> and <a href="https://eblong.com/zarf/glulx/quixe/index.html">Quixe</a>, distributed under an <a href="../mit.html">MIT License.</a></p><p class="about"><a href="../about.html">About this edition</a></p></footer>
</body></html>
