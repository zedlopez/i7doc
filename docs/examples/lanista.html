<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>Ex. 130. Lanista 1</title>
<script src="../i7doc.js"></script>
<link rel="stylesheet" href="../i7doc.css">
</head>
<body>
<header class="example-header">
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<h1>Lanista 1</h1><div class="subheading">Simple Randomized Combat: Example 130 ★</div>
<div class="linkback">
<a href="../WI_8.html#section_18" title="Change &gt; Randomness">WI §8.18 Randomness</a><br><a href="../RB_7.html#section_5" title="Other Characters &gt; Combat and Death">RB §7.5 Combat and Death</a>
</div>
<p class="example-desc">Very simple randomized combat in which characters hit one another for a randomized amount of damage.</p>
<div class="doc-navbar"><div class="doc-navbar-right"><a title="Randomized combat in which the damage done depends on what weapons the characters are wielding, and in which an ATTACK IT WITH action is created to replace regular attacking. Also folds a new DIAGNOSE command into the system." href="lanista2.html">293. Lanista 2</a></div></div><div class="doc-navbar"><div class="doc-navbar-left"><a href="do_pass_go.html" title="A pair of dice which can be rolled, and are described with their current total when not carried, and have individual scores when examined.">129. Do Pass Go</a></div><div class="doc-navbar-right"><a href="weathering.html" title="The automatic weather station atop Mt. Pisgah shows randomly fluctuating temperature, pressure and cloud cover.">131. Weathering</a></div></div>
</header>
<p><span class="borogove-link"><a href="https://snippets.borogove.app/inform7/v10ex130">Play/modify Lanista, Part One in Borogove</a></span>
 &bull; <span class="quixe-link"><a href="Lanista1/index.html">Play Lanista, Part One in Quixe</a></span>
</p><div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`&quot;Lanista, Part One&quot;\n\nThe Arena is a room. &quot;Sand, blood, iron. These festivals are normally held on hot days, but the sun has gone behind a cloud and fat drops of rain now and then spatter the arena floor.&quot; The gladiator is a man in the Arena. &quot;A bare-chested Scythian gladiator faces you, wielding a trident.&quot;\n\n\nA person has a number called maximum hit points. A person has a number called current hit points.\n\nThe maximum hit points of the player is 35. The maximum hit points of the gladiator is 25.\n\nThe current hit points of the player is 35. The current hit points of the gladiator is 25.\n\n\nInstead of attacking someone:\n\tlet the damage be a random number between 2 and 10;\n\tsay &quot;You attack [the noun], causing [damage] points of damage!&quot;;\n\tdecrease the current hit points of the noun by the damage;\n\tif the current hit points of the noun is less than 0:\n\t\tsay &quot;[line break][The noun] expires, and is immediately carried away by the Arena slaves!&quot;;\n\t\tnow the noun is nowhere;\n\t\tend the story finally;\n\t\tstop the action;\n\tlet the enemy damage be a random number between 2 and 10;\n\tsay &quot;[line break][The noun] attacks you, causing [enemy damage] points of damage!&quot;;\n\tdecrease the current hit points of the player by the enemy damage;\n\tif the current hit points of the player is less than 0:\n\t\tsay &quot;[line break]You expire!&quot;;\n\t\tend the story.\n\n\nWhen play begins:\n\tnow the left hand status line is &quot;You: [current hit points of player]&quot;;\n\tnow the right hand status line is &quot;Gladiator: [current hit points of gladiator]&quot;.\n\nTest me with &quot;hit gladiator / g / g / g&quot;.`)">⧉</button><div class="codeline storytitle">&quot;Lanista, Part One&quot;</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The Arena is a room. &quot;Sand, blood, iron. These festivals are normally held on hot days, but the sun has gone behind a cloud and fat drops of rain now and then spatter the arena floor.&quot; The gladiator is a man in the Arena. &quot;A bare-chested Scythian gladiator faces you, wielding a trident.&quot;</div>
</div><p>We start by recording, for each person, a maximum number of points of damage the person can sustain when starting from health, and the current number of points remaining. In the tradition of role-playing games, these are referred to as hit points.</p>
<div class="codeblock"><div class="codeline">A person has a number called maximum hit points. A person has a number called current hit points.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The maximum hit points of the player is 35. The maximum hit points of the gladiator is 25.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">The current hit points of the player is 35. The current hit points of the gladiator is 25.</div>
</div><p>Now our rule for the actual attack. We want first to calculate how much damage the player&#39;s attack does, inflict that damage, and remove the enemy if he&#39;s dead; then, if he doesn&#39;t die, the enemy counter-attacks, also for a randomized amount of damage, and if this kills the player, the game ends in defeat.</p>
<div class="codeblock"><div class="codeline">Instead of attacking someone:</div>
<div class="codeline">&ensp;&ensp;let the damage be a random number between 2 and 10;</div>
<div class="codeline">&ensp;&ensp;say &quot;You attack [the noun], causing [damage] points of damage!&quot;;</div>
<div class="codeline">&ensp;&ensp;decrease the current hit points of the noun by the damage;</div>
<div class="codeline">&ensp;&ensp;if the current hit points of the noun is less than 0:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;say &quot;[line break][The noun] expires, and is immediately carried away by the Arena slaves!&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;now the noun is nowhere;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;end the story finally;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;stop the action;</div>
<div class="codeline">&ensp;&ensp;let the enemy damage be a random number between 2 and 10;</div>
<div class="codeline">&ensp;&ensp;say &quot;[line break][The noun] attacks you, causing [enemy damage] points of damage!&quot;;</div>
<div class="codeline">&ensp;&ensp;decrease the current hit points of the player by the enemy damage;</div>
<div class="codeline">&ensp;&ensp;if the current hit points of the player is less than 0:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;say &quot;[line break]You expire!&quot;;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;end the story.</div>
</div><p>This last bit is a refinement to help the player keep track of how the contest is going:</p>
<div class="codeblock"><div class="codeline">When play begins:</div>
<div class="codeline">&ensp;&ensp;now the left hand status line is &quot;You: [current hit points of player]&quot;;</div>
<div class="codeline">&ensp;&ensp;now the right hand status line is &quot;Gladiator: [current hit points of gladiator]&quot;.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Test me with &quot;hit gladiator / g / g / g&quot;.</div>
</div><details class="testme-output"><summary>Test me with "hit gladiator / g / g / g".</summary><div class="testme-output">Arena<br>Sand, blood, iron. These festivals are normally held on hot days, but the sun has gone behind a cloud and fat drops of rain now and then spatter the arena floor.<br><br>A bare-chested Scythian gladiator faces you, wielding a trident.<br><br>&gt;(Testing.)<br><br>&gt;[1] hit gladiator<br>You attack the gladiator, causing 8 points of damage!<br><br>The gladiator attacks you, causing 3 points of damage!<br><br>&gt;[2] g<br>You attack the gladiator, causing 6 points of damage!<br><br>The gladiator attacks you, causing 6 points of damage!<br><br>&gt;[3] g<br>You attack the gladiator, causing 7 points of damage!<br><br>The gladiator attacks you, causing 10 points of damage!<br><br>&gt;[4] g<br>You attack the gladiator, causing 4 points of damage!<br><br>The gladiator attacks you, causing 2 points of damage!
</div></details><div class="doc-navbar"><div class="doc-navbar-right"><a title="Randomized combat in which the damage done depends on what weapons the characters are wielding, and in which an ATTACK IT WITH action is created to replace regular attacking. Also folds a new DIAGNOSE command into the system." href="lanista2.html">293. Lanista 2</a></div></div><div class="doc-navbar"><div class="doc-navbar-left"><a href="do_pass_go.html" title="A pair of dice which can be rolled, and are described with their current total when not carried, and have individual scores when examined.">129. Do Pass Go</a></div><div class="doc-navbar-right"><a href="weathering.html" title="The automatic weather station atop Mt. Pisgah shows randomly fluctuating temperature, pressure and cloud cover.">131. Weathering</a></div></div>
<nav><div class="nav-el"><a href="../index.html">Contents</a></div> <div class="nav-el"><a href="../examples/index.html">Examples</a></div> <div class="nav-el"><a href="../general_index.html">Index</a></div> <div class="nav-el"><a href="../search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="../license.html">Artistic License 2.0</a>.</p><p>Thanks go to <a href="http://nitku.net/blog/">Juhana Leinonen</a> for <a href="https://borogove.app">Borogove</a>. The playable examples use <a href="https://eblong.com">Andrew Plotkin</a>'s <a href="https://eblong.com/zarf/glk/glkote.html">GlkOte</a> and <a href="https://eblong.com/zarf/glulx/quixe/index.html">Quixe</a>, distributed under an <a href="../mit.html">MIT License.</a></p><p class="about"><a href="../about.html">About this edition</a> &bull; <a href="https://twitter.com/inform7tips">@inform7tips</a></p></footer>
</body></html>
