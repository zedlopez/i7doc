<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>WI 2. The Source Text</title>
<script src="i7doc.js"></script>
<link rel="stylesheet" href="i7doc.css">
</head>
<nav><div class="nav-el"><a href="index.html">Contents</a></div> <div class="nav-el"><a href="examples/index.html">Examples</a></div> <div class="nav-el"><a href="general_index.html">Index</a></div> <div class="nav-el"><a href="search.html">Search</a></div></nav>
<body><header><h1 class="title">Writing with Inform</h1></header>
<h2 id="chapter_2">2. The Source Text</h2>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="WI_1.html">1. Welcome to Inform</a></div><div class="doc-navbar-right"><a href="WI_3.html">3. Things</a></div></div>
<div class="section-block">
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">1</div><div class="section-name"><a href="WI_2.html#section_1">Creating the world</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">2</div><div class="section-name"><a href="WI_2.html#section_2">Making rules</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">3</div><div class="section-name"><a href="WI_2.html#section_3">Punctuation</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">4</div><div class="section-name"><a href="WI_2.html#section_4">Problems</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">5</div><div class="section-name"><a href="WI_2.html#section_5">Headings</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">6</div><div class="section-name"><a href="WI_2.html#section_6">Why using headings is a good idea</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">7</div><div class="section-name"><a href="WI_2.html#section_7">The SHOWME command</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">8</div><div class="section-name"><a href="WI_2.html#section_8">The TEST command</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">9</div><div class="section-name"><a href="WI_2.html#section_9">Material not for release</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">10</div><div class="section-name"><a href="WI_2.html#section_10">Installing extensions</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">11</div><div class="section-name"><a href="WI_2.html#section_11">Including extensions</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">12</div><div class="section-name"><a href="WI_2.html#section_12">Use options</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">13</div><div class="section-name"><a href="WI_2.html#section_13">Administering classroom use</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">14</div><div class="section-name"><a href="WI_2.html#section_14">Limits and the Settings panel</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">15</div><div class="section-name"><a href="WI_2.html#section_15">What to do about a bug</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§2.</div><div class="section-section-num">16</div><div class="section-name"><a href="WI_2.html#section_16">Does Inform really understand English?</a></div>
</div>
</div>
<h3 id="section_1">WI §2.1 Creating the world</h3>
<div class="sect-navbar"><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_2">2.2 Making rules</a></div></div>
<p>Designing an interactive fiction can be divided into two related activities. One is the creation of the world as it appears at the start of play: where and what everything is. The other is to specify the rules of play, which shape how the player interacts with that initially created world. A new Inform project is void and without form, so to speak, with nothing created: but it starts with hundreds of standard rules already in place.</p>
<p>The same division between creating things, and laying down rules, is visible in Inform source text. The creation of the world is done by making unconditional factual statements about it. For example,</p>
<div class="codeblock"><div class="codeline">The wood-slatted crate is in the Gazebo. The crate is a container.</div>
</div><p>Inform calls sentences like these &quot;assertions&quot;. The verb is always written in the present tense (thus the crate &quot;is&quot;, not &quot;will be&quot;). Further examples are:</p>
<div class="codeblock"><div class="codeline">Mr Jones wears a top hat. The crate contains a croquet mallet.</div>
</div><p>The words &quot;is&quot;, &quot;wears&quot; and &quot;contains&quot; are forms of three of the basic verbs built in to Inform. There are only a few built-in assertion verbs, of which the most important are <em>to be</em>, <em>to have</em>, <em>to carry</em>, <em>to wear</em>, <em>to contain</em> and <em>to support</em>. (As we shall see, further assertion verbs can be created if needed.)</p>
<p>The world described by these assertions is the starting condition of the story: what happens when play begins is another matter. If somebody picks up the crate and walks off with it, then it will no longer be in the Gazebo. Mr Jones may remove his hat.</p>
<h3 id="section_2">WI §2.2 Making rules</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_1">2.1 Creating the world</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_3">2.3 Punctuation</a></div></div>
<p>The other kind of sentence tells Inform what should happen in certain circumstances, and reads like an instruction issued to someone:</p>
<div class="codeblock"><div class="codeline">Instead of taking the crate, say &quot;It&#39;s far too heavy to lift.&quot;</div>
</div><p>This is a &quot;rule&quot;, and it changes the crate&#39;s behaviour. The player who tries typing &quot;take crate&quot;, &quot;pick up the crate&quot; or similar will be met only with the unhelpful reply &quot;It&#39;s far too heavy to lift.&quot; The many different kinds of thing which the player can do are called &quot;actions&quot;, and are always written as participles: &quot;taking &hellip;&quot;, for instance, or &quot;putting &hellip; on &hellip;&quot;.</p>
<p>Inform is built on a mass of several hundred rules, some quite complex, and it could even be said that Inform <em>is</em> that mass of rules. We never see the complexity behind the scenes because the whole aim is to provide a basic, penny-plain, vanilla flavoured sort of realism. It would be surprising if one could put the crate inside itself, so a rule exists to forbid this. It would be surprising if one could drop something which was already on the ground, and so on. These basic rules of realism are the ones which every new Inform project starts with.</p>
<p>A rule always starts with a situation which it applies to, and then follows with one or more things to do. Here&#39;s an example where the situation is &quot;Before taking the crate&quot; &ndash; the player is just starting to try to pick the box up &ndash; and there&#39;s a three-step process to follow, but steps 2 and 3 happen only if step 1 comes out in a particular way:</p>
<div class="codeblock"><div class="codeline">Before taking the crate:</div>
<div class="codeline">&ensp;&ensp;if the player is wearing the hat:</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;now the hat is in the crate;</div>
<div class="codeline">&ensp;&ensp;&ensp;&ensp;say &quot;As you stoop down, your hat falls into the crate.&quot;</div>
</div><p>The steps to follow here are called &quot;phrases&quot;. Inform knows about 400 built-in phrases, but most of them are needed only occasionally. These three are used over and over again:</p>
<div class="codeblock"><div class="codeline"><strong>if</strong> tells Inform to do something only if some &quot;condition&quot; holds, here &quot;the player is wearing the hat&quot;;</div>
<div class="codeline"><strong>now</strong> tells Inform to change the situation, here so that the hat moves to the crate; and</div>
<div class="codeline"><strong>say</strong> tells Inform to say something, that is, to write some text for the player to read.</div>
</div><p>Every one of the built-in phrases has a definition somewhere in this book. The full definition of &quot;say&quot; will come later, but in the simple form above it writes out the given text for the player to read. (Normally this text is simply shown on screen, not spoken aloud, unless software adapted for partially sighted people is being used.) Phrase definitions are all linked to in the Phrases page of a project&#39;s Index.</p>
<h3 id="section_3">WI §2.3 Punctuation</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_2">2.2 Making rules</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_4">2.4 Problems</a></div></div>
<p>An example rule from the previous section demonstrates one of Inform&#39;s conventions about punctuation, and is worth pausing to look at again.</p>
<div class="codeblock"><div class="codeline">Instead of taking the crate, say &quot;It&#39;s far too heavy to lift.&quot;</div>
</div><p>In English grammar, it&#39;s usual to regard a full stop as closing its sentence even when it occurs inside quotation marks, provided there is no indication to the contrary, and this is also the rule used by Inform. Thus:</p>
<div class="codeblock"><div class="codeline">The description is &quot;Shiny.&quot; It is valuable.</div>
</div><p>is read as equivalent to</p>
<div class="codeblock"><div class="codeline">The description is &quot;Shiny.&quot;. It is valuable.</div>
</div><p>Sentence breaks like this occur only when the final character of the quoted text is a full stop, question mark or exclamation mark (or one of these three followed by a close bracket) and the next word begins, in the source code, with a capital letter. A paragraph break also divides sentences, behaving as if it were a full stop.</p>
<p>Material in square brackets [like so] is &quot;comment&quot;, in computing jargon: it is considered as being an aside, a private note by the author, and not read in by Inform. This allows us to make notes to ourselves like so:</p>
<div class="codeblock"><div class="codeline">The China Shop is a room. [Remember to work out what happens if the bull gets in here!]</div>
</div><p>Inform is all about text, so pieces of text are often quoted in Inform source. This example is typical:</p>
<div class="codeblock"><div class="codeline">The description is &quot;Shiny.&quot; It is valuable.</div>
</div><p>Quotations always use double-quotation marks, which aren&#39;t part of the text. So the description here is just the five letters and full stop in between the marks:</p>
<div class="codeblock"><div class="codeline">Shiny.</div>
</div><p>That seems straightforward, but there are three conventions to watch out for.</p>
<p>1. Square brackets [ and ] inside quoted text don&#39;t literally mean [ and ]. They&#39;re used to describe what Inform should say, but in a non-literal way. For example,</p>
<div class="codeblock"><div class="codeline">&quot;Your watch reads [time of day].&quot;</div>
</div><p>might produce</p>
<div class="codeblock"><div class="codeline">Your watch reads 9:02 AM.</div>
</div><p>These are called &quot;text substitutions&quot;. They&#39;re highly flexible, and they can take many different forms.</p>
<p>2. Single quotation marks at the edges of words are printed as double. So:</p>
<div class="codeblock"><div class="codeline">&quot;Simon says, &#39;It&#39;s far too heavy to lift.&#39;&quot;</div>
</div><p>produces</p>
<div class="codeblock"><div class="codeline">Simon says, &quot;It&#39;s far too heavy to lift.&quot;</div>
</div><p>3. Texts which end with sentence-ending punctuation &ndash; full stop, question mark, exclamation mark &ndash; are printed with a line break after them. So:</p>
<div class="codeblock"><div class="codeline">say &quot;i don&#39;t know how this ends&quot;;</div>
<div class="codeline">say &quot;I know just how this ends!&quot;;</div>
</div><p>would come out quite differently &ndash; this doesn&#39;t affect the appearance of the text, but only the position where the next text will appear. Something to be careful about is that this only applies when the punctuation occurs at the end of a &quot;say&quot;, as in these examples. (It doesn&#39;t apply when a varying textual value is printed, using some text substitution, because then the pattern of where line breaks occur would be unpredictable &ndash; sometimes the value might end in a punctuation mark, sometimes not.)</p>
<p>These three punctuation rules for texts feel very natural with practice, and Inform users sometimes don&#39;t realise the third rule is even there, because it just seems the right thing to happen. But occasionally the rules get in the way of what we want to do. (For instance, how do we get a literal [ or ]? What if we want a single quote mark where Inform thinks we want a double, or vice versa?) So we&#39;ll come back to these rules in more detail in the chapter on Text.</p>
<p>Inform also reads other punctuation marks. Colon &quot;:&quot; and semicolon &quot;;&quot; turned up in the previous section, in the writing of rules.</p>
<p>As these examples begin to show, Inform source imitates the conventions of printed books and newspapers whenever there is a question of how to write something not easily fitting into words. The first example of this is how Inform handles headings, but to see why these are so useful we first look at Problems.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="WI_5.html#section_2" title="Text &gt; How Inform reads quoted text">How Inform reads quoted text</a> for a fuller exploration of the punctuation rules for text.<br></p></div><h3 id="section_4">WI §2.4 Problems</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_3">2.3 Punctuation</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_5">2.5 Headings</a></div></div>
<p>The language used in the source reads as if it were English aimed at a human reader (and this is intentional: the designer, after all, is a human reader and needs to be able to understand his or her own source), but in reality Inform can only understand a very modest range of sentences and will complain if its limits are passed. Subtler problems arise if the source contains contradictions. For instance, the following &quot;Problem&quot; might be produced:</p>
<div class="codeblock"><div class="codeline"><strong>Problem.</strong> You wrote &#39;A starting pistol is in the cup&#39; <img src="doc_images/Reveal.png">, but in another sentence &#39;A Panama hat is on the cup&#39; <img src="doc_images/Reveal.png">: the trophy cup cannot both contain things and support things, which is what you&#39;re implying here. If you need both, the easiest way is to make it either a supporter with a container attached or vice versa. For instance: &#39;A desk is here. On the desk is a newspaper. An openable container called the drawer is part of the desk. In the drawer is a stapler.&#39;</div>
</div><p>This is a rather discursive error message, and if a similar problem were to occur in the same run through, it would be curtailed to:</p>
<div class="codeblock"><div class="codeline"><strong>Problem.</strong> You wrote &#39;A firing pistol is in the box&#39; <img src="doc_images/Reveal.png">, but in another sentence &#39;A fedora hat is on the box&#39; <img src="doc_images/Reveal.png">: again, the croquet box cannot both contain things and support things.</div>
</div><h3 id="section_5">WI §2.5 Headings</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_4">2.4 Problems</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_6">2.6 Why using headings is a good idea</a></div></div>
<p>Once the source grows beyond 1000 words or so, it can all too easily become disorganised, and by the time it reaches the size of a novella it can be difficult to find things (though the Mac OS X user interface provides a Find function, Command-F).</p>
<p>Once the source grows beyond 1000 words or so, it can all too easily become disorganised, and by the time it reaches the size of a novella it can be difficult to find things (though the Windows user interface provides a Find function, Ctrl-F).</p>
<p>Once the source grows beyond 1000 words or so, it can all too easily become disorganised, and by the time it reaches the size of a novella it can be difficult to find things (though nearly all editors provide a Find function).</p>
<p>Once the source grows beyond 1000 words or so, it can all too easily become disorganised, and by the time it reaches the size of a novella it can be difficult to find things. (Though nearly all editors provide a Find function, and the keyboard short-cuts Command-F (Mac OS X) or Ctrl-F (Windows) do the trick in the Inform application.)</p>
<p>Inform provides for us to organise the source code in just the way that a printed book would be organised: with headings and subheadings. Firstly, we can put the title at the top. If the first paragraph consists only of a single quoted piece of text, then that&#39;s the title; and an author can also be given, as follows:</p>
<div class="codeblock"><div class="codeline">&quot;Spellbreaker&quot; by Dave Lebling</div>
</div><p>We will later see that more bibliographic information can also be placed here, in the same way that the imprint page of a novel comes before the text gets going. The author&#39;s name can normally be given without quotation marks, so long as it contains no punctuation. For instance:</p>
<div class="codeblock"><div class="codeline">&quot;Three Men in a Boat&quot; by &quot;Jerome K. Jerome&quot;</div>
</div><p>needs quotes as otherwise the full stop after the K will be mistaken for the end of a sentence.</p>
<p>A sentence which is the only one in its paragraph and which begins with any of the words &quot;volume&quot;, &quot;book&quot;, &quot;part&quot;, &quot;chapter&quot; or &quot;section&quot; is considered to be a heading or a sub-heading. It must not contain a typed line break, and in order to stand alone in its paragraph there should be a skipped line both before and after it. For instance:</p>
<div class="codeblock"><div class="codeline i7header">Section 2 - Flamsteed&#39;s Balloon</div></div><p>Headings can be written in any format, provided they start with one of the five indicator words, and they are hierarchical: a &quot;Part &hellip;&quot; heading is considered more significant than a &quot;Chapter &hellip;&quot; heading but not so significant as a &quot;Book &hellip;&quot; heading, and so on. (We do not need to use all five kinds of heading.)</p>
<h3 id="section_6">WI §2.6 Why using headings is a good idea</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_5">2.5 Headings</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_7">2.7 The SHOWME command</a></div></div>
<p>Reports of problems, as we have seen, often quote back the source to justify themselves. Rather than quoting line numbers (&quot;Midsummer Day, line 2017&quot; or something similar) Inform uses the <img src="doc_images/Reveal.png"> icon. The down side of this is that a glance at the list of problems might give little hint of whereabouts in the source the difficulties lie. Inform therefore makes use of headings to give a general indication:</p>
<div class="codeblock"><div class="codeline">In Part the First, Chapter 1 - Attic Area:</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline"><strong>Problem.</strong> You wrote &#39;South of the Attic is the Winery&#39; <img src="doc_images/Reveal.png">, but in another sentence &#39;South of the Attic is the Old Furniture&#39; <img src="doc_images/Reveal.png">: this looks like a contradiction, which might be because I have misunderstood what was meant to be the subject of one or both of those sentences.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">In Chapter 2 - Deeper In:</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline"><strong>Problem.</strong> You wrote &#39;The Disused Observatory is south of the Dark Room&#39; <img src="doc_images/Reveal.png">, but in another sentence &#39;South of the Dark Room is the Cupboard&#39; <img src="doc_images/Reveal.png">: again, this looks like a contradiction.</div>
</div><p>Secondly, headings are used in the Contents page of the Index, and they allow rapid navigation through the source, by jumping to any heading or subheading with a single click.</p>
<p>Finally, headings are used when working out what a name refers to. Suppose the source contains both a &quot;four-poster bed&quot; and also a &quot;camp bed&quot;, and we write something like &quot;The pillow is on the bed.&quot; Inform decides which bed is meant by giving priority to whichever is defined in the current section (so far), or failing that the current chapter, or current part, or current book, or finally the current volume. This allows us to write, for instance,</p>
<div class="codeblock"><div class="codeline">The four-poster bed is in the Boudoir. The pillow is on the bed.</div>
</div><p>and not have the pillow mysteriously turn up on the camp bed, which hasn&#39;t been mentioned since way back in Chapter 2.</p>
<h3 id="section_7">WI §2.7 The SHOWME command</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_6">2.6 Why using headings is a good idea</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_8">2.8 The TEST command</a></div></div>
<p>Problem messages are generated when the source text does not make sense to Inform. Even if it does make sense, though, there is no guarantee that it does what the author intends, and the only way to find out is to test the result by playing through it (or asking others to). For the most part one plays as if one were the eventual reader of the work, but sometimes it is highly convenient to have the god-like powers which are an author&#39;s prerogative. These are provided by the testing commands, which are present at every stage until the final release version (generated by the Release button). They will be introduced in this manual as they become relevant: here is the first.</p>
<p>The testing command SHOWME prints out a brief summary about a room or thing, and any contents or parts it may have. Typing SHOWME on its own shows the current room, but any item or room in the story, however distant, can be named instead. For instance:</p>
<div class="codeblock"><div class="codeline">&gt;showme</div>
<div class="codeline">Boudoir - room</div>
<div class="codeline">&ensp;&ensp;four-poster bed - supporter</div>
<div class="codeline">&ensp;&ensp;yourself - person</div>
<div class="codeline">&ensp;&ensp;pillow</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">&gt;showme diamonds</div>
<div class="codeline">diamonds - thing</div>
<div class="codeline">location: in the strongbox on the dresser in the Drawing Room</div>
<div class="codeline">unlit; inedible; opaque; portable; singular-named; improper-named</div>
<div class="codeline">description: The diamonds glitter dangerously.</div>
<div class="codeline">printed name: diamonds</div>
</div><p>Much of this can be seen, and seen more easily, in the World tab of the Index panel: but that only shows the initial state of play, whereas the SHOWME command reveals the situation in mid-story. (&quot;Room&quot;, &quot;supporter&quot; and so on are kinds, of which more in Chapter 3.)</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="WI_24.html#section_3" title="Testing and Debugging &gt; High-level debugging commands">High-level debugging commands</a> for more convenient testing commands like this one.<br></p></div><h3 id="section_8">WI §2.8 The TEST command</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_7">2.7 The SHOWME command</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_9">2.9 Material not for release</a></div></div>
<p>The only way to thoroughly test a work of IF is to run a complete solution through it, and carefully check the resulting transcript of dialogue. The Skein and Transcript tools of the Inform application are provided for exactly this purpose.</p>
<p>All the same, most works of interactive fiction contain occasional vignettes, either in terms of short scenes of narrative, or in the behaviour of particular things or rooms, which we would like to test without the fuss of using the full story-level Skein tool. The examples in the documentation are like this: in almost every example, typing TEST ME puts the story through its paces.</p>
<p>Solutions or sequences for testing (&quot;scripts&quot;) can be defined with sentences like so:</p>
<div class="codeblock"><div class="codeline">Test balloon with &quot;get balloon / blow balloon / drop balloon&quot;.</div>
</div><p>This has no effect on the design itself, but ensures that when the story is played, typing &quot;test balloon&quot; will run through the given three commands in sequence, as if we had typed &quot;get balloon&quot; and then &quot;blow balloon&quot; and then &quot;drop balloon&quot;.</p>
<p>The name for the test (balloon in this example) has to be a single word. Typing just &quot;test&quot; at the story prompt gives a list of all the test scripts known to the story. Test scripts can make use of each other, for instance:</p>
<div class="codeblock"><div class="codeline">Test all with &quot;test balloon / test door&quot;.</div>
</div><p>One convenient way to keep track of the solution for a work being written is to include a test script at the end of each section, and to place a master test script (like &quot;test all&quot;) at the top of the source. But different designers will prefer different approaches, and this testing system is no more than an optional convenience.</p>
<p>Many tests will only be sensible in given places, which may be hard to reach from the initial position; or with the aid of given things, which may be difficult to obtain. We are therefore allowed to add stipulations to test scripts:</p>
<div class="codeblock"><div class="codeline">Test balloon with &quot;get balloon / blow balloon / drop balloon&quot; holding the balloon.</div>
</div><p>The &quot;&hellip; holding the balloon&quot; means that the balloon will be transferred to the player&#39;s ownership immediately before the test script is run, unless it is already held. Similarly:</p>
<div class="codeblock"><div class="codeline">Test jam with &quot;get jam / taste jam / eat jam&quot; in the Kitchen.</div>
</div><p>Or we might want to say both:</p>
<div class="codeblock"><div class="codeline">Test jam with &quot;get jam / taste jam / eat jam&quot; in the Kitchen holding the jam.</div>
</div><p>(Single quotation marks in test scripts are interpreted the same way in test scripts as they are in other text: that is, they are sometimes read as double-quotes unless they appear to be present as apostrophes. The notation [&#39;] forces a single quotation mark if necessary. Similarly, [/] forces a literal forward slash, and prevents the / from being read as dividing up two commands.)</p>
<p>Sometimes when testing it&#39;s convenient to get hold of something not easily available at the moment. The testing command &quot;PURLOIN&quot; does this:</p>
<div class="codeblock"><div class="codeline">The jewelled Turkish clockwork hat is in the sealed glass box.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">&gt; PURLOIN HAT</div>
<div class="codeline">[Purloined.]</div>
</div><p>This can also make test scripts shorter, but of course it&#39;s important to make sure that people without PURLOIN powers can still play through.</p>
<h3 id="section_9">WI §2.9 Material not for release</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_8">2.8 The TEST command</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_10">2.10 Installing extensions</a></div></div>
<p>Special testing commands, like &quot;TEST&quot; and &quot;SHOWME&quot;, are automatically excluded from the story if it is exported from the Inform application using the Release button. We sometimes want to write our own for-testing-purposes-only code, though, and for this purpose we are allowed to designate whole headings as being &quot;not for release&quot;:</p>
<div class="codeblock"><button class="copycode" title="Copy to clipboard" onclick="copyCode(`Section 10 - Open sesame - Not for release\n\nUniversal opening is an action applying to nothing.\nUnderstand &quot;open sesame&quot; as universal opening.\nCarry out universal opening: now all doors are open.\nReport universal opening: say &quot;Open Sesame!&quot;`)">⧉</button><div class="codeline i7header">Section 10 - Open sesame - Not for release</div><div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Universal opening is an action applying to nothing.</div>
<div class="codeline">Understand &quot;open sesame&quot; as universal opening.</div>
<div class="codeline">Carry out universal opening: now all doors are open.</div>
<div class="codeline">Report universal opening: say &quot;Open Sesame!&quot;</div>
</div><p>Clearly we do not wish the final reader to be able to type &quot;OPEN SESAME&quot;, so this whole heading will be disregarded in the Release version, as will any heading whose name includes &quot;not for release&quot;.</p>
<p>Note that if a chapter, say, is marked as &quot;not for release&quot;, then its subheadings (mere sections) will also not be for release. If in doubt, check the &quot;Contents&quot; index: if any section is &quot;not for release&quot; then so are all of its subheadings.</p>
<p>The reverse effect is produced by:</p>
<div class="codeblock"><div class="codeline i7header">Section 10 - Open sesame - For release only</div></div><p>That is, it marks material included only in a Release version.</p>
<h3 id="section_10">WI §2.10 Installing extensions</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_9">2.9 Material not for release</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_11">2.11 Including extensions</a></div></div>
<p>The original Inform of 1993 provided no special facilities for &quot;extensions&quot; &ndash; in effect, additional packets of rules providing extra features &ndash; but the creation and circulation of these extensions soon became a flourishing part of Inform culture. Today&#39;s Inform actively promotes sharing of such extensions, both to bring writers together and to support good practice. For the user of an extension, the advantage is clear: why go to great trouble to (say) work out how to make doors open automatically as needed, when somebody else has already perfected this? For the writer of an extension, there is the satisfaction of producing a good solution to a ticklish problem, and contributing to the public good.</p>
<p>Newcomers will probably not need extensions for quite some while, but there is nothing difficult about using them, so a few brief notes are worth giving here. (The final chapter of the documentation covers the writing of new extensions.)</p>
<p>Extensions are identified by name (say &quot;Following People&quot;) and also by author (say &quot;Mary Brown&quot;). They need to be installed before they can be used, which means downloading them from the Internet. By far the easiest way to do this is to use the Public Library feature of Inform: then the application can do everything, letting us either choose individual extensions or download them en masse. But it&#39;s also possible to install extensions by hand.</p>
<p>When using Inform on Mac OS X, use the File menu item <strong>Show Extensions Folder</strong> to open the relevant folder in the Finder. Each author has a subfolder of this folder, and his or her extensions live inside it.</p>
<p>When using Inform on Windows, this means storing them in the folder</p>
<p>My Documents\Inform\Extensions</p>
<p>Each author has a subfolder of this folder, and his or her extensions live inside it. Our example extension should therefore be placed as:</p>
<p>My Documents\Inform\Extensions\Mary Brown\Following People.i7x</p>
<p>When using Inform on Linux, this means storing them in the folder</p>
<p>~/Inform/Extensions/</p>
<p>where &quot;~&quot; signifies your home folder. (This will have been created for you the first time you ran i7.)  Each author has a subfolder of this folder, and his or her extensions live inside it. Our example extension should therefore be placed as:</p>
<p>~/Inform/Extensions/Mary Brown/Following People.i7x</p>
<p>When using Inform on Linux, this means storing them in the folder</p>
<p>~/Inform/Extensions/</p>
<p>where &quot;~&quot; signifies your home folder. (This will have been created for you the first time you ran i7.)  Each author has a subfolder of this folder, and his or her extensions live inside it. Our example extension should therefore be placed as:</p>
<p>~/Inform/Extensions/Mary Brown/Following People.i7x</p>
<p>In fact, though, Inform can automatically install extensions for us: we need only select the &quot;Install Extension&hellip;&quot; item on the File menu.</p>
<p>The actual extension file should always be named with a &quot;.i7x&quot; suffix, meaning &quot;I7 extension&quot; &ndash; for instance, &quot;Following People.i7x&quot;.</p>
<p>To provide an example, Emily Short&#39;s useful extension &quot;Locksmith&quot; is one of a small number of extensions which come ready-installed as part of the basic Inform package, and need not be downloaded and installed.</p>
<p>Each time that Inform translates any source text, it performs a quick check of the extensions available, and updates its own internal records. A directory of the extensions currently installed can be found by clicking on &quot;Installed Extensions&quot; from the Extensions panel. This is also worth visiting in order to browse the Public Library, a selection of extensions contributed by Inform users.</p>
<h3 id="section_11">WI §2.11 Including extensions</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_10">2.10 Installing extensions</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_12">2.12 Use options</a></div></div>
<p>We talk about &quot;including&quot; such an extension into a work of IF because the process merges rules and behaviours from the extension with those we have described ourselves. It&#39;s not uncommon for contributions by five or six different people to be pooled together this way.</p>
<p>Including an extension is only a matter of writing a single sentence in the source. For instance:</p>
<div class="codeblock"><div class="codeline">Include Locksmith by Emily Short.</div>
</div><p>Note that it is compulsory to name both extension and author.</p>
<p>Many extensions come with their own documentation. Again, follow the &quot;Installed Extensions&quot; link to see what&#39;s available from them.</p>
<h3 id="section_12">WI §2.12 Use options</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_11">2.11 Including extensions</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_13">2.13 Administering classroom use</a></div></div>
<p>One more preliminary. Inform has a small number of optional settings which affect the result of translating the source. The sentence:</p>
<div class="codeblock"><div class="codeline">Use American dialect.</div>
</div><p>makes the resulting work of IF use American spellings (except where the designer spells otherwise) and the American convention for spelling out numbers (thus, &quot;one hundred seventeen&quot; not &quot;one hundred and seventeen&quot;). Similarly:</p>
<div class="codeblock"><div class="codeline">Use the serial comma.</div>
</div><p>uses a comma when printing lists: thus &quot;Julian, Dick, George, and Anne&quot; rather than &quot;Julian, Dick, George and Anne&quot;. A more profound change is made by</p>
<div class="codeblock"><div class="codeline">Use scoring.</div>
</div><p>which introduces the concept of a numerical score &ndash; something which modern authors of interactive fiction often feel is inappropriate, which is why Inform only provides it on request. Two alternative options:</p>
<div class="codeblock"><div class="codeline">Use full-length room descriptions.</div>
<div class="codeline">Use abbreviated room descriptions.</div>
</div><p>change the normal way room descriptions are shown: normally they are given in full, but in abbreviated mode, they&#39;re never given. (The latter is a bad idea in any publicly released story, but is provided for completeness and in case it may help testing.) Alternatively, we can set the traditional Infocom-style of room description to any of VERBOSE, BRIEF and SUPERBRIEF:</p>
<div class="codeblock"><div class="codeline">Use VERBOSE room descriptions.</div>
<div class="codeline">Use BRIEF room descriptions.</div>
<div class="codeline">Use SUPERBRIEF room descriptions.</div>
</div><p>The default is now VERBOSE, but until 2010 it was BRIEF.</p>
<p>Next we have:</p>
<div class="codeblock"><div class="codeline">Use undo prevention.</div>
</div><p>which disables the UNDO verb, both in play and after death, for the benefit of stories which are heavily randomised and where we do not want players to keep on UNDOing until they get a random outcome which is to their taste. (Many players consider UNDO to be their birthright, and that any work using this option is an abomination: indeed, it has even been suggested that this section of the Inform documentation be censored. To use the option is to court controversy if not outright hostility.)</p>
<p>We can combine any number of options in a single &quot;Use&quot; sentence, so for example:</p>
<div class="codeblock"><div class="codeline">Use American dialect and the serial comma.</div>
</div><p>brings about both of these changes.</p>
<h3 id="section_13">WI §2.13 Administering classroom use</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_12">2.12 Use options</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_14">2.14 Limits and the Settings panel</a></div></div>
<p>Inform is increasingly used in education, where teachers sometimes need to install it on a whole room of computers at once, and want to monitor their students&#39; progress. There is no special &quot;classroom&quot; version of Inform, but a couple of small administration features in the standard Inform &ndash; usually never needed &ndash; might be helpful to teachers.</p>
<p>When Inform starts up, it now looks for a file called Options.txt inside the user&#39;s home folder for Inform. (On Mac OS X, this is &quot;~/Library/Inform&quot;; on Windows, &quot;My Documents\Inform&quot;, and so on.) If the file is present, then the text in it is added to the source text of everything Inform translates.</p>
<p>This must be used only to set use options, specify test commands, and give release instructions. For example, the following is a valid &quot;Options.txt&quot;:</p>
<div class="codeblock"><div class="codeline">Use American dialect.</div>
<div class="codeline">Test fish with &quot;fish/fish with pole/angle&quot;.</div>
<div class="codeline">Release along with source text.</div>
</div><p>The idea is that this file can be used for setting up a standard configuration on multiple machines in a classroom setting. Here the instructor can make sure the Release button will do what she would like, and can arrange for each student&#39;s copy of Inform to respond to given Test commands: for instance, if the class has an assignment to create a simulation of a camera, the instructor could set up &quot;Options.txt&quot; so that TEST CAMERA would run through some commands the camera ought to respond to.</p>
<p>A new use option, &quot;Use telemetry recordings.&quot;, causes Inform to copy its outcome and problem messages to files in its home folder (see above) as they occur. These files are dated, so that for instance</p>
<div class="codeblock"><div class="codeline">Telemetry 2009-03-25.txt</div>
</div><p>contains all of the recorded activity on 25 March 2009. Telemetry only records the contents of the &quot;Problems&quot; panel &ndash; notes of success or failure, and problem messages &ndash; and nothing is transmitted via any network, so it isn&#39;t really surveillance. The user can deliberately add a note to the current telemetry file by writing something like this in source text:</p>
<div class="codeblock"><div class="codeline">* &quot;I don&#39;t get it! What&#39;s a kind? Why can&#39;t the lamp be lighted?&quot;</div>
</div><p>(This is a way to make a note for the benefit of someone who will read the telemetry file &ndash; for instance, to comment on a problem message that has just appeared. Note the double-quotes. Otherwise, it&#39;s meant to look like the standard way that beta-testers mark up IF transcripts.)</p>
<p>These two features have been added in response to requests from education users. Let&#39;s suppose that Mr Lebling, who teaches 5th grade in Minnesota, wants to set things up just right for his class. He installs Inform on the ten computers they will use, and also copies an Options.txt file from his memory stick onto each one. The Options.txt file reads:</p>
<div class="codeblock"><div class="codeline">Use serial comma.</div>
<div class="codeline">Use American dialect.</div>
<div class="codeline">Use telemetry recordings.</div>
</div><p>Now Mr Lebling&#39;s class won&#39;t be confronted with English spellings, and so on. And most of the kids are happy, but Mr Lebling gets the feeling that young Marc wasn&#39;t really paying attention, so after class he checks that day&#39;s Telemetry file for that computer to see what Marc was up to, and whether he was stuck on something.</p>
<h3 id="section_14">WI §2.14 Limits and the Settings panel</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_13">2.13 Administering classroom use</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_15">2.15 What to do about a bug</a></div></div>
<p>No computer has unlimited capacity, and a large, complex project may eventually bump its head against the ceiling.</p>
<p>Inform is a system for translating textual descriptions of interactive fiction into &quot;story files&quot;. No single format of story file is standard to the IF community. The formats developed over the history of IF differ in three key respects:</p>
<div class="codeblock"><div class="codeline">- the range of computers or devices capable of playing them;</div>
<div class="codeline">- how large they are, that is, how much play they can express;</div>
<div class="codeline">- what extra-textual effects they can bring off.</div>
</div><p>Inform can write to two different formats. Neither of these is proprietary, and neither was created by the authors of Inform: each format is a community property, defined by published standards documents. An individual Inform project can make its own choice of story file format, using that project&#39;s Settings panel. Outside the Inform app, Inform can even be used at the command line to generate C programs rather than story files, and those can be compiled to run on almost any computer.</p>
<p>Newly created projects are set up with the Glulx format. This has largely taken over from an earlier format called the Z-machine, but Inform can still generate a version 8 Z-machine file (a so-called &quot;z8&quot;) if required. The Z-machine is of historic importance, and may continue to be useful for certain tasks where Glulx support is not yet available, but most users will want to keep the Glulx format set all of the time.</p>
<p>Internally, the Inform application uses a tool called Inform 6 (which was once the entire Inform system) as the final stage in manufacturing the story file. Inevitably, though, this can go wrong if the story is so large or complex that it exceeds some fundamental limitation of the current story file format. This is only likely to happen with the Z-machine format, since Glulx has a huge capacity; so the cure here is to switch to Glulx in the Settings. But if that&#39;s not possible for some reason &ndash; say, if we want a story file playable on a tiny handheld computer unable to manage Glulx &ndash; we still have a few options. Unless the story is very large (in which case there is little we can do), the &quot;z8&quot; format is most likely to be exhausted for lack of what is called &quot;readable memory&quot;, with a message like so:</p>
<div class="codeblock"><div class="codeline">This program has overflowed the maximum readable-memory size of the Z-machine format. See the memory map below: the start of the area marked &quot;above readable memory&quot; must be brought down to $10000 or less.</div>
</div><p>followed by a tabulation of how the Z-machine&#39;s storage has been used, a large but not very useful diagram. The first time one runs into the problem on a large project, it can be postponed, by adding the following to the source:</p>
<div class="codeblock"><div class="codeline">Use memory economy.</div>
</div><p>(Economy cuts down the verbosity of some of the testing commands, but otherwise subtracts no performance.) Writing this into the source is the equivalent of a diver switching to an emergency oxygen tank: it gives us a generous safety margin, but also tells us that now is the time to wrap things up.</p>
<p>If we hit the problem again, genuine cuts must be made. As a general rule, the most memory-expensive ingredients of an Inform design are various-to-various relations between large kinds such as &quot;thing&quot; or, if there are many rooms, &quot;room&quot;. Other than that, if a kind has been festooned with new properties and we have created dozens of items of that kind, then we can get a fairly large saving simply by doing without one of those properties; and so on.</p>
<p>The ultimate memory-saving device, of course, is the one used by book publishers when there are too many pages to bind: to cut the design into two stories, Part I and Part II.</p>
<h3 id="section_15">WI §2.15 What to do about a bug</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_14">2.14 Limits and the Settings panel</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div><div class="sect-navbar-right"><a href="#section_16">2.16 Does Inform really understand English?</a></div></div>
<p>All software has bugs, and Inform is no exception. The most obvious bugs are the ones which Inform catches itself, when it confesses that it has halted in failure, or translated the source text into a program which cannot be compiled further. But sometimes it will also happen that Inform will issue a misleading Problem message, or appear to work normally but to produce a story which does not do what it should have done.</p>
<p>It is very helpful for users to report faults, so that the program can be improved for everyone else. To report a fault, please first check with the Inform home page to make sure that the version of Inform you have used to detect the fault is the latest version available. You can find the latest versions at</p>
<div class="codeblock"><div class="codeline"><a href="http://inform7.com/downloads/">inform7.com/downloads/</a></div>
</div><p>If the bug is still present in the latest version, please report the bug using Inform&#39;s bug tracking database. Links for this can be found from the Inform source code page:</p>
<div class="codeblock"><div class="codeline"><a href="https://github.com/ganelson/inform">github.com/ganelson/inform</a></div>
</div><p>It may be that someone else has already identified the bug and even that a workaround for users is suggested. If not, please make an account at the bug tracking system and submit the requested information to help Inform&#39;s maintainers track and fix the fault.</p>
<h3 id="section_16">WI §2.16 Does Inform really understand English?</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_15">2.15 What to do about a bug</a></div><div class="sect-navbar-center"><a href="#chapter_2">2. The Source Text</a></div></div>
<p>No. No computer does, and Inform does not even try to read the whole wide range of text: it is a practical tool for a particular purpose, and it deals only with certain forms of sentence useful to that purpose. Inform source text may look like &quot;natural language&quot;, the language we find natural among ourselves, but in the end it is a computer programming language. Many things which seem reasonable to the human reader are not understood by Inform. For instance, Inform understands</p>
<div class="codeblock"><div class="codeline">something which is carried by the player</div>
</div><p>but not (at present, anyway)</p>
<div class="codeblock"><div class="codeline">something which the player carries</div>
</div><p>even though both are perfectly good English. So it is not always safe to assume that Inform will understand any reasonable instruction it is given: when in doubt, we must go back to the manual.</p>
<p>More philosophically, to &quot;understand&quot; involves contextual knowledge. Just because Inform recognises and acts on a sentence, does it really understand what we meant? It will turn out that Inform is both good and bad at this. For instance, from</p>
<div class="codeblock"><div class="codeline">Mr Darcy wears a top hat.</div>
</div><p>Inform will correctly deduce that Darcy is a person, because inanimate objects do not ordinarily wear clothes, and that the top hat is clothing. But it will not automatically know that Darcy is a man rather than a woman because it does not know the social convention implied by &quot;Mr&quot;. Moreover, if instead we had written</p>
<div class="codeblock"><div class="codeline">Mr Darcy carries a top hat.</div>
</div><p>then Inform would not guess that the top hat is clothing. This is because it does not have the vast vocabulary and experience of a human reader: it is probably discovering the word &quot;hat&quot; for the first time.</p>
<p>Finally, it is best to avoid ambiguities rather than rely on Inform to know which meaning is patently absurd. For instance, in</p>
<div class="codeblock"><div class="codeline">Heatwave bone breaks clog hospital.</div>
</div><p>(a headline once printed by the <em>Oxford Mail</em> newspaper) a human reader quickly realises that there is no clog hospital being broken. But if Inform had been taught the verbs <em>to break</em> and <em>to clog</em> then that is exactly the conclusion it would have drawn. Or an example which genuinely arose in beta-testing:</p>
<div class="codeblock"><div class="codeline">The life support unit fits the egg.</div>
</div><p>in which Inform construed the verb as <em>support</em> and not <em>fits</em>, and then created items called &quot;the life&quot; (plural) and &quot;unit fits the egg&quot;.</p>
<p>That disclaimer completes the groundwork, and we are ready to begin on simulating a world to explore.</p>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="WI_1.html">1. Welcome to Inform</a></div><div class="doc-navbar-right"><a href="WI_3.html">3. Things</a></div></div>
<nav><div class="nav-el"><a href="index.html">Contents</a></div> <div class="nav-el"><a href="examples/index.html">Examples</a></div> <div class="nav-el"><a href="general_index.html">Index</a></div> <div class="nav-el"><a href="search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="license.html">Artistic License 2.0</a>.</p><p class="about"><a href="about.html">About this edition</a> &bull; <a href="https://twitter.com/inform7tips">@inform7tips</a></p></footer>
</body></html>
