<!doctype html>
<html lang="en"><head><meta charset="utf-8">
<title>RB 7. Other Characters</title>
<script src="i7doc.js"></script>
<link rel="stylesheet" href="i7doc.css">
</head>
<nav><div class="nav-el"><a href="index.html">Contents</a></div> <div class="nav-el"><a href="examples/index.html">Examples</a></div> <div class="nav-el"><a href="general_index.html">Index</a></div> <div class="nav-el"><a href="search.html">Search</a></div></nav>
<body><header><h1 class="title">Recipe Book</h1></header>
<h2 id="chapter_7">7. Other Characters</h2>
<div class="doc-navbar"><div class="doc-navbar-left"><a href="RB_6.html">6. Commands</a></div><div class="doc-navbar-right"><a href="RB_8.html">8. Vehicles, Animals and Furniture</a></div></div>
<div class="section-block">
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">1</div><div class="section-name"><a href="RB_7.html#section_1">Getting Acquainted</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">2</div><div class="section-name"><a href="RB_7.html#section_2">Liveliness</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">3</div><div class="section-name"><a href="RB_7.html#section_3">Reactive Characters</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">4</div><div class="section-name"><a href="RB_7.html#section_4">Barter and Exchange</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">5</div><div class="section-name"><a href="RB_7.html#section_5">Combat and Death</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">6</div><div class="section-name"><a href="RB_7.html#section_6">Getting Started with Conversation</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">7</div><div class="section-name"><a href="RB_7.html#section_7">Saying Simple Things</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">8</div><div class="section-name"><a href="RB_7.html#section_8">Saying Complicated Things</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">9</div><div class="section-name"><a href="RB_7.html#section_9">The Flow of Conversation</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">10</div><div class="section-name"><a href="RB_7.html#section_10">Character Emotion</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">11</div><div class="section-name"><a href="RB_7.html#section_11">Character Knowledge and Reasoning</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">12</div><div class="section-name"><a href="RB_7.html#section_12">Characters Following a Script</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">13</div><div class="section-name"><a href="RB_7.html#section_13">Traveling Characters</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">14</div><div class="section-name"><a href="RB_7.html#section_14">Obedient Characters</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">15</div><div class="section-name"><a href="RB_7.html#section_15">Goal-Seeking Characters</a></div>
</div>
<div class="section-row">
<div class="section-chapter-num">§7.</div><div class="section-section-num">16</div><div class="section-name"><a href="RB_7.html#section_16">Social Groups</a></div>
</div>
</div>
<h3 id="section_1">RB §7.1 Getting Acquainted</h3>
<div class="sect-navbar"><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_2">7.2 Liveliness</a></div></div>
<p>Talking about characters presents some special challenges. For one thing, some characters are referred to by a proper name, but others are not: so the story might want to talk about &quot;Jack&quot; but also about &quot;the drunk pedestrian&quot;. In the absence of other information, Inform attempts to divine our intentions based on the words with which we defined a new character: but we can always override its guess with an explicit statement, such as</p>
<div class="codeblock"><div class="codeline">The Great Malefactor is proper-named.</div>
</div><p><span class="example-name"><a href="examples/belfry.html" onClick="(function() { document.getElementById('example_belfry').setAttribute('open','open'); return true; })();" title="You can see a bat, a bell, some woodworm, William Snelson, the sexton&#39;s wife, a bellringer and your local vicar here.">Belfry</a></span> ★ demonstrates further how titles are set at the start of play.</p>
<p>The relation between the player and the other characters is not always static, however. Sometimes we want the player to learn a character&#39;s name part-way through play, and start referring to &quot;the drunk pedestrian&quot; as &quot;Fernando&quot;. Similarly, the status of another character may change due to some twist of the plot. <span class="example-name"><a href="examples/gopherwood.html" onClick="(function() { document.getElementById('example_gopherwood').setAttribute('open','open'); return true; })();" title="Changing the name of a character in the middle of play, removing the article.">Gopher-wood</a></span> ★★ shows how to change the name of a character mid-story, and <span class="example-name"><a href="examples/peers.html" onClick="(function() { document.getElementById('example_peers').setAttribute('open','open'); return true; })();" title="The peers of the English realm come in six flavours - Baron, Viscount, Earl, Marquess, Duke and Prince - and must always be addressed properly. While a peerage is for life, it may at the royal pleasure be promoted.">Peers</a></span> ★★ handles changing the character&#39;s rank.</p>
<p>Alternatively, of course, the player character may already know some of the other characters when the story begins, even if the player does not. In that case, we may want to add a tag-line or so of identification to a character&#39;s name when he first appears in the story. <span class="example-name"><a href="examples/humble_wayside_flower.html" onClick="(function() { document.getElementById('example_humble_wayside_flower').setAttribute('open','open'); return true; })();" title="Relations track the relationships between one character and another. Whenever the player meets a relative of someone he already knows, he receives a brief introduction.">A Humble Wayside Flower</a></span> ★★★ shows one way of doing this.</p>
<p>Another occasional challenge is dealing with such commands as EXAMINE DR. THISBY. The problem here is that Inform by default will understand the full stop after &quot;Dr&quot; to be the end of one command and the beginning of another, and will try to interpret &quot;Thisby&quot; as a verb. If we do have a story populated by such formally-addressed characters, we may turn to Punctuation Removal, which provides a phrase to remove the full stops in standard titles before attempting to interpret the command.</p>
<p>Other characters have physical characteristics as well as names, of course, and <span class="example-name"><a href="examples/meet_market.html" onClick="(function() { document.getElementById('example_meet_market').setAttribute('open','open'); return true; })();" title="A case in which relations give characters multiple values of the same kind.">Meet Market</a></span> ★ demonstrates one way of implementing people with notable features.</p>
<p>Finally, in some IF, the roles of characters may change from playing to playing. If we are writing a replayable murder mystery, we might want to select a new culprit each time the story starts; for this, see <span class="example-name"><a href="examples/clueless.html" onClick="(function() { document.getElementById('example_clueless').setAttribute('open','open'); return true; })();" title="A murderer for the mystery is selected randomly at the beginning of the game.">Clueless</a></span> ★.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="RB_5.html#section_1" title="The Viewpoint Character &gt; The Human Body">The Human Body</a> for more on body parts and physical description.<br><a href="RB_5.html#section_5" title="The Viewpoint Character &gt; Memory and Knowledge">Memory and Knowledge</a> for a way to refer to characters whom the player knows about but who aren't currently in the room.<br></p></div><h3 id="section_2">RB §7.2 Liveliness</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_1">7.1 Getting Acquainted</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_3">7.3 Reactive Characters</a></div></div>
<p>A character who sits still in a chair and does nothing is much less convincingly alive than one who seems to be pursuing some sort of personal agenda. There are all sorts of ways to achieve this, but the least challenging is by introducing some random change to descriptions, and by giving a character some very simple routine behavior to carry out.</p>
<p>For instance, we&#39;ll often want the characters in a room to be described doing different things every time we look at them. <span class="example-name"><a href="examples/camp_bethel.html" onClick="(function() { document.getElementById('example_camp_bethel').setAttribute('open','open'); return true; })();" title="Creating characters who change their behavior from turn to turn, and a survey of other common uses for alternative texts.">Camp Bethel</a></span> ★★ shows how this may be done.</p>
<p>Every turn rules lend some sprightliness to otherwise-silent characters, as well:</p>
<div class="codeblock"><div class="codeline">Every turn when the player can see Mrs MacGillicuddy:</div>
<div class="codeline">&ensp;&ensp;say &quot;Mrs. MacGillicuddy vacuums around [a random fixed in place thing which is in the location].&quot;</div>
</div><p>We might expand on this by providing a whole table of things for Mrs MacG. to cycle through, or a text variation effect that gives her different activities every turn, as in</p>
<div class="codeblock"><div class="codeline">Every turn when the player can see Mrs MacGillicuddy:</div>
<div class="codeline">&ensp;&ensp;say &quot;Mrs. MacGillicuddy [one of]vacuums around the furniture[or]tries to remove gum from the underside of the desks[or]causes a racket by testing the smoke alarm[or]makes a pointed comment or two about them as sit by idly while someone works her fingers to the bone[as decreasingly likely outcomes].&quot;</div>
</div><p>This is no great innovation in characterization by itself, but it does at least remind the player that the character is alive and moving about, even when he isn&#39;t paying attention to her.</p>
<p><span class="example-name"><a href="examples/annoyotron_jr.html" onClick="(function() { document.getElementById('example_annoyotron_jr').setAttribute('open','open'); return true; })();" title="A child who after a certain period in the car starts asking annoying questions.">Annoyotron Jr</a></span> ★ demonstrates a character who actively tries to get our attention, and whose routine of behavior changes just slightly if we show signs of having reacted to him.</p>
<p><span class="example-name"><a href="examples/lean_and_hungry.html" onClick="(function() { document.getElementById('example_lean_and_hungry').setAttribute('open','open'); return true; })();" title="A thief who will identify and take any valuable thing lying around that he is able to touch.">Lean and Hungry</a></span> ★★★ implements a classic thief, a character who doesn&#39;t interact with the player much except to pick up valuable objects he finds left around the map. Later we will see rather more advanced ways to make characters act on their own goals and plans, but this kind of simple behavior is easily rigged as part of an every turn rule.</p>
<p>Finally, <span class="example-name"><a href="examples/text_foosball.html" onClick="(function() { document.getElementById('example_text_foosball').setAttribute('open','open'); return true; })();" title="A game of foosball which relies heavily on every-turn rules.">Text Foosball</a></span> ★★★★ extends the every-turn-rule idea to create an opponent who joins us in a randomized game of table soccer.</p>
<p>With animal characters, this kind of repetitive, semi-random behavior is often adequate: we don&#39;t expect animals to talk, or pursue steady goals, or to take an interest in what we do in their presence (unless it involves a food they like to eat).</p>
<p>For people, we are likely to need an assortment of additional techniques.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="RB_8.html#section_3" title="Vehicles, Animals and Furniture &gt; Animals">Animals</a> for a domestic cat and dog.<br></p></div><h3 id="section_3">RB §7.3 Reactive Characters</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_2">7.2 Liveliness</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_4">7.4 Barter and Exchange</a></div></div>
<p>As we observe characters, so they observe us. Those who seem to have no awareness of what the player is doing often come across more like waxworks than like people. <span class="example-name"><a href="examples/zodiac.html" onClick="(function() { document.getElementById('example_zodiac').setAttribute('open','open'); return true; })();" title="Several variations on &quot;doing something other than...&quot;, demonstrating different degrees of restriction.">Zodiac</a></span> ★ demonstrates a scenario where the watchful presence of a dangerous criminal keeps the player from doing what he otherwise might, while <span class="example-name"><a href="examples/police_state.html" onClick="(function() { document.getElementById('example_police_state').setAttribute('open','open'); return true; })();" title="Several friends who obey you; a policeman who doesn&#39;t (but who takes a dim view of certain kinds of antics).">Police State</a></span> ★ expands on this idea with a policeman who reacts to entire types of behavior in his presence, regardless of whether the culprit is the player or a third party. <span class="example-name"><a href="examples/noisemaking.html" onClick="(function() { document.getElementById('example_noisemaking').setAttribute('open','open'); return true; })();" title="Creating a stage after the report stage of an action, during which other characters may observe and react.">Noisemaking</a></span> ★★★ has a crow who will fly away in response to any loud noises the player makes.</p>
<p>And, of course, we definitely want to have characters react to being looked at or otherwise interfered with. <span class="example-name"><a href="examples/search_and_seizure.html" onClick="(function() { document.getElementById('example_search_and_seizure').setAttribute('open','open'); return true; })();" title="A smuggler who has items, some of which are hidden.">Search and Seizure</a></span> ★★★ implements a smuggler who reacts when we try to confiscate his possessions. <span class="example-name"><a href="examples/pine.html" onClick="(function() { document.getElementById('example_pine').setAttribute('open','open'); return true; })();" title="Pine: Using a scene to watch for the solution of a puzzle, however arrived-at by the player.">Pine</a></span> ★ gives us a sleeping princess who can be woken by a variety of methods.</p>
<p>We wrap up this section with two complete puzzle scenarios that demonstrate what can be achieved by giving characters reactions to the player&#39;s behavior. <span class="example-name"><a href="examples/day_for_fresh_sushi.html" onClick="(function() { document.getElementById('example_day_for_fresh_sushi').setAttribute('open','open'); return true; })();" title="A complete story by Emily Short, called &quot;A Day for Fresh Sushi&quot;, rewritten using Inform 7. Noteworthy is the snarky commenter who remarks on everything the player does, but only the first time each action is performed.">A Day For Fresh Sushi</a></span> ★★★★ has a fish who watches the player&#39;s actions and comments on them, while the live furnishings in <span class="example-name"><a href="examples/revenge_of_the_fussy_table.html" onClick="(function() { document.getElementById('example_revenge_of_the_fussy_table').setAttribute('open','open'); return true; })();" title="A small game about resentful furniture and inconvenient objects.">Revenge of the Fussy Table</a></span> ★★★★ instead comment every turn on the current state of the world, until the player has successfully sorted out all their complaints.</p>
<h3 id="section_4">RB §7.4 Barter and Exchange</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_3">7.3 Reactive Characters</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_5">7.5 Combat and Death</a></div></div>
<p>By default, Inform characters are a bit grudging about giving and sharing objects: they react with disinterest when they&#39;re shown things and refuse everything they&#39;re offered.</p>
<p>If we&#39;d like to change this, we can simply remove the default &quot;block giving&quot; rule, as in</p>
<div class="codeblock"><div class="codeline">The block giving rule is not listed in the check giving it to rules.</div>
</div><p>If we do this, giving items to characters will have the result of moving our possessions to the other person&#39;s inventory. Of course, without more customization, the player may not ever be able to persuade the other character to return his possessions. <span class="example-name"><a href="examples/bribery.html" onClick="(function() { document.getElementById('example_bribery').setAttribute('open','open'); return true; })();" title="A GIVE command that gets rid of Inform&#39;s default refusal message in favor of something a bit more sophisticated.">Bribery</a></span> ★★ demonstrates a scenario in which a character will accept gifts if they are interesting to him, and respond with a changed attitude to the player.</p>
<p><span class="example-name"><a href="examples/barter_barter.html" onClick="(function() { document.getElementById('example_barter_barter').setAttribute('open','open'); return true; })();" title="Allowing characters other than the player to give objects to one another, accounting for the possibility that some items may not be desired by the intended recipients.">Barter Barter</a></span> ★★★ expands further on this by allowing other characters to trade things with one another.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="RB_6.html#section_3" title="Commands &gt; Modifying Existing Commands">Modifying Existing Commands</a> for ways to allow the player to give or show things that he isn't currently holding.<br><a href="RB_6.html#section_15" title="Commands &gt; Actions on Multiple Objects">Actions on Multiple Objects</a> for an implementation of giving that allows the player to offer multiple objects at once, where their combined value determines whether they are accepted.<br><a href="RB_9.html#section_4" title="Props: Food, Clothing, Money, Toys, Books, Electronics &gt; Money">Money</a> for ways to keep track of cash flow, physical money objects, and price negotiations.<br></p></div><h3 id="section_5">RB §7.5 Combat and Death</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_4">7.4 Barter and Exchange</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_6">7.6 Getting Started with Conversation</a></div></div>
<p>Not all characters are friendly, and there are times when we may want to include a fight sequence. There are a number of ways to approach this, depending on whether we want to offer the player a random outcome, a predetermined one, or a combat sequence that depends partly on strategy or on having the proper equipment.</p>
<p><span class="example-name"><a href="examples/lanista.html" onClick="(function() { document.getElementById('example_lanista').setAttribute('open','open'); return true; })();" title="Very simple randomized combat in which characters hit one another for a randomized amount of damage.">Lanista</a></span> ★ demonstrates randomized combat in the style of a role-playing game. The player has a partially random chance of doing any given amount of damage; both the player and his opponent have hit points, and whichever one runs out first dies. <span class="example-name"><a href="examples/lanista2.html" onClick="(function() { document.getElementById('example_lanista2').setAttribute('open','open'); return true; })();" title="Randomized combat in which the damage done depends on what weapons the characters are wielding, and in which an ATTACK IT WITH action is created to replace regular attacking. Also folds a new DIAGNOSE command into the system.">Lanista 2</a></span> ★★ continues this idea, but includes weapons that affect the amount of of damage done. <span class="example-name"><a href="examples/red_cross.html" onClick="(function() { document.getElementById('example_red_cross').setAttribute('open','open'); return true; })();" title="A DIAGNOSE command which allows the player to check on the health of someone.">Red Cross</a></span> ★ by itself implements a command that we might use to find out how strong characters are at the moment.</p>
<p>A word of warning about designing such sequences: a player who gets a roll he doesn&#39;t like always has the option of UNDOing a turn and re-rolling. This means that he can always win a random battle sooner or later; bad luck only means that it takes him longer (so he gets more bored and irritated as he plays through). It is possible to turn off UNDO implementation with</p>
<div class="codeblock"><div class="codeline">Use UNDO prevention.</div>
</div><p>&hellip;but there is a good chance that this will irritate players in itself. Role-playing-style combat scenarios need careful design, lest they actively make a story less fun.</p>
<p>In a slightly more realistic setting, combat leaves physical remains behind, unless we&#39;re wielding some kind of futuristic weapon that evaporates our opponents entirely: <span class="example-name"><a href="examples/puff_of_orange_smoke.html" onClick="(function() { document.getElementById('example_puff_of_orange_smoke').setAttribute('open','open'); return true; })();" title="A system in which every character has a body, which is left behind when the person dies; attempts to do something to the body are redirected to the person while the person is alive.">Puff of Orange Smoke</a></span> ★★ demonstrates characters who leave corpses behind when they die, while <span class="example-name"><a href="examples/technological_terror.html" onClick="(function() { document.getElementById('example_technological_terror').setAttribute('open','open'); return true; })();" title="A ray gun which destroys objects, leaving their component parts behind.">Technological Terror</a></span> ★★★ more tamely explodes robots into numerous component parts.</p>
<p>Finally, we can imagine some scenarios in which, instead of allowing characters to strike at each other for random damage, we want to introduce an element of strategy. <span class="example-name"><a href="examples/don_pedros_revenge.html" onClick="(function() { document.getElementById('example_don_pedros_revenge').setAttribute('open','open'); return true; })();" title="Combat scenario in which the player&#39;s footing and position changes from move to move, and the command prompt also changes to reflect that.">Don Pedro&#39;s Revenge</a></span> ★★★ shows the rudiments of a system in which the characters can make different kinds of attack depending on where they are in a room filled with perches, barrels, and other swashbuckler props.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="RB_11.html#section_2" title="Out Of World Actions and Effects &gt; Saving and Undoing">Saving and Undoing</a> for more discussion of handling random behavior in games.<br></p></div><h3 id="section_6">RB §7.6 Getting Started with Conversation</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_5">7.5 Combat and Death</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_7">7.7 Saying Simple Things</a></div></div>
<p>Traditionally, conversation is one of the most difficult things to program in interactive fiction, because of the number of factors affecting the outcome of everything the player does. While it&#39;s acceptable for &gt;EXAMINE POT to produce the same response every time the player types it, it&#39;s a bit less acceptable for ASK JOE ABOUT HIS ADULTERY to make Joe react the same way every time.</p>
<p>Conversation implementations often need to keep track of a lot of information: what else is going on in the model world, what the character knows, what plot phase we&#39;ve reached, what mood the character is in, what else we&#39;ve recently been talking about, whether we&#39;ve said the same thing before (and how many times); and so on. Later in this chapter we will look at ways to model character knowledge and mood.</p>
<p>Then, too, we have the problem of how the player communicates his conversational intentions to the story. Technology has not yet advanced to the point where a player can simply type in remarks in full natural English and have the character detect the significance, emotional tone, and subtext, if any: so we can&#39;t have RACHEL, THIS DESSERT TASTES LIKE FEET or WILL, LOOK! OUR SINISTER METAL FOES ARE APPROACHING! or BOSS, I WOULD BE DELIGHTED TO FILE ANOTHER TPB REPORT.</p>
<p>The challenge is to create an interface that is both easy for the player to use and expressive enough to be interesting. We will look at some of the common solutions in &quot;Saying Complicated Things&quot;.</p>
<p>The examples in the following sections point out ways to approach common conversation problems. None of them will offer an adequate system if we want to write a very conversationally rich story, however. This is partly because a thorough conversation system requires quite a lot of code in its own right. It&#39;s also partly because there is no one right solution to the problem of conversation design. Different games will have quite different requirements. When making decisions about a new story we have planned, it may be useful to glance through the conversation extensions available for Inform: there are quite a few, offering a range of different interfaces. Even if none is exactly suited for our needs, they may suggest ways to solve particular implementation challenges.</p>
<p>At the other end of the scale, though, there are times when Inform&#39;s default implementation is too complicated for what we want to do: so we will start with ways to simplify conversation, before moving to all the exotic complexities.</p>
<p>Before we get into these details, though, we have a couple of examples that are literally about getting started with a conversation: <span class="example-name"><a href="examples/mimicry.html" onClick="(function() { document.getElementById('example_mimicry').setAttribute('open','open'); return true; })();" title="People who must be greeted before conversation can begin.">Mimicry</a></span> ★★★ introduces the feature that we must greet other characters before beginning to speak to them; <span class="example-name"><a href="examples/gorge_at_george.html" onClick="(function() { document.getElementById('example_gorge_at_george').setAttribute('open','open'); return true; })();" title="If the player tries to TALK TO a character, suggest alternative modes of conversation.">The Gorge at George</a></span> ★ corrects the player&#39;s attempts to use a TALK TO command where a different mode of interaction is appropriate instead.</p>
<h3 id="section_7">RB §7.7 Saying Simple Things</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_6">7.6 Getting Started with Conversation</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_8">7.8 Saying Complicated Things</a></div></div>
<p>There are times when even the commands ASK and TELL are overkill: sometimes the player doesn&#39;t have much information to offer, so TELL is never useful, for instance. If we don&#39;t want to make any distinction between modes of conversation, we can conflate the actions so that ASK LUCIUS ABOUT OLLIVANDER, TELL LUCIUS ABOUT OLLIVANDER and LUCIUS, OLLIVANDER all do the same thing: see <span class="example-name"><a href="examples/sybil.html" onClick="(function() { document.getElementById('example_sybil').setAttribute('open','open'); return true; })();" title="Direct all ASK, TELL, and ANSWER commands to ASK, and accept multiple words for certain cases.">Sybil</a></span> ★.</p>
<p>If we are frequently permitting the player to say things like LUCIUS, OLLIVANDER as shorthand for &quot;talk to Lucius about Ollivander&quot;, then we may also want to allow LUCIUS, OLLIVANDER? This makes the player character seem a bit slow (or at least Laconic), but it is an effective interface in some cases. The trick is that the question mark at the end of the command may prevent Inform from recognizing the keyword; should that problem arise, we may want to use Punctuation Removal to erase question marks from the player&#39;s command before attempting to interpret it.</p>
<p>Along the same lines, there are situations in conversation where similar commands do not correspond to the same actions within Inform; if we&#39;re careless about this, we may force the player to guess which vocabulary we want him to use, which is always vexing. Some cases to look out for:</p>
<p>Inform has actions for &quot;saying yes&quot; and &quot;saying no&quot;. Sometimes this is useful, but sometimes we want YES and SAY YES TO FRED to do the same thing. <span class="example-name"><a href="examples/sybil2.html" onClick="(function() { document.getElementById('example_sybil2').setAttribute('open','open'); return true; })();" title="Making the character understand YES, SAY YES TO CHARACTER, TELL CHARACTER YES, ANSWER YES, and CHARACTER, YES.">Sybil 2</a></span> ★★ shows how to roll these responses into one; <span class="example-name"><a href="examples/proposal.html" onClick="(function() { document.getElementById('example_proposal').setAttribute('open','open'); return true; })();" title="Asking the player a yes/no question which he must answer, and another which he may answer or not as he chooses.">Proposal</a></span> ★★ expands on the idea to show more ways in which a player could reasonably answer a question put by another character.</p>
<p>Again, if we want ASK SYBIL ABOUT CAKE to do the same thing as SHOW CAKE TO SYBIL, we might use the technique in <span class="example-name"><a href="examples/nameless.html" onClick="(function() { document.getElementById('example_nameless').setAttribute('open','open'); return true; })();" title="ASKing someone about an object rather than about a topic.">Nameless</a></span> ★★ to make objects into valid topics of conversation, and to make ASK and SHOW behave the same way.</p>
<p>Finally, if we want to be able to ASK and TELL an inanimate object -- say, a computer -- about something, we may use the extension Inanimate Listeners to add this capability.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="RB_6.html#section_14" title="Commands &gt; Remembering, Converting and Combining Actions">Remembering, Converting and Combining Actions</a> for ways to redirect one conversation command to another conversation topic.<br><a href="RB_2.html#section_2" title="Adaptive Prose &gt; Varying What Is Read">Varying What Is Read</a> for a way of asking the player trivia questions that he can answer only on the next turn.<br></p></div><h3 id="section_8">RB §7.8 Saying Complicated Things</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_7">7.7 Saying Simple Things</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_9">7.9 The Flow of Conversation</a></div></div>
<p>As we saw in the overview, there are challenges in choosing the commands with which the player will communicate to the story. Two common approaches are ASK/TELL conversation, where the player can ask or tell characters about keywords, as in ASK JILL ABOUT JACK or TELL FARMER ABOUT CHICKEN COOP, and menu-based conversation, where the player is offered a list of things to say and must pick one (often by number), as in</p>
<div class="codeblock"><div class="codeline">1) Ask Jill where Jack went.</div>
<div class="codeline">2) Tell Jill that the chicken coop was robbed.</div>
</div><p>or, sometimes,</p>
<div class="codeblock"><div class="codeline">1) &quot;Jill, have you seen your no-good layabout brother Jack anywhere?&quot;</div>
<div class="codeline">2) &quot;Look, Farmer Jill, I think a fox got into the chickens.&quot;</div>
</div><p>The problem with ASK/TELL conversation is that it can feel undirected &ndash; if the player doesn&#39;t know which keywords to ask or tell about next, he gets stuck. It also doesn&#39;t always provide much sense of ongoing context or conversational flow, since the player can ask lots of unrelated questions and jump around a lot. What&#39;s more, sometimes the thing the player character asks isn&#39;t quite the question the player had in mind. If we type ASK JILL ABOUT JACK, Jill could wind up answering any of a number of questions &ndash; where Jack is, how old Jack is, whether Jack committed the recent murder, and so on. The player doesn&#39;t have much fine control over the conversation. Nonetheless, this is sometimes just what we want: <span class="example-name"><a href="examples/farewell.html" onClick="(function() { document.getElementById('example_farewell').setAttribute('open','open'); return true; })();" title="People who respond to conversational gambits, summarize what they said before if asked again, and provide recap of conversation that is past.">Farewell</a></span> ★★ implements a moderately sophisticated system along these lines, which keeps track of what the player has already said and allows him to review past conversation.</p>
<p>Menu-based conversation solves most of these problems: a branching tree of conversation choices maintains a consistent flow of discussion, it&#39;s hard for the player to run out of things to say, and the player always knows what his character is about to say. But there are compensating flaws. For one thing, a menu doesn&#39;t allow for many surprises. The player can see all the conversation the story has to offer by working methodically through all the menu branches. (This problem is sometimes referred to as the &quot;lawnmower effect&quot;, since the process of seeing all the conversation is like the process of running a lawnmower over every inch of the lawn. It becomes a chore rather than an entertainment.) Menu systems can be long-winded to set up and therefore none are exemplified here, but several have been released as extensions for Inform.</p>
<p>Since about 2001, more and more IF has used a sort of compromise method: the player is allowed to ask or tell about keywords, but he&#39;s sometimes given prompts about things to say that follow naturally on the conversation he was just having, as in</p>
<div class="codeblock"><div class="codeline">You could ask where Jack is.</div>
</div><p>Moreover, when he asks about a topic where many comments are possible, he&#39;ll be allowed to clarify, either using a menu or through a disambiguation question such as</p>
<div class="codeblock"><div class="codeline">&gt;ask Jill about Jack</div>
<div class="codeline">Do you want to ask where Jack is, how old Jack is, or whether Jack committed the recent murder?</div>
</div><p><span class="example-name"><a href="examples/sweeney.html" onClick="(function() { document.getElementById('example_sweeney').setAttribute('open','open'); return true; })();" title="A conversation where each topic may have multiple questions and answers associated with it, and where a given exchange can lead to new additions to the list.">Sweeney</a></span> ★★ implements one such hybrid type of conversation.</p>
<p>A third option is to take away almost all the player&#39;s expressiveness and give him just one command, TALK TO. The player can TALK TO characters whenever he wants, and the story will pick the most appropriate thing for him to talk about. This works best in works with few or simple puzzles and a fast-moving, constrained plot, where the player will keep having new things to talk about. <span class="example-name"><a href="examples/cheesemakers.html" onClick="(function() { document.getElementById('example_cheesemakers').setAttribute('open','open'); return true; })();" title="Scenes used to control the way a character reacts to conversation and comments, using a TALK TO command.">Cheese-makers</a></span> ★★★ demonstrates this.</p>
<p>Finally, a few extreme games try to fake natural language understanding by looking for keywords in the player&#39;s input, rather than an exact grammar. This is perilous, because it is all too easy for the story to completely misunderstand what the player meant to type. Nonetheless, for the sake of example, see <span class="example-name"><a href="examples/complimentary_peanuts.html" onClick="(function() { document.getElementById('example_complimentary_peanuts').setAttribute('open','open'); return true; })();" title="A character who responds to keywords in the player&#39;s instructions and remarks, even if there are other words included.">Complimentary Peanuts</a></span> ★★★, in which the incomprehension is partly excused by the fact that the player is talking to someone a bit hard of hearing.</p>
<h3 id="section_9">RB §7.9 The Flow of Conversation</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_8">7.8 Saying Complicated Things</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_10">7.10 Character Emotion</a></div></div>
<p>All this discussion of conversation commands and ways to model dialogue doesn&#39;t address the higher-level design issue: how do we approach writing this material so that it has a rhythm and flow? How do we know when we&#39;ve created enough conversation? How can we avoid sounding hopelessly stilted when the nature of IF implementation requires us to break our text into small snippets?</p>
<p>While most authors develop their own approaches, there is some general advice that may help, especially for works that have a strong narrative progression.</p>
<p>It helps to have the plot of the story, with all its component scenes, planned in advance. That doesn&#39;t mean there can&#39;t be any changes later, but having a list of the different scenes can help us remember the different contexts in which information can appear. If we&#39;re using Inform&#39;s scenes feature, we may even want to restrict some dialogue to be available only during a given scene.</p>
<p>The next step is to go through scene by scene and create the &quot;spine&quot; of the scene. What <em>must</em> be said during this section? Is there anything the player can&#39;t leave without knowing? If the player isn&#39;t moving the scene forward fast enough, will the other character or characters volunteer information in order to keep the pace going?</p>
<p>It often helps to draft a transcript showing what we imagine as the ideal playthrough of the scene &ndash; writing straight through can create a natural flow of dialogue &ndash; before dividing the dialogue into pieces for implementation.</p>
<p>Once the scene is complete enough for the player to get through from beginning to end, we can start filling it out. At this point, it sometimes helps to play through the scene a number of times and add new dialogue elements as we think of things that our character might reasonably want to say. Sometimes these additions will turn out to be short tangents from the main flow of a very directed scene; sometimes they might be important branches that lead the scene to an entirely alternate outcome. The main thing is to make sure that, if the scene needs to hit certain points before ending, none of our branches keep the player from returning to the subject at hand.</p>
<h3 id="section_10">RB §7.10 Character Emotion</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_9">7.9 The Flow of Conversation</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_11">7.11 Character Knowledge and Reasoning</a></div></div>
<p>In a complex story, characters may evolve strong feelings about the player. Often we want to hint at the character&#39;s feelings through gesture and tone of voice &ndash; little things woven into dialogue and action sequences that might otherwise be unchanged. <span class="example-name"><a href="examples/ferragamo_again.html" onClick="(function() { document.getElementById('example_ferragamo_again').setAttribute('open','open'); return true; })();" title="Using the same phrase to produce different results with different characters.">Ferragamo Again</a></span> ★★ demonstrates creating phrases to give all our characters different ways to express their irritation at the player.</p>
<p>Then again, sometimes a discussion might produce quite spectacular results if a character is in the wrong mood. <span class="example-name"><a href="examples/being_peter.html" onClick="(function() { document.getElementById('example_being_peter').setAttribute('open','open'); return true; })();" title="A set of rules determining the attitude a character will take when asked about certain topics.">Being Peter</a></span> ★ shows the bare bones of an implementation in which a character&#39;s attitude rulebook is consulted to determine what her response will be &ndash; allowing for arbitrarily complicated outcomes.</p>
<h3 id="section_11">RB §7.11 Character Knowledge and Reasoning</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_10">7.10 Character Emotion</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_12">7.12 Characters Following a Script</a></div></div>
<p>A character may be endowed with knowledge and even reasoning skills. Relations form quite a good way of keeping track of such problems: for instance, we can allow characters to be acquainted with one another with a relation such as</p>
<div class="codeblock"><div class="codeline">Lucy knows Lady Cardew.</div>
</div><p>Or we might keep track of more complicated attitudes between characters, as in <span class="example-name"><a href="examples/murder_on_the_orient_express.html" onClick="(function() { document.getElementById('example_murder_on_the_orient_express').setAttribute('open','open'); return true; })();" title="A number of sleuths (the player among them) find themselves aboard the Orient Express, where a murder has taken place, and one of them is apparently the culprit. Naturally they do not agree on whom, but there is physical evidence which may change their minds...">Murder on the Orient Express</a></span> ★★, in which some characters suspect others of the crime.</p>
<p>Alternatively, we might have a list of salient facts that are important in our story. We might declare these as values, and then characters could know, learn, and forget entries as appropriate:</p>
<div class="codeblock"><div class="codeline">A fact is a kind of value. Some facts are defined by the Table of All Known Facts.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline">Knowledge relates various people to various facts. The verb to know (he knows, they know, he knew, it is known) implies the knowledge relation.</div>
<div class="codeline">&ensp;&ensp;</div>
<div class="codeline tablename">Table of All Known Facts</div><table>
<tr><td>fact   </td><td>summary</td></tr><tr><td>shoe-size   </td><td>&quot;Lucy wears a size 9 shoe.&quot;</td></tr><tr><td>sunset-time   </td><td>&quot;Sunset is at 8:22 PM this evening.&quot;</td></tr></table>
<div class="codeline">Lucy knows shoe-size.</div>
<div class="codeline">Bob knows sunset-time and shoe-size.</div>
</div><p>Or again we might keep a whole database of information in a table: the characters in <span class="example-name"><a href="examples/questionable_revolutions.html" onClick="(function() { document.getElementById('example_questionable_revolutions').setAttribute('open','open'); return true; })();" title="An expansion on the previous idea, only this time we store information and let characters answer depending on their expertise in a given area.">Questionable Revolutions</a></span> ★★★ know dates, countries, and a short description for each of several rebellions and popular uprisings, while in <span class="example-name"><a href="examples/queen_of_sheba.html" onClick="(function() { document.getElementById('example_queen_of_sheba').setAttribute('open','open'); return true; })();" title="Allowing the player to use question words, and using that information to modify the response given by the other character.">Queen of Sheba</a></span> ★★★, Solomon is able to answer who, what, where, when, and why questions about a range of topics. This kind of approach is most useful when the characters need to display a deep knowledge of a particular field. The facts stored in the Table of All Known Facts, above, are comparatively sparse, because there we are designing a story in which not all data about the world is equally valuable: Lucy doesn&#39;t know the shoe size of every person in the story, because for some reason it is only her own shoe size that matters. On the other hand, the Table of All Known Facts can store different kinds of information, whereas the revolutions table has no way of storing shoe sizes or sunset times. And <span class="example-name"><a href="examples/murder_on_the_orient_express.html" onClick="(function() { document.getElementById('example_murder_on_the_orient_express').setAttribute('open','open'); return true; })();" title="A number of sleuths (the player among them) find themselves aboard the Orient Express, where a murder has taken place, and one of them is apparently the culprit. Naturally they do not agree on whom, but there is physical evidence which may change their minds...">Murder on the Orient Express</a></span> ★★ works differently again, because it is storing knowledge that concerns people and things that already exist in the world model, rather than abstract ideas. Our way of modeling character knowledge, in other words, will depend quite a lot on what kind of knowledge it is.</p>
<p>The possibilities of character reasoning are similarly broad, but <span class="example-name"><a href="examples/problem_of_edith.html" onClick="(function() { document.getElementById('example_problem_of_edith').setAttribute('open','open'); return true; })();" title="A conversation in which the main character tries to build logical connections between what the player is saying now and what went immediately before.">The Problem of Edith</a></span> ★★★ introduces one kind: the character has a concept of how different conversation topics relate to one another, so that when she is asked about a new keyword, she picks a response that makes the question most relevant to the conversation already in progress.</p>
<p>We end with a longer scenario, in which we track what the character knows about the player and the conversational state: in <span class="example-name"><a href="examples/chronic_hinting_syndrome.html" onClick="(function() { document.getElementById('example_chronic_hinting_syndrome').setAttribute('open','open'); return true; })();" title="Using name-printing rules to keep track of whether the player knows about objects, and also to highlight things he might want to follow up.">Chronic Hinting Syndrome</a></span> ★★★★, the main character guides conversation in the direction he intends it to go, with the player&#39;s sometimes-reluctant participation.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="RB_7.html#section_14" title="Other Characters &gt; Obedient Characters">Obedient Characters</a> for a character who needs to be taught how to perform actions before doing them.<br><a href="RB_7.html#section_12" title="Other Characters &gt; Characters Following a Script">Characters Following a Script</a> for a programmable robot who can be given whole sequences of actions to perform.<br></p></div><h3 id="section_12">RB §7.12 Characters Following a Script</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_11">7.11 Character Knowledge and Reasoning</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_13">7.13 Traveling Characters</a></div></div>
<p>So far we&#39;ve seen characters who will answer questions whenever the player feels like asking, and characters who will use some reasoning procedure to direct the conversation. There is a third option, often useful in IF with a fast-paced narrative: the character follows a conversational script, making sure to cover a series of points before the scene ends.</p>
<p>There are more and less tedious ways to implement this kind of scene. The worst case is one in which the player is not allowed to interrupt or ask any questions; he must merely wait until the character runs out of things to say. This can be useful and plausible in very small doses &ndash; say, two or three turns &ndash; but if the character has more information than that to impart, we may want to make the scene more interactive.</p>
<p><span class="example-name"><a href="examples/pine2.html" onClick="(function() { document.getElementById('example_pine2').setAttribute('open','open'); return true; })();" title="Pine: Adding a conversation with the princess, in which a basic set of facts must be covered before the scene is allowed to end.">Pine 2</a></span> ★★★ partly addresses this challenge: the character has a line of conversation that she wants to follow to its conclusion; we may ask questions along the way, but if we&#39;re silent, she&#39;ll take up the slack, and the scene won&#39;t end until she&#39;s done with what she has to say.</p>
<p>Another kind of script is a series of actions for the character to perform. <span class="example-name"><a href="examples/robo.html" onClick="(function() { document.getElementById('example_robo').setAttribute('open','open'); return true; })();" title="A robot which watches and records the player&#39;s actions, then tries to repeat them back in the same order when he is switched into play-back mode.">Robo</a></span> ★ demonstrates a programmable robot that will observe what the player does, then try to emulate the actions later when switched into play-back mode. <span class="example-name"><a href="examples/robo2.html" onClick="(function() { document.getElementById('example_robo2').setAttribute('open','open'); return true; })();" title="A robot which watches and records the player&#39;s actions, then tries to repeat them back in the same order when he is switched into play-back mode.">Robo 2</a></span> ★★★ extends this capacity to allow the robot to contain fifteen different scripts which the player can store, list, run, and erase.</p>
<p><span class="example-name"><a href="examples/your_mother_doesnt_work_here.html" onClick="(function() { document.getElementById('example_your_mother_doesnt_work_here').setAttribute('open','open'); return true; })();" title="Your hard-working mother uses a list as a stack: urgent tasks are added to the end of the list, interrupting longer-term plans.">Your Mother Doesn&#39;t Work Here</a></span> ★ offers a character with a list of tasks but whose plans can be interrupted by more urgent demands. This verges on not being a simple script any more: if we carry the idea to its natural conclusion, we get characters capable of planning scripts for themselves to accomplish their aims. This is conventionally called &quot;goal-seeking&quot;.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="RB_7.html#section_15" title="Other Characters &gt; Goal-Seeking Characters">Goal-Seeking Characters</a> for characters that work out plans for themselves in order to accomplish various outcomes.<br></p></div><h3 id="section_13">RB §7.13 Traveling Characters</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_12">7.12 Characters Following a Script</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_14">7.14 Obedient Characters</a></div></div>
<p>There are a number of ways we can make characters navigate our map. We might reasonably want them to approach and follow the player (as in <span class="example-name"><a href="examples/van_helsing.html" onClick="(function() { document.getElementById('example_van_helsing').setAttribute('open','open'); return true; })();" title="A character who approaches the player, then follows him from room to room.">Van Helsing</a></span> ★★); or to allow the player to follow characters who have left the room (as in <span class="example-name"><a href="examples/actaeon.html" onClick="(function() { document.getElementById('example_actaeon').setAttribute('open','open'); return true; })();" title="A FOLLOW command allowing the player to pursue a person who has just left the room.">Actaeon</a></span> ★★).</p>
<p>Characters who are less interested in the player will more likely follow their own courses around the available geography, however. A character may move randomly from room to room, as demonstrated in <span class="example-name"><a href="examples/mistress_of_animals.html" onClick="(function() { document.getElementById('example_mistress_of_animals').setAttribute('open','open'); return true; })();" title="A person who moves randomly between rooms of the map.">Mistress of Animals</a></span> ★; he may follow a path that we have specifically written in advance, as <span class="example-name"><a href="examples/odyssey.html" onClick="(function() { document.getElementById('example_odyssey').setAttribute('open','open'); return true; })();" title="A person who follows a path predetermined and stored in a table, and who can be delayed if the player tries to interact with her.">Odyssey</a></span> ★★ shows; or, most elegantly, he may use the &quot;best route&quot; calculation to find the best possible way to a given target room, as seen in <span class="example-name"><a href="examples/latris_theon.html" onClick="(function() { document.getElementById('example_latris_theon').setAttribute('open','open'); return true; })();" title="A person who can accept instructions to go to new destinations and move towards them according to the most reasonable path.">Latris Theon</a></span> ★★★.</p>
<p>This final method is arguably the neatest solution to character movement, allowing for characters to act in sophisticated ways; if we incorporate the Locksmith extension, other characters will even unlock and open doors that are in their way. The chief catch is that it should not be used too profligately with large numbers of characters, since on slow machines the processing power required to plan all their travel will make a noticeable difference to the running speed of the story.</p>
<p>All the same, the constraints are not so severe as to preclude having a moderate number of route-finding characters all wandering around at once. This does introduce a new problem, however: movement descriptions can become hard to follow if every turn produces long reams of reports such as</p>
<div class="codeblock"><div class="codeline">Joe enters the room from the south.</div>
<div class="codeline">Lawrence opens the gate.</div>
<div class="codeline">Lawrence departs to the west.</div>
<div class="codeline">Lucy comes in from above.</div>
<div class="codeline">Ted enters the room from the south.</div>
<div class="codeline">Bill departs to the west.</div>
</div><p><span class="example-name"><a href="examples/patient_zero.html" onClick="(function() { document.getElementById('example_patient_zero').setAttribute('open','open'); return true; })();" title="People who wander around the map performing various errands, and in the process spread a disease which only the player can eradicate.">Patient Zero</a></span> ★★★★ tackles this problem by calculating all of the character movement without printing any text; it then combines similar or related events into coherent paragraphs, as in</p>
<div class="codeblock"><div class="codeline">Rhoda and Antony walk into the Post Office. Rhoda could have been rolling in chocolate and Antony looks as though dipped in french vanilla.</div>
</div><p>or</p>
<div class="codeblock"><div class="codeline">Antony opens the iron gate. He goes through.</div>
</div><div class="see-also">
<h4>See Also</h4>
<p><a href="RB_3.html#section_5" title="Place &gt; Doors, Staircases, and Bridges">Doors, Staircases, and Bridges</a> for some technical details of allowing other characters to interact with doors when they're in rooms that don't contain the player.<br></p></div><h3 id="section_14">RB §7.14 Obedient Characters</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_13">7.13 Traveling Characters</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_15">7.15 Goal-Seeking Characters</a></div></div>
<p>Other characters can perform all the same activities that the player can; this does not always mean that they&#39;re willing to obey the player&#39;s instructions. By default, characters will refuse to obey commands of the form JULIA, WEST or ANTONY, TAKE THE PINCUSHION. Their objections can be overridden, however, and <span class="example-name"><a href="examples/hypnotist_of_blois.html" onClick="(function() { document.getElementById('example_hypnotist_of_blois').setAttribute('open','open'); return true; })();" title="A hypnotist who can make people obedient and then set them free again.">The Hypnotist of Blois</a></span> ★ implements a hypnotist who can make characters obedient at will.</p>
<p>In <span class="example-name"><a href="examples/for_demonstration_purposes.html" onClick="(function() { document.getElementById('example_for_demonstration_purposes').setAttribute('open','open'); return true; })();" title="A character who learns new actions by watching the player performing them.">For Demonstration Purposes</a></span> ★★★, the character is only capable of a few actions at the outset, but can be taught new ones if the player performs them first.</p>
<p>Often we want characters&#39; obedience to be more selective. Just as the viewpoint character may be characterized in terms of what he will and will not do, so may others: <span class="example-name"><a href="examples/generation_x.html" onClick="(function() { document.getElementById('example_generation_x').setAttribute('open','open'); return true; })();" title="A person who goes along with the player&#39;s instructions, but reluctantly, and will get annoyed after too many repetitions of the same kind of unsuccessful command.">Generation X</a></span> ★★ demonstrates a character who will do what she&#39;s told, but who will comment unfavorably when the player asks for a nonsensical or repeated action, and who may eventually get fed up and leave.</p>
<p>Characters can be given moral objections to certain commands, as well: <span class="example-name"><a href="examples/virtue.html" onClick="(function() { document.getElementById('example_virtue').setAttribute('open','open'); return true; })();" title="Defining certain kinds of behavior as inappropriate, so that other characters will refuse indignantly to do any such thing.">Virtue</a></span> ★ defines a few kinds of actions as bad, so that the character commanded will refuse to perform them.</p>
<p><span class="example-name"><a href="examples/under_contract.html" onClick="(function() { document.getElementById('example_under_contract').setAttribute('open','open'); return true; })();" title="Creating a person who accepts most instructions and reacts correctly when a request leads implicitly to inappropriate behavior.">Under Contract</a></span> ★★★★, more subtly, has the character object if the player&#39;s commands implicitly require any behavior he considers inappropriate: for instance, if the player commands him to put his pants in a container, he will work out that this requires the removal of the pants as a preliminary. If we want to implement a similar character, we may want to simply copy his unsuccessful attempt rule and the table of his retorts, then replace his banter with lines of our choosing.</p>
<p>The little example <span class="example-name"><a href="examples/latin_lessons.html" onClick="(function() { document.getElementById('example_latin_lessons').setAttribute('open','open'); return true; })();" title="Supplying missing nouns and second nouns for other characters besides the player.">Latin Lessons</a></span> ★ allows us to make characters clever about vague commands: we can, for instance, write rules so that CLARK, EAT will have Clark sensibly pick something edible, rather than having the parser ask what we want Clark to eat.</p>
<p>Finally, <span class="example-name"><a href="examples/northstar.html" onClick="(function() { document.getElementById('example_northstar').setAttribute('open','open'); return true; })();" title="Making Inform understand ASK JOSH TO TAKE INVENTORY as JOSH, TAKE INVENTORY. This requires us to use a regular expression on the player&#39;s command, replacing some of the content.">Northstar</a></span> ★★ demonstrates how we might make Inform understand commands of the form ASK JOSH TO TAKE INVENTORY or ORDER JOAN TO WEAR THE ARMOR.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="RB_7.html#section_12" title="Other Characters &gt; Characters Following a Script">Characters Following a Script</a> for a programmable robot who can be given whole sequences of actions to perform.<br></p></div><h3 id="section_15">RB §7.15 Goal-Seeking Characters</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_14">7.14 Obedient Characters</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div><div class="sect-navbar-right"><a href="#section_16">7.16 Social Groups</a></div></div>
<p>Goal-seeking characters are the most advanced IF life-form: they want to achieve specific outcomes, and they are able to work out plans of approach in order to bring these things about. They walk to rooms, open containers to search for things, use keys and tools, and ask leading questions in conversation.</p>
<p>A really advanced implementation of goal-seeking behavior is beyond the scope of our examples (though extensions exist that treat the problem more thoroughly). We can accomplish a surprising amount without heavy customization, though, if we keep in mind three points of technique:</p>
<p>First: it helps to think abstractly and to create broadly-defined actions as a first step to more specific tasks. For instance, a character&#39;s goal might be to eat some dinner. He&#39;d be equally satisfied with spaghetti carbonara or with braised lamb shanks, but he needs to figure out which is available. So we might have our every turn rule (or whatever we&#39;re using to activate the character) say something like</p>
<div class="codeblock"><div class="codeline">Every turn when Clark is hungry:</div>
<div class="codeline">&ensp;&ensp;try Clark dining.</div>
</div><p>Dining would then be an action we&#39;ve defined specially, which looks around Clark&#39;s environment for suitable food; if it finds food, it issues a</p>
<div class="codeblock"><div class="codeline">try Clark eating the suitable food;</div>
</div><p>command; but if not, it sends Clark off to look for something likely. <span class="example-name"><a href="examples/man_of_steel.html" onClick="(function() { document.getElementById('example_man_of_steel').setAttribute('open','open'); return true; })();" title="An escaping action which means &quot;go to any room you can reach from here&quot;, and is only useful to non-player characters.">The Man of Steel</a></span> ★★ demonstrates the use of this.</p>
<p>Second: though it doesn&#39;t actually contribute to the goal-seeking per se, lively reporting brings characters&#39; generated behavior to life.</p>
<div class="codeblock"><div class="codeline">Clark eats a donut.</div>
</div><p>doesn&#39;t characterize Clark very much, even though the eating may be part of a subtle, intelligent plan to seduce Lois Lane. We&#39;ll do better if we replace a lot of the character reporting rules: to that end, see the example <span class="example-name"><a href="examples/man_of_steel_excuses_himself.html" onClick="(function() { document.getElementById('example_man_of_steel_excuses_himself').setAttribute('open','open'); return true; })();" title="Elaborating the report rules to be more interesting than &quot;Clark goes west.&quot;">The Man of Steel Excuses Himself</a></span> ★★.</p>
<p>Third: goal-seeking characters notice when something is in the way of the action they want to perform. When that happens, they form a plan about how to remove the obstacle. We&#39;ve already seen this kind of implementation on the player&#39;s behalf: the player will pick up items before eating them, say. We can use Before rules to do similar things for other characters, as in</p>
<div class="codeblock"><div class="codeline">Before Clark eating the wrapped candy:</div>
<div class="codeline">&ensp;&ensp;try Clark unwrapping the candy;</div>
<div class="codeline">&ensp;&ensp;if the candy is wrapped, stop the action.</div>
</div><p>Here we&#39;ve set things up so that if Clark tries to eat the wrapped candy, he&#39;ll be interrupted by this other command; and if his unwrapping-the-candy attempt fails, he won&#39;t go on and eat the thing. <span class="example-name"><a href="examples/iq_test.html" onClick="(function() { document.getElementById('example_iq_test').setAttribute('open','open'); return true; })();" title="Introducing Ogg, a person who will unlock and open a container when the player tells him to get something inside.">IQ Test</a></span> ★ demonstrates a character who shows this kind of planning intelligence.</p>
<p>Because before-rules chain neatly, we can trigger whole plans of behavior if we have a sensible set, as in</p>
<div class="codeblock"><div class="codeline">Before someone entering a closed container: try the person asked opening the noun.</div>
<div class="codeline">Before someone opening a locked container: try the person asked unlocking the noun.</div>
<div class="codeline">Before someone unlocking a locked container: ...</div>
</div><p>We must exercise a little bit of care if it is possible for the chain of actions to produce an endless loop &ndash; e.g., the character trying to take a key that is inside the transparent, locked box that it opens might repeatedly try to open the box, first unlocking the box, first taking the key, first opening the box, &hellip; <span class="example-name"><a href="examples/boston_cream.html" onClick="(function() { document.getElementById('example_boston_cream').setAttribute('open','open'); return true; })();" title="A fuller implementation of Ogg, giving him a motivation of his own and allowing him to react to the situation created by the player.">Boston Cream</a></span> ★★★★ is a fully-worked scenario that deals with such a set of conundra.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="RB_7.html#section_13" title="Other Characters &gt; Traveling Characters">Traveling Characters</a> for characters who plan routes to locations and travel towards them.<br><a href="RB_4.html#section_3" title="Time and Plot &gt; Event Scheduling">Event Scheduling</a> for characters who follow a pre-written schedule of activities.<br><a href="RB_4.html#section_6" title="Time and Plot &gt; Plot Management">Plot Management</a> for having a central function direct all the characters in order to further the plot.<br></p></div><h3 id="section_16">RB §7.16 Social Groups</h3>
<div class="sect-navbar"><div class="sect-navbar-left"><a href="#section_15">7.15 Goal-Seeking Characters</a></div><div class="sect-navbar-center"><a href="#chapter_7">7. Other Characters</a></div></div>
<p>Crowds of characters introduce new challenges, because we often want to show them interacting with one another, or to describe individuals in less detail when a whole group is present.</p>
<p><span class="example-name"><a href="examples/strictly_ballroom.html" onClick="(function() { document.getElementById('example_strictly_ballroom').setAttribute('open','open'); return true; })();" title="People who select partners for dance lessons each turn.">Strictly Ballroom</a></span> ★★ gives us a set of characters who pair off each turn, making sure to mention each one once, and leaving one unfortunate person behind as a wallflower: this exemplifies how we might use a behavioral rule not to dictate the behavior of each individual separately but rather to model a whole group together. <span class="example-name"><a href="examples/happy_hour.html" onClick="(function() { document.getElementById('example_happy_hour').setAttribute('open','open'); return true; })();" title="Listing visible characters as a group, then giving some followup details in the same paragraph about specific ones.">Happy Hour</a></span> ★★ does calculate movements for characters individually, but then collates the descriptions, creating a single paragraph to describe whatever group is currently in the room.</p>
<p>Characters can also have complicated attitudes to one another, and it can be helpful to use relations to track these. <span class="example-name"><a href="examples/unthinkable_alliances.html" onClick="(function() { document.getElementById('example_unthinkable_alliances').setAttribute('open','open'); return true; })();" title="People are to be grouped into alliances. To kiss someone is to join his or her faction, which may make a grand alliance; to strike them is to give notice of quitting, and to become a lone wolf.">Unthinkable Alliances</a></span> ★ demonstrates the grouping of characters into alliance factions, while <span class="example-name"><a href="examples/abolition_of_love.html" onClick="(function() { document.getElementById('example_abolition_of_love').setAttribute('open','open'); return true; })();" title="A thorough exploration of all the kinds of relations established so far, with the syntax to set and unset them.">The Abolition of Love</a></span> ★ provides a host of relations to track love affairs, marriages, memberships in families, and mere mutual respect.</p>
<p><span class="example-name"><a href="examples/emma.html" onClick="(function() { document.getElementById('example_emma').setAttribute('open','open'); return true; })();" title="Social dynamics in which groups of people form and circulate during a party.">Emma</a></span> ★★ combines these two effects: its characters move between social groups depending on how they feel about the others in their particular talking circle, and descriptions change depending on who is where in the room.</p>
<p><span class="example-name"><a href="examples/lugubrious_petes_delicatessen.html" onClick="(function() { document.getElementById('example_lugubrious_petes_delicatessen').setAttribute('open','open'); return true; })();" title="In this evocation of supermarket deli counter life, a list is used as a queue to keep track of who is waiting to be served.">Lugubrious Pete&#39;s Delicatessen</a></span> ★ simulates a queue at a deli, in which the customers who most impress Pete get served first.</p>
<div class="see-also">
<h4>See Also</h4>
<p><a href="RB_7.html#section_13" title="Other Characters &gt; Traveling Characters">Traveling Characters</a> for groups of characters who move around and have their movements collated into a joint description.<br></p></div><div class="doc-navbar"><div class="doc-navbar-left"><a href="RB_6.html">6. Commands</a></div><div class="doc-navbar-right"><a href="RB_8.html">8. Vehicles, Animals and Furniture</a></div></div>
<nav><div class="nav-el"><a href="index.html">Contents</a></div> <div class="nav-el"><a href="examples/index.html">Examples</a></div> <div class="nav-el"><a href="general_index.html">Index</a></div> <div class="nav-el"><a href="search.html">Search</a></div></nav>
<footer id="credits-footer"><p><a href="http://inform7.com">Inform 7</a> and its documentation are &copy; 2006-<span id="current_year">2022</span> by Graham Nelson and published under the <a href="license.html">Artistic License 2.0</a>.</p><p class="about"><a href="about.html">About this edition</a> &bull; <a href="https://twitter.com/inform7tips">@inform7tips</a></p></footer>
</body></html>
